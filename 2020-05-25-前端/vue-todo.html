<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="悟空的技术博客"><title>vue 入门项目 | 悟空</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/normalize.css/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/purecss/build/pure-min.min.css"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/purecss/build/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"><script type="text/javascript" src="//cdn.jsdelivr.net/npm/clipboard/dist/clipboard.min.js"></script><script type="text/javascript" src="//cdn.jsdelivr.net/gh/codeseven/toastr/build/toastr.min.js"></script><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/codeseven/toastr/build/toastr.min.css"><meta name="generator" content="Hexo 5.2.0"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">vue 入门项目</h1><a id="logo" href="/.">悟空</a><p class="description">悟空的技术博客</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/tags/"><i class="fa fa-tag"> 标签</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">vue 入门项目</h1><div class="post-meta">2020-05-25<span> | </span><span class="category"><a href="/categories/%E5%89%8D%E7%AB%AF/">前端</a></span></div><div class="clear"><div class="toc-article" id="toc"><div class="toc-title">文章目录</div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80-%E9%A1%B9%E7%9B%AE%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="toc-text">一. 项目初始化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C-%E7%BC%96%E5%86%99%E9%A1%B9%E7%9B%AE%E5%85%A5%E5%8F%A3"><span class="toc-text">二. 编写项目入口</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E7%BC%96%E5%86%99-index-html"><span class="toc-text">1. 编写 index.html</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E7%BC%96%E5%86%99-vue-%E6%A0%B9%E5%AE%9E%E4%BE%8B"><span class="toc-text">2. 编写 vue 根实例</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%AE%89%E8%A3%85-vue"><span class="toc-text">1) 安装 vue</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%88%9B%E5%BB%BA-Vue-%E6%A0%B9%E5%AE%9E%E4%BE%8B"><span class="toc-text">2) 创建 Vue 根实例</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E6%8C%82%E8%BD%BD-App-%E7%BB%84%E4%BB%B6"><span class="toc-text">3) 挂载 App 组件</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%BC%95%E5%85%A5-main-js-%E6%B5%8B%E8%AF%95"><span class="toc-text">3. 引入 main.js 测试</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89-wepack-%E5%9F%BA%E6%9C%AC%E9%85%8D%E7%BD%AE"><span class="toc-text">三. wepack 基本配置</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%88%9B%E5%BB%BA-webpack-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-text">1. 创建 webpack 配置文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E7%BC%96%E5%86%99-webpack-%E8%84%9A%E6%9C%AC"><span class="toc-text">2. 编写 webpack 脚本</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%B5%8B%E8%AF%95"><span class="toc-text">3. 测试</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B-%E4%BD%BF%E7%94%A8-vue-loader-%E6%89%93%E5%8C%85-vue-%E6%96%87%E4%BB%B6"><span class="toc-text">四. 使用 vue-loader 打包 vue 文件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%AE%89%E8%A3%85-vue-loader"><span class="toc-text">1. 安装 vue-loader</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%AE%89%E8%A3%85-css-loader"><span class="toc-text">2. 安装 css-loader</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-webpack-%E9%85%8D%E7%BD%AE"><span class="toc-text">3. webpack 配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E9%87%8D%E6%96%B0%E6%89%93%E5%8C%85%E6%B5%8B%E8%AF%95"><span class="toc-text">4. 重新打包测试</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E5%B0%8F%E7%BB%93"><span class="toc-text">5. 小结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94-%E5%85%B6%E4%BB%96%E5%B8%B8%E7%94%A8-loader"><span class="toc-text">五. 其他常用 loader</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%89%93%E5%8C%85%E5%9B%BE%E7%89%87%E6%96%87%E4%BB%B6"><span class="toc-text">1. 打包图片文件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%EF%BC%89-file-loader"><span class="toc-text">1） file-loader</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%EF%BC%89url-loader"><span class="toc-text">2）url-loader</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%89%93%E5%8C%85-css-%E6%96%87%E4%BB%B6"><span class="toc-text">2. 打包 css 文件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%EF%BC%89%E5%AE%89%E8%A3%85"><span class="toc-text">1）安装</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%EF%BC%89%E9%85%8D%E7%BD%AE"><span class="toc-text">2）配置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%EF%BC%89%E6%B5%8B%E8%AF%95"><span class="toc-text">3）测试</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4%EF%BC%89%E4%BD%9C%E7%94%A8"><span class="toc-text">4）作用</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%89%93%E5%8C%85-stylus-%E6%96%87%E4%BB%B6"><span class="toc-text">3. 打包 stylus 文件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%EF%BC%89%E6%8E%A8%E8%8D%90-vscode-%E6%8F%92%E4%BB%B6%E4%B8%8E%E9%85%8D%E7%BD%AE"><span class="toc-text">1）推荐 vscode 插件与配置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%EF%BC%89%E6%89%93%E5%8C%85-stylus-%E6%96%87%E4%BB%B6"><span class="toc-text">2）打包 stylus 文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%EF%BC%89%E5%A4%84%E7%90%86-vue-%E6%96%87%E4%BB%B6%E4%B8%AD%E7%9A%84-stylus"><span class="toc-text">3）处理 vue 文件中的 stylus</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AD-%E6%8F%92%E4%BB%B6"><span class="toc-text">六. 插件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E4%BD%BF%E7%94%A8-html-webpack-plugin-%E6%8F%92%E4%BB%B6"><span class="toc-text">1. 使用 html-webpack-plugin 插件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%EF%BC%89%E5%AE%89%E8%A3%85-1"><span class="toc-text">1）安装</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%EF%BC%89%E9%85%8D%E7%BD%AE-1"><span class="toc-text">2）配置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%EF%BC%89%E6%89%93%E5%8C%85%E6%B5%8B%E8%AF%95"><span class="toc-text">3）打包测试</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4%EF%BC%89%E6%8C%87%E5%AE%9A%E6%A8%A1%E6%9D%BF"><span class="toc-text">4）指定模板</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5%EF%BC%89%E5%B0%8F%E7%BB%93"><span class="toc-text">5）小结</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E4%BD%BF%E7%94%A8-clean-webpack-plugin"><span class="toc-text">2. 使用 clean-webpack-plugin</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%EF%BC%89%E5%AE%89%E8%A3%85-2"><span class="toc-text">1）安装</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%EF%BC%89%E9%85%8D%E7%BD%AE-2"><span class="toc-text">2）配置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%EF%BC%89%E6%B5%8B%E8%AF%95-1"><span class="toc-text">3）测试</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E4%BD%BF%E7%94%A8-autoprefixer-%E6%8F%92%E4%BB%B6"><span class="toc-text">3. 使用 autoprefixer 插件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%EF%BC%89%E5%AE%89%E8%A3%85-3"><span class="toc-text">1）安装</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%EF%BC%89%E9%85%8D%E7%BD%AE-3"><span class="toc-text">2）配置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%EF%BC%89%E6%B5%8B%E8%AF%95-2"><span class="toc-text">3）测试</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%83-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83"><span class="toc-text">七. 开发环境</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-devServer"><span class="toc-text">1. devServer</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%EF%BC%89%E9%85%8D%E7%BD%AE%E8%AF%B4%E6%98%8E"><span class="toc-text">1）配置说明</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%EF%BC%89%E5%AE%89%E8%A3%85"><span class="toc-text">2）安装</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%EF%BC%89%E5%9F%BA%E6%9C%AC%E9%85%8D%E7%BD%AE"><span class="toc-text">3）基本配置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4%EF%BC%89%E6%B5%8B%E8%AF%95"><span class="toc-text">4）测试</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5%EF%BC%89%E9%97%AE%E9%A2%98"><span class="toc-text">5）问题</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-HRM-%E7%83%AD%E6%A8%A1%E5%9D%97%E6%9B%BF%E6%8D%A2"><span class="toc-text">2. HRM-热模块替换</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%EF%BC%89%E5%90%AF%E7%94%A8"><span class="toc-text">1）启用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%EF%BC%89%E6%B5%8B%E8%AF%95"><span class="toc-text">2）测试</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-SourceMap-%E6%BA%90%E4%BB%A3%E7%A0%81%E6%98%A0%E5%B0%84"><span class="toc-text">3. SourceMap-源代码映射</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%90%AF%E7%94%A8"><span class="toc-text">启用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95"><span class="toc-text">测试</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AB-%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83"><span class="toc-text">八. 生产环境</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%88%86%E5%BC%80%E4%B8%BA%E4%B8%A4%E4%B8%AA%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-text">1. 分开为两个配置文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%8F%90%E5%8F%96%E5%85%AC%E5%85%B1%E9%83%A8%E5%88%86"><span class="toc-text">2. 提取公共部分</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%EF%BC%89%E5%AE%89%E8%A3%85-webpack-merge"><span class="toc-text">1）安装 webpack-merge</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%EF%BC%89%E5%88%9B%E5%BB%BA-build-%E7%9B%AE%E5%BD%95"><span class="toc-text">2）创建 build 目录</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%EF%BC%89%E6%94%B9%E5%86%99-package-%E8%84%9A%E6%9C%AC%E9%85%8D%E7%BD%AE"><span class="toc-text">3）改写 package 脚本配置</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B9%9D-babel-%E8%A7%A3%E6%9E%90-ES6-%E8%AF%AD%E6%B3%95"><span class="toc-text">九. babel-解析 ES6 语法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%81-%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%BE%E8%AE%A1"><span class="toc-text">十. 需求分析与设计</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%8A%9F%E8%83%BD%E6%BC%94%E7%A4%BA"><span class="toc-text">1. 功能演示</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%EF%BC%89%E9%85%8D%E8%89%B2%E6%96%B9%E6%A1%88"><span class="toc-text">1）配色方案</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%EF%BC%89%E6%88%90%E5%93%81%E6%95%88%E6%9E%9C%E5%9B%BE"><span class="toc-text">2）成品效果图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%EF%BC%89%E9%A1%B9%E7%9B%AE%E5%87%86%E5%A4%87"><span class="toc-text">3）项目准备</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E7%BB%84%E4%BB%B6%E6%8B%86%E5%88%86"><span class="toc-text">2. 组件拆分</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84%E4%B8%8E%E6%A1%86%E6%9E%B6%E6%90%AD%E5%BB%BA"><span class="toc-text">3. 目录结构与框架搭建</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%81%E4%B8%80-MainHeader-%E7%BB%84%E4%BB%B6%E5%AE%9E%E7%8E%B0"><span class="toc-text">十一. MainHeader 组件实现</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E9%A1%B5%E9%9D%A2%E6%98%BE%E7%A4%BA"><span class="toc-text">1. 页面显示</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%A0%B7%E5%BC%8F"><span class="toc-text">2. 样式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-CSS-%E6%A8%A1%E5%9D%97%E5%8C%96"><span class="toc-text">3. CSS 模块化</span></a></li></ol></li></ol></div></div><div class="post-content"><ul>
<li>webpack 入门</li>
<li>vue 入门</li>
</ul>
<a id="more"></a>

<h2 id="一-项目初始化"><a href="#一-项目初始化" class="headerlink" title="一. 项目初始化"></a>一. 项目初始化</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 初始化项目</span></span><br><span class="line">npm init -y</span><br><span class="line"><span class="comment"># 安装 webpack</span></span><br><span class="line">npm install webpack webpack-cli -D</span><br></pre></td></tr></table></figure>
<p>webpack学习 =&gt; <a href="https://webpack.docschina.org/guides/getting-started/">官方文档</a></p>
<h2 id="二-编写项目入口"><a href="#二-编写项目入口" class="headerlink" title="二. 编写项目入口"></a>二. 编写项目入口</h2><h3 id="1-编写-index-html"><a href="#1-编写-index-html" class="headerlink" title="1. 编写 index.html"></a>1. 编写 index.html</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>从零开始打造Todo应用<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="2-编写-vue-根实例"><a href="#2-编写-vue-根实例" class="headerlink" title="2. 编写 vue 根实例"></a>2. 编写 vue 根实例</h3><p>创建 src 目录，在 src 下创建 main.js 作为项目的总入口文件</p>
<h4 id="1-安装-vue"><a href="#1-安装-vue" class="headerlink" title="1) 安装 vue"></a>1) 安装 vue</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install vue</span><br></pre></td></tr></table></figure>
<h4 id="2-创建-Vue-根实例"><a href="#2-创建-Vue-根实例" class="headerlink" title="2) 创建 Vue 根实例"></a>2) 创建 Vue 根实例</h4><p>编写 main.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 从 vue 包中导入 Vue 对象</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="comment">// 创建 Vue 根实例</span></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el: <span class="string">&#x27;#app&#x27;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h4 id="3-挂载-App-组件"><a href="#3-挂载-App-组件" class="headerlink" title="3) 挂载 App 组件"></a>3) 挂载 App 组件</h4><p><strong>Step1 编写 App.vue 文件</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;this is App&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name: &#39;App&#39;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>
<p><strong>Step2 挂载到根实例</strong><br>在 main.js 中</p>
<ol>
<li>导入 App 组件对象</li>
<li>挂载到 Vue 根实例<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 从 vue 包中导入 Vue 对象</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="comment">// 导入 App 组件对象</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="comment">// 创建 Vue 根实例</span></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">    components: &#123;</span><br><span class="line">        <span class="comment">// 组件名：组件对象</span></span><br><span class="line">        <span class="comment">// ES6 中，当键名和值名相同时可以简写</span></span><br><span class="line">        App</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 一个字符串模板作为 Vue 实例的标识使用。</span></span><br><span class="line">    <span class="comment">// 模板将会替换挂载的元素。</span></span><br><span class="line">    <span class="comment">// 挂载元素的内容都将被忽略，除非模板的内容有分发插槽。</span></span><br><span class="line">    <span class="comment">// 使用 App 标签渲染，也就是 App.vue 组件</span></span><br><span class="line">    <span class="comment">// 理解：App 组件将替换 id=app 的元素</span></span><br><span class="line">    template: <span class="string">&#x27;&lt;App/&gt;&#x27;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<a href="https://cn.vuejs.org/v2/api/#template">构造 vue 实例中 template 选项含义</a></li>
</ol>
<p><strong>Step3 使用 App 标签渲染</strong><br><code>template: &#39;&lt;App/&gt;&#39;</code> 这里的 App 相当于在 components 中定义的组件名</p>
<h3 id="3-引入-main-js-测试"><a href="#3-引入-main-js-测试" class="headerlink" title="3. 引入 main.js 测试"></a>3. 引入 main.js 测试</h3><p>在 index.html 主页文件中引入 main.js，<strong>测试发现报错！！！</strong></p>
<p><img src="../../images/%E5%89%8D%E7%AB%AF/vue-todo/%E4%B8%BA%E5%95%A5%E9%9C%80%E8%A6%81%E6%89%93%E5%8C%85.png"></p>
<p>因为浏览器是不认识 import 这些东西的，因此需要使用 webpack 完成打包。</p>
<blockquote>
<p><strong>为啥需要打包？</strong></p>
<p>因为有些语法和代码浏览器不认识，需要打包工具翻译一下。</p>
</blockquote>
<h2 id="三-wepack-基本配置"><a href="#三-wepack-基本配置" class="headerlink" title="三. wepack 基本配置"></a>三. wepack 基本配置</h2><p>为了让浏览器能够正确的解析, 我们需要使用 webpack 将我们的源代码进行打包</p>
<h3 id="1-创建-webpack-配置文件"><a href="#1-创建-webpack-配置文件" class="headerlink" title="1. 创建 webpack 配置文件"></a>1. 创建 webpack 配置文件</h3><p>在根目录下创建 webpack 配置文件 webpack.config.js, 编写最基本的配置</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 使用 node 的 path 模块</span></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    <span class="comment">// 打包的入口</span></span><br><span class="line">    entry: <span class="string">&#x27;./src/main.js&#x27;</span>,</span><br><span class="line">    <span class="comment">// 打包的出口</span></span><br><span class="line">    output: &#123;</span><br><span class="line">        filename: <span class="string">&#x27;bundle.js&#x27;</span>,</span><br><span class="line">        <span class="comment">// resolve? __dirname??</span></span><br><span class="line">        path: path.resolve(__dirname, <span class="string">&#x27;dist&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>entry:指定打包的入口</li>
<li>output:指定打包的出口<h3 id="2-编写-webpack-脚本"><a href="#2-编写-webpack-脚本" class="headerlink" title="2. 编写 webpack 脚本"></a>2. 编写 webpack 脚本</h3>在 package.json 中，创建一个执行脚本。<code>&quot;build&quot;: &quot;webpack&quot;</code><h3 id="3-测试"><a href="#3-测试" class="headerlink" title="3. 测试"></a>3. 测试</h3>这样就可以执行<code>npm run build</code>来执行 webpack 打包了。<br>发现会报如下错误：<br><img src="../../images/%E5%89%8D%E7%AB%AF/vue-todo/%E6%89%93%E5%8C%85%E6%8A%A5%E9%94%99.png"><br>原因是: webpack 只能打包 js 文件. 对于后缀名为 vue 的文件不能打包. <strong>如何解决</strong> 呢?</li>
</ul>
<p><strong>通过 vue-loader 来打包 vue 文件</strong></p>
<h2 id="四-使用-vue-loader-打包-vue-文件"><a href="#四-使用-vue-loader-打包-vue-文件" class="headerlink" title="四. 使用 vue-loader 打包 vue 文件"></a>四. 使用 vue-loader 打包 vue 文件</h2><p><a href="https://vue-loader.vuejs.org/zh/guide/#vue-cli">vue-loader 官网</a></p>
<h3 id="1-安装-vue-loader"><a href="#1-安装-vue-loader" class="headerlink" title="1. 安装 vue-loader"></a>1. 安装 vue-loader</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -D vue-loader vue-templete-compiler</span><br></pre></td></tr></table></figure>

<h3 id="2-安装-css-loader"><a href="#2-安装-css-loader" class="headerlink" title="2. 安装 css-loader"></a>2. 安装 css-loader</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -D css-loader</span><br></pre></td></tr></table></figure>

<h3 id="3-webpack-配置"><a href="#3-webpack-配置" class="headerlink" title="3. webpack 配置"></a>3. webpack 配置</h3><p>需要添加一个插件</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 使用 node 的 path 模块</span></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 引入 vue-loader 插件</span></span><br><span class="line"><span class="keyword">const</span> VueLoaderPlugin = <span class="built_in">require</span>(<span class="string">&#x27;vue-loader/lib/plugin&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    <span class="comment">// 打包模式</span></span><br><span class="line">    mode: <span class="string">&#x27;development&#x27;</span>,</span><br><span class="line">    <span class="comment">// 打包的入口</span></span><br><span class="line">    entry: <span class="string">&#x27;./src/main.js&#x27;</span>,</span><br><span class="line">    <span class="comment">// 打包的出口</span></span><br><span class="line">    output: &#123;</span><br><span class="line">        filename: <span class="string">&#x27;bundle.js&#x27;</span>,</span><br><span class="line">        <span class="comment">// resolve? __dirname??</span></span><br><span class="line">        path: path.resolve(__dirname, <span class="string">&#x27;dist&#x27;</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 打包规则</span></span><br><span class="line">    <span class="built_in">module</span>: &#123;</span><br><span class="line">        rules: [</span><br><span class="line">            &#123;</span><br><span class="line">                test: <span class="regexp">/\.vue$/</span>,</span><br><span class="line">                loader: <span class="string">&#x27;vue-loader&#x27;</span></span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    plugins: [</span><br><span class="line">        <span class="comment">// 引入 vue-loader 插件</span></span><br><span class="line">        <span class="keyword">new</span> VueLoaderPlugin()</span><br><span class="line">    ],</span><br><span class="line">    resolve: &#123;</span><br><span class="line">        alias: &#123;</span><br><span class="line">            <span class="string">&#x27;vue&#x27;</span>: <span class="string">&#x27;vue/dist/vue.js&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-重新打包测试"><a href="#4-重新打包测试" class="headerlink" title="4. 重新打包测试"></a>4. 重新打包测试</h3><p>重新打包，会在 dist 目录下生成 bundle.js</p>
<p>在 index.html 中引入 bundle.js 测试，发现报错</p>
<p><img src="../../images/%E5%89%8D%E7%AB%AF/vue-todo/%E8%BF%90%E8%A1%8C%E6%97%B6%E5%8C%85%E5%AF%BC%E8%87%B4%E6%8A%A5%E9%94%99.png"></p>
<p><strong>报错原因</strong></p>
<p>Vue 会打包生成三个文件:</p>
<ul>
<li>runtime only 的文件 vue.common.js</li>
<li>compiler only 的文件 compiler.js</li>
<li>runtime + compiler 的文件 vue.js</li>
</ul>
<p>而默认导出的是 vue.common.js, 如何解决呢?</p>
<p><strong>解决</strong></p>
<p>在 webpack 中，添加别名的配置</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">resolve: &#123;</span><br><span class="line">    alias: &#123;</span><br><span class="line">        <span class="string">&#x27;vue&#x27;</span>: <span class="string">&#x27;vue/dist/vue.js&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>重新打包测试。正常出现<code>this is App</code>字样。</p>
<h3 id="5-小结"><a href="#5-小结" class="headerlink" title="5. 小结"></a>5. 小结</h3><blockquote>
<p><strong>小结</strong></p>
<ol>
<li>webpack 本身只能打包 js 文件，如果要打包其他文件就需要借助于 loader</li>
<li>loader 起始就是专门用于打包特定文件的处理程序</li>
</ol>
</blockquote>
<h2 id="五-其他常用-loader"><a href="#五-其他常用-loader" class="headerlink" title="五. 其他常用 loader"></a>五. 其他常用 loader</h2><h3 id="1-打包图片文件"><a href="#1-打包图片文件" class="headerlink" title="1. 打包图片文件"></a>1. 打包图片文件</h3><h4 id="1）-file-loader"><a href="#1）-file-loader" class="headerlink" title="1） file-loader"></a>1） file-loader</h4><p><a href="https://www.webpackjs.com/loaders/file-loader/"><strong>file-loader 官方文档</strong></a></p>
<blockquote>
<p>file-loader：将文件<strong>复制</strong>到对应的路径，并返回文件名</p>
</blockquote>
<p><strong>i 安装</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -D file-loader</span><br></pre></td></tr></table></figure>

<p><strong>ii 配置</strong></p>
<p>修改 webpack 配置,添加一条规则</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 图片文件用 file-loader 打包</span></span><br><span class="line">    test: <span class="regexp">/\.(jpg|jpeg|png|svg)$/</span>,</span><br><span class="line">    loader: <span class="string">&#x27;file-loader&#x27;</span>,</span><br><span class="line">    options: &#123;</span><br><span class="line">        <span class="comment">// name占位符表示使用员文件名称</span></span><br><span class="line">        <span class="comment">// ext占位符表示使用原文件扩展名</span></span><br><span class="line">        name: <span class="string">&#x27;[name].[ext]&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>iii 测试</strong></p>
<p>在 src 目录下创建 assets 目录,存放静态资源文件。在 images 下放一张图片</p>
<p>在 App.vue 中导入图片，重新打包，会在 dist 目录下生成我们需要的图片</p>
<h4 id="2）url-loader"><a href="#2）url-loader" class="headerlink" title="2）url-loader"></a>2）url-loader</h4><blockquote>
<p><font color="blue">url-loader：功能类似于<code>file-loader</code>，但是在文件大小（单位 byte）低于指定的限制时，可以返回一个 DataURL。</font></p>
</blockquote>
<p>好处是：<strong>直接将小图片以 base64 打包在 js 中，减少 Http 请求的次数，提高访问效率</strong></p>
<p><strong>i 安装</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -D url-loader</span><br></pre></td></tr></table></figure>

<p><strong>ii 配置</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    test: <span class="regexp">/\.(jpg|jpeg|png|svg)$/</span>,</span><br><span class="line">    loader: <span class="string">&#x27;url-loader&#x27;</span>,</span><br><span class="line">    options: &#123;</span><br><span class="line">        name: <span class="string">&#x27;[name].[ext]&#x27;</span>,</span><br><span class="line">        limit: <span class="number">4096</span></span><br><span class="line">    &#125;                </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>iii 测试</strong></p>
<p>复制两张小的 svg 图片到 assets 目录下. 并在 App.vue 中导入</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 导入小图片，测试 url-loader</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./assets/images/test.svg&#x27;</span></span><br></pre></td></tr></table></figure>

<p><strong>结果：dist 目录下没有 test.svg 文件，在 bundle.js 追中发现 test.svg 直接打包到 js 中了。</strong></p>
<h3 id="2-打包-css-文件"><a href="#2-打包-css-文件" class="headerlink" title="2. 打包 css 文件"></a>2. 打包 css 文件</h3><p><a href="https://www.webpackjs.com/loaders/css-loader/"><strong>css-loader官方文档</strong></a></p>
<h4 id="1）安装"><a href="#1）安装" class="headerlink" title="1）安装"></a>1）安装</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># css-loader 在安装 vue-loader 时已经安装，可以通过`package.json`确认</span></span><br><span class="line"><span class="comment"># style-loader</span></span><br><span class="line">npm install -D style-loader</span><br></pre></td></tr></table></figure>

<h4 id="2）配置"><a href="#2）配置" class="headerlink" title="2）配置"></a>2）配置</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">    <span class="comment">// 配置两个 loader 打包 css 文件</span></span><br><span class="line">    <span class="comment">// 顺序从右到左，从下到上</span></span><br><span class="line">    use: [<span class="string">&#x27;style-loader&#x27;</span>, <span class="string">&#x27;css-loader&#x27;</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><font color="#CDAD00"><strong>注意</strong></font></p>
<p><strong>这里的顺序是有讲究的，从右到左，从下到上</strong></p>
</blockquote>
<h4 id="3）测试"><a href="#3）测试" class="headerlink" title="3）测试"></a>3）测试</h4><p>在 styles 目录下创建 reset.css 和 test.css 文件, 编写如下内容</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* reset.css */</span></span><br><span class="line">* &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* test.css */</span></span><br><span class="line"><span class="comment">/* css-loader 合并文件；</span></span><br><span class="line"><span class="comment">   style-loader 把样式挂载到 head 标签下 */</span></span><br><span class="line"><span class="keyword">@import</span> <span class="string">&#x27;./reset.css&#x27;</span></span><br></pre></td></tr></table></figure>

<p>在 App.vue 中导入 test.css</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 导入 css</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./assets/styles/test.css&#x27;</span></span><br></pre></td></tr></table></figure>

<p>重新打包，测试样式生效</p>
<h4 id="4）作用"><a href="#4）作用" class="headerlink" title="4）作用"></a>4）作用</h4><ul>
<li>css-loader：解决文件之间的依赖关系，把所有 css 文件打包成一个文件</li>
<li>style-loader：将 css-loader 打包完成后生成的文件挂载到页面 head 标签的 style 中</li>
</ul>
<h3 id="3-打包-stylus-文件"><a href="#3-打包-stylus-文件" class="headerlink" title="3. 打包 stylus 文件"></a>3. 打包 stylus 文件</h3><p>目前, stylus 做为 node 项目普通使用的 css 预处理器被广泛的应用于 vue 项目中. 大家会发现大部分的 vue 项目中都会使用 stylus 来编写 css</p>
<h4 id="1）推荐-vscode-插件与配置"><a href="#1）推荐-vscode-插件与配置" class="headerlink" title="1）推荐 vscode 插件与配置"></a>1）推荐 vscode 插件与配置</h4><ul>
<li>language-stylus：提供语法高亮和一些支持</li>
<li>Supremacy：自动格式化 stylus 的插件, 可以根据个人习惯或公司的要求, 定制 stylus 格式. 比如是否要<code>;</code>, <code>:</code></li>
</ul>
<p>配置 settings.json</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// stylus 不使用 &#123;&#125;</span></span><br><span class="line">&quot;stylusSupremacy.insertBraces&quot;: false,</span><br><span class="line"><span class="comment">// stylus 不使用 ;</span></span><br><span class="line">&quot;stylusSupremacy.insertSemicolons&quot;: false,</span><br></pre></td></tr></table></figure>

<p>配置之后 stylus 的样子：</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> </span><br><span class="line">    <span class="attribute">background-color</span>: red</span><br></pre></td></tr></table></figure>

<h4 id="2）打包-stylus-文件"><a href="#2）打包-stylus-文件" class="headerlink" title="2）打包 stylus 文件"></a>2）打包 stylus 文件</h4><p><strong>i 安装 stylus-loader</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -D stylus stylus-loader</span><br></pre></td></tr></table></figure>

<ul>
<li>stylus: 是 stylus 文件预处理程序, 作用是将 stylus 编译成 css 格式</li>
<li>stylus-loader: 加载 stylus 文件, 调用 stylus 预处理程序形成 css 文件</li>
</ul>
<p><strong>ii 配置</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    test: <span class="regexp">/\.styl(us)?$/</span>,</span><br><span class="line">    use: [<span class="string">&#x27;style-loader&#x27;</span>, <span class="string">&#x27;css-loader&#x27;</span>, <span class="string">&#x27;stylus-loader&#x27;</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>iii 测试</strong></p>
<p>在 styles 下编写 global.styl 文件, 编写如下内容, 这个也是<strong>响应式背景全屏</strong>的方案</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">body</span><br><span class="line">  <span class="comment">// 背景图片</span></span><br><span class="line">  <span class="attribute">background-image</span>: url(<span class="string">&#x27;..//images/todolist/bg.jpg&#x27;</span>)</span><br><span class="line">  <span class="comment">// 背景图片位置固定</span></span><br><span class="line">  <span class="attribute">background-attachment</span>: fixed</span><br><span class="line">  <span class="comment">// 背景不要重复</span></span><br><span class="line">  <span class="attribute">background-repeat</span>: no-repeat</span><br><span class="line">  <span class="comment">// 背景位置居中</span></span><br><span class="line">  <span class="attribute">background-position</span>: center center</span><br><span class="line">  <span class="comment">// 背景覆盖整个viewport</span></span><br><span class="line">  <span class="attribute">background-size</span>: cover</span><br><span class="line">  <span class="comment">// 当背景没有加载时的颜色</span></span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#fff</span></span><br></pre></td></tr></table></figure>

<p>在 App.vue 中引入 global.styl</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 导入 stylus 样式文件</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./assets/styles/global.stylus&#x27;</span></span><br></pre></td></tr></table></figure>

<h4 id="3）处理-vue-文件中的-stylus"><a href="#3）处理-vue-文件中的-stylus" class="headerlink" title="3）处理 vue 文件中的 stylus"></a>3）处理 vue 文件中的 stylus</h4><p><a href="https://vue-loader.vuejs.org/zh/guide/pre-processors.html#stylus"><strong>vue-loader 关于 stylus 官方文档</strong></a></p>
<p><strong>i 安装</strong></p>
<p>stylus、stylus-loader 已经安装</p>
<p><strong>ii 配置</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    test: <span class="regexp">/\.styl(us)?$/</span>,</span><br><span class="line">    use: [<span class="string">&#x27;vue-style-loader&#x27;</span>, <span class="string">&#x27;css-loader&#x27;</span>, <span class="string">&#x27;stylus-loader&#x27;</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>vue-style-loader: 是 vue-loader 自带的 style-loader, 在 style-loader 的基础上, 还可以处理 vue 文件中的样式</li>
</ul>
<p><strong>iii 测试</strong></p>
<p>修改 App.vue 文字样式</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;style lang=<span class="string">&quot;stylus&quot;</span> scoped&gt;</span><br><span class="line">    <span class="selector-tag">h1</span> </span><br><span class="line">        <span class="attribute">color</span>: white</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<p><strong>使用<code>vue-style-loader</code>失败了，反而直接用<code>style-loader</code>成功了？</strong></p>
<h2 id="六-插件"><a href="#六-插件" class="headerlink" title="六. 插件"></a>六. 插件</h2><blockquote>
<p><strong>什么是插件？</strong></p>
<p>在某个时间点，自动执行的处理程序（类似于 vue 的生命周期函数）</p>
</blockquote>
<h3 id="1-使用-html-webpack-plugin-插件"><a href="#1-使用-html-webpack-plugin-插件" class="headerlink" title="1. 使用 html-webpack-plugin 插件"></a>1. 使用 html-webpack-plugin 插件</h3><p><a href="https://www.webpackjs.com/plugins/html-webpack-plugin/">官方文档</a></p>
<h4 id="1）安装-1"><a href="#1）安装-1" class="headerlink" title="1）安装"></a>1）安装</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -D html-webpack-plugin</span><br></pre></td></tr></table></figure>

<h4 id="2）配置-1"><a href="#2）配置-1" class="headerlink" title="2）配置"></a>2）配置</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 引入 html-webpack-plugin 插件</span></span><br><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">&#x27;html-webpack-plugin&#x27;</span>)</span><br><span class="line"></span><br><span class="line">plugins: [</span><br><span class="line">    <span class="comment">// 引入 vue-loader 插件</span></span><br><span class="line">    <span class="keyword">new</span> VueLoaderPlugin(),</span><br><span class="line">    <span class="keyword">new</span> HtmlWebpackPlugin()</span><br><span class="line">],</span><br></pre></td></tr></table></figure>

<h4 id="3）打包测试"><a href="#3）打包测试" class="headerlink" title="3）打包测试"></a>3）打包测试</h4><p>dist 目录下成功生成 index.html 文件，并且引入了 bundle.js，但是没有 #app 元素。</p>
<h4 id="4）指定模板"><a href="#4）指定模板" class="headerlink" title="4）指定模板"></a>4）指定模板</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">    template: <span class="string">&#x27;./index.html&#x27;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="5）小结"><a href="#5）小结" class="headerlink" title="5）小结"></a>5）小结</h4><p>html-webpack-plugin 的作用：在<strong>打包结束</strong>时, 在 dist 目录下自动生成 index.html 文件, 并把打包好的 js 文件引入到 html 中</p>
<h3 id="2-使用-clean-webpack-plugin"><a href="#2-使用-clean-webpack-plugin" class="headerlink" title="2. 使用 clean-webpack-plugin"></a>2. 使用 clean-webpack-plugin</h3><h4 id="1）安装-2"><a href="#1）安装-2" class="headerlink" title="1）安装"></a>1）安装</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -D clean-webpack-plugin</span><br></pre></td></tr></table></figure>

<h4 id="2）配置-2"><a href="#2）配置-2" class="headerlink" title="2）配置"></a>2）配置</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 引入 clean-webpack-plugin 插件</span></span><br><span class="line"><span class="keyword">const</span> &#123; CleanWebpackPlugin &#125; = <span class="built_in">require</span>(<span class="string">&#x27;clean-webpack-plugin&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> CleanWebpackPlugin()</span><br></pre></td></tr></table></figure>

<h4 id="3）测试-1"><a href="#3）测试-1" class="headerlink" title="3）测试"></a>3）测试</h4><p>每次打包前清理了 dist 文件夹</p>
<h3 id="3-使用-autoprefixer-插件"><a href="#3-使用-autoprefixer-插件" class="headerlink" title="3. 使用 autoprefixer 插件"></a>3. 使用 autoprefixer 插件</h3><h4 id="1）安装-3"><a href="#1）安装-3" class="headerlink" title="1）安装"></a>1）安装</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -D postcss-loader autoprefixer@8.0.0</span><br></pre></td></tr></table></figure>

<h4 id="2）配置-3"><a href="#2）配置-3" class="headerlink" title="2）配置"></a>2）配置</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    test: <span class="regexp">/\.styl(us)?$/</span>,</span><br><span class="line">    use: [<span class="string">&#x27;style-loader&#x27;</span>, <span class="string">&#x27;css-loader&#x27;</span>, <span class="string">&#x27;postcss-loader&#x27;</span>, <span class="string">&#x27;stylus-loader&#x27;</span>]</span><br><span class="line">&#125;</span><br><span class="line"># 新建 postcss.config.js 配置文件</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    plugins: [<span class="built_in">require</span>(<span class="string">&#x27;autoprefixer&#x27;</span>)]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="3）测试-2"><a href="#3）测试-2" class="headerlink" title="3）测试"></a>3）测试</h4><p>测试发现自动添加浏览器厂商前缀。</p>
<h2 id="七-开发环境"><a href="#七-开发环境" class="headerlink" title="七. 开发环境"></a>七. 开发环境</h2><h3 id="1-devServer"><a href="#1-devServer" class="headerlink" title="1. devServer"></a>1. devServer</h3><p><code>webpack-dev-server</code> 为你提供了一个简单的 web 服务器，并且能够实时重新加载(live reloading)。</p>
<h4 id="1）配置说明"><a href="#1）配置说明" class="headerlink" title="1）配置说明"></a>1）配置说明</h4><p><a href="https://www.webpackjs.com/guides/development/#%E4%BD%BF%E7%94%A8-webpack-dev-server">官方文档</a> <a href="https://www.webpackjs.com/configuration/dev-server/">官方配置文档</a></p>
<ul>
<li>contentBase:告诉服务器从哪里提供内容</li>
<li>open:打开浏览器</li>
<li>host: 服务器主机</li>
<li>port: 端口</li>
<li>open: 打开浏览器</li>
<li>hot: 热模块替换</li>
<li>proxy: 代理</li>
</ul>
<h4 id="2）安装"><a href="#2）安装" class="headerlink" title="2）安装"></a>2）安装</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">npm install -D webpack-dev-server</span><br><span class="line"><span class="comment"># webpack5 有兼容性问题。用一些版本可正常启动</span></span><br><span class="line">npm uninstall webpack webpack-cli webpack-dev-server</span><br><span class="line">npm install -D webpack@4.43.0 webpack-cli@3.3.12 webpack-dev-server@3.11.0</span><br></pre></td></tr></table></figure>

<h4 id="3）基本配置"><a href="#3）基本配置" class="headerlink" title="3）基本配置"></a>3）基本配置</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># webpack.config.js</span><br><span class="line">devServer: &#123;</span><br><span class="line">    contentBase: <span class="string">&#x27;./dist&#x27;</span>,</span><br><span class="line">    open: <span class="literal">true</span></span><br><span class="line">&#125;,</span><br><span class="line">    </span><br><span class="line"># package.json  </span><br><span class="line"><span class="string">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;test&quot;</span>: <span class="string">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span>,</span><br><span class="line">    <span class="string">&quot;build&quot;</span>: <span class="string">&quot;webpack&quot;</span>,</span><br><span class="line">    <span class="string">&quot;start&quot;</span>: <span class="string">&quot;webpack-dev-server&quot;</span></span><br><span class="line">&#125;,    </span><br></pre></td></tr></table></figure>

<h4 id="4）测试"><a href="#4）测试" class="headerlink" title="4）测试"></a>4）测试</h4><p><code>npm run start</code>启动 devServer。<strong>每次修改自动重载，不用每次重新打包了。</strong></p>
<h4 id="5）问题"><a href="#5）问题" class="headerlink" title="5）问题"></a>5）问题</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;h1&gt;TodoList&lt;&#x2F;h1&gt;</span><br><span class="line">        &lt;input type&#x3D;&quot;text&quot; v-model&#x3D;&quot;content&quot; &#x2F;&gt;</span><br><span class="line">        &lt;button @click&#x3D;&quot;addTodo&quot;&gt;添加&lt;&#x2F;button&gt;</span><br><span class="line">        &lt;ul&gt;</span><br><span class="line">            &lt;li v-for&#x3D;&quot;item of todoData&quot; :key&#x3D;&quot;item.id&quot;&gt;&#123;&#123; item &#125;&#125;&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;&#x2F;ul&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name: &#39;App&#39;,</span><br><span class="line">    data() &#123;</span><br><span class="line">        return &#123;</span><br><span class="line">            todoData: [&#39;todo1&#39;, &#39;todo2&#39;, &#39;todo3&#39;],</span><br><span class="line">            content: &#39;&#39;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">        addTodo() &#123;</span><br><span class="line">            if (this.content &#x3D;&#x3D;&#x3D; &#39;&#39;) return</span><br><span class="line">            this.todoData.push(this.content)</span><br><span class="line">            this.content &#x3D; &#39;&#39;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang&#x3D;&quot;stylus&quot; scoped&gt;</span><br><span class="line">    h1 </span><br><span class="line">        color: white</span><br><span class="line">        transform: translate(100px, 100px)</span><br><span class="line">    li:nth-of-type(odd)</span><br><span class="line">        color: red</span><br><span class="line">    li:nth-of-type(even)</span><br><span class="line">        color: white            </span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>上面例子，增加几个 todo 后，修改点东西，然后保存重载，刚刚新增的 todo 不见了。所以需要<strong>热模块替换</strong>。</p>
<h3 id="2-HRM-热模块替换"><a href="#2-HRM-热模块替换" class="headerlink" title="2. HRM-热模块替换"></a>2. HRM-热模块替换</h3><p><a href="https://www.webpackjs.com/guides/hot-module-replacement/">官方文档</a></p>
<p><strong>Hot Module Replacement 或 HMR</strong> 允许在运行时更新各种模块，而无需进行完全刷新。</p>
<p><strong>注意热模块替换不适用于生成环境</strong>。</p>
<h4 id="1）启用"><a href="#1）启用" class="headerlink" title="1）启用"></a>1）启用</h4><p><strong>i 配置 devServer</strong></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">devServer: &#123;</span><br><span class="line">    <span class="comment">// 指定服务器根目录</span></span><br><span class="line">    contentBase: &#x27;./dist&#x27;,</span><br><span class="line">    <span class="comment">// 自动打开浏览器</span></span><br><span class="line">    open: true,</span><br><span class="line">    <span class="comment">// 启用热模块替换</span></span><br><span class="line">    hot: true</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ii 配置插件</strong></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 引入 webpack</span></span><br><span class="line">const webpack = require(&#x27;webpack&#x27;)</span><br><span class="line"></span><br><span class="line">plugins: [</span><br><span class="line">    <span class="comment">// 引入 vue-loader 插件</span></span><br><span class="line">    new VueLoaderPlugin(),</span><br><span class="line">    <span class="comment">// 自动生成 index.html 插件</span></span><br><span class="line">    new HtmlWebpackPlugin(&#123;</span><br><span class="line">        template: &#x27;./index.html&#x27;</span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="comment">// 打包前自动清理插件</span></span><br><span class="line">    new CleanWebpackPlugin(),</span><br><span class="line">    <span class="comment">// 热模块替换插件</span></span><br><span class="line">    new webpack.HotModuleReplacementPlugin()</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<h4 id="2）测试"><a href="#2）测试" class="headerlink" title="2）测试"></a>2）测试</h4><p>增加 todo 后，即使再修改然后重载，增加的 todo 还在。</p>
<h3 id="3-SourceMap-源代码映射"><a href="#3-SourceMap-源代码映射" class="headerlink" title="3. SourceMap-源代码映射"></a>3. SourceMap-源代码映射</h3><p>SourceMap: (源代码映射) 建立打包后的文件和源代码所在行的映射,</p>
<p>主要作用: 在开发时<strong>快速定位到出错的源代码行</strong></p>
<p><a href="https://www.webpackjs.com/guides/development/">官方文档</a> <a href="https://www.webpackjs.com/configuration/devtool/#devtool">官方配置说明</a></p>
<h4 id="启用"><a href="#启用" class="headerlink" title="启用"></a>启用</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">devtool: <span class="string">&#x27;cheap-module-eval-source-map&#x27;</span>,</span><br></pre></td></tr></table></figure>

<h4 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h4><p>故意写错代码，可以准确定位到错误行。</p>
<p><img src="../../images/%E5%89%8D%E7%AB%AF/vue-todo/sourcemap.png"></p>
<h2 id="八-生产环境"><a href="#八-生产环境" class="headerlink" title="八. 生产环境"></a>八. 生产环境</h2><ul>
<li><strong>开发环境（development）构建目标</strong>：实时重新加载、热模块替换、Source Map 和 localhost server</li>
<li><strong>生产环境（production）构建目标</strong>：更小的 bundle，更轻量的 source map，更优化的资源和加载时间</li>
</ul>
<p>所以分开两个配置文件</p>
<ul>
<li>webpack.dev.js：用于开发环境</li>
<li>webpack.prod.js：用于生产环境</li>
</ul>
<h3 id="1-分开为两个配置文件"><a href="#1-分开为两个配置文件" class="headerlink" title="1. 分开为两个配置文件"></a>1. 分开为两个配置文件</h3><p>删除一些生产环境不用的配置。</p>
<p>修改 package.json</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;dev&quot;: &quot;webpack-dev-server --config ./webpack.dev.js&quot;,</span><br><span class="line">    &quot;build&quot;: &quot;webpack --config ./webpack.prod.js&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-提取公共部分"><a href="#2-提取公共部分" class="headerlink" title="2. 提取公共部分"></a>2. 提取公共部分</h3><p>使用 webpack-merge 工具</p>
<h4 id="1）安装-webpack-merge"><a href="#1）安装-webpack-merge" class="headerlink" title="1）安装 webpack-merge"></a>1）安装 webpack-merge</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -D webpack-merge</span><br></pre></td></tr></table></figure>

<h4 id="2）创建-build-目录"><a href="#2）创建-build-目录" class="headerlink" title="2）创建 build 目录"></a>2）创建 build 目录</h4><p>创建三个文件</p>
<ul>
<li>webpack.base.js: 公共配置</li>
<li>webpack.dev.js: 开发环境配置</li>
<li>webpack.prod.js: 生产环境配置</li>
</ul>
<p>webpack.base.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 使用 node 的 path 模块</span></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"><span class="comment">// 引入 vue-loader 插件</span></span><br><span class="line"><span class="keyword">const</span> VueLoaderPlugin = <span class="built_in">require</span>(<span class="string">&#x27;vue-loader/lib/plugin&#x27;</span>)</span><br><span class="line"><span class="comment">// 引入 html-webpack-plugin 插件</span></span><br><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">&#x27;html-webpack-plugin&#x27;</span>)</span><br><span class="line"><span class="comment">// 引入 clean-webpack-plugin 插件</span></span><br><span class="line"><span class="keyword">const</span> &#123; CleanWebpackPlugin &#125; = <span class="built_in">require</span>(<span class="string">&#x27;clean-webpack-plugin&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    <span class="comment">// 打包的入口</span></span><br><span class="line">    entry: <span class="string">&#x27;./src/main.js&#x27;</span>, </span><br><span class="line">    <span class="comment">// 打包的出口</span></span><br><span class="line">    output: &#123;</span><br><span class="line">        filename: <span class="string">&#x27;app.js&#x27;</span>,</span><br><span class="line">        <span class="comment">// resolve? __dirname??</span></span><br><span class="line">        path: path.resolve(__dirname, <span class="string">&#x27;dist&#x27;</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 插件</span></span><br><span class="line">    plugins: [</span><br><span class="line">        <span class="keyword">new</span> VueLoaderPlugin(),</span><br><span class="line">        <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">            template: <span class="string">&#x27;./index.html&#x27;</span></span><br><span class="line">        &#125;),</span><br><span class="line">        <span class="keyword">new</span> CleanWebpackPlugin(),</span><br><span class="line">    ],</span><br><span class="line">    <span class="comment">// 打包规则</span></span><br><span class="line">    <span class="built_in">module</span>: &#123;</span><br><span class="line">        rules: [</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">// .vue 文件用 vue-loader 打包</span></span><br><span class="line">                test: <span class="regexp">/\.vue$/</span>,</span><br><span class="line">                loader: <span class="string">&#x27;vue-loader&#x27;</span></span><br><span class="line">            &#125;,&#123;</span><br><span class="line">                test: <span class="regexp">/\.(jpg|jpeg|png|svg)$/</span>,</span><br><span class="line">                loader: <span class="string">&#x27;url-loader&#x27;</span>,</span><br><span class="line">                options: &#123;</span><br><span class="line">                    name: <span class="string">&#x27;[name].[ext]&#x27;</span>,</span><br><span class="line">                    limit: <span class="number">4096</span></span><br><span class="line">                &#125;                </span><br><span class="line">            &#125;,&#123;</span><br><span class="line">                test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">                <span class="comment">// 配置两个 loader 打包 css 文件</span></span><br><span class="line">                <span class="comment">// 顺序从右到左，从下到上</span></span><br><span class="line">                use: [<span class="string">&#x27;style-loader&#x27;</span>, <span class="string">&#x27;css-loader&#x27;</span>]</span><br><span class="line">            &#125;,&#123;</span><br><span class="line">                test: <span class="regexp">/\.styl(us)?$/</span>,</span><br><span class="line">                use: [<span class="string">&#x27;style-loader&#x27;</span>, <span class="string">&#x27;css-loader&#x27;</span>, <span class="string">&#x27;postcss-loader&#x27;</span>, <span class="string">&#x27;stylus-loader&#x27;</span>]</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    resolve: &#123;</span><br><span class="line">        alias: &#123;</span><br><span class="line">            <span class="comment">// 指定使用 vue.js，因为默认导出的是 runtime 包</span></span><br><span class="line">            <span class="string">&#x27;vue&#x27;</span>: <span class="string">&#x27;vue/dist/vue.js&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> webpack.dev.js </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 引入 webpack</span></span><br><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">&#x27;webpack&#x27;</span>)</span><br><span class="line"><span class="comment">// 导入 webpack-merge</span></span><br><span class="line"><span class="keyword">const</span> &#123; merge &#125; = <span class="built_in">require</span>(<span class="string">&#x27;webpack-merge&#x27;</span>)</span><br><span class="line"><span class="comment">// 导入公共配置</span></span><br><span class="line"><span class="keyword">const</span> baseConfig = <span class="built_in">require</span>(<span class="string">&#x27;./webpack.base.js&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 开发环境特有配置</span></span><br><span class="line"><span class="keyword">const</span> devConfig = &#123;</span><br><span class="line">    <span class="comment">// 打包模式</span></span><br><span class="line">    mode: <span class="string">&#x27;development&#x27;</span>,</span><br><span class="line">    <span class="comment">// devServer 配置</span></span><br><span class="line">    devServer: &#123;</span><br><span class="line">        <span class="comment">// 指定服务器根目录</span></span><br><span class="line">        contentBase: <span class="string">&#x27;./dist&#x27;</span>,</span><br><span class="line">        <span class="comment">// 自动打开浏览器</span></span><br><span class="line">        open: <span class="literal">true</span>,</span><br><span class="line">        <span class="comment">// 启用热模块替换</span></span><br><span class="line">        hot: <span class="literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    devtool: <span class="string">&#x27;cheap-module-eval-source-map&#x27;</span>,</span><br><span class="line">    plugins: [</span><br><span class="line">        <span class="comment">// 热模块替换插件</span></span><br><span class="line">        <span class="keyword">new</span> webpack.HotModuleReplacementPlugin()</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = merge(baseConfig, devConfig)</span><br></pre></td></tr></table></figure>

<p> webpack.prod.js </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 导入 webpack-merge</span></span><br><span class="line"><span class="keyword">const</span> &#123; merge &#125; = <span class="built_in">require</span>(<span class="string">&#x27;webpack-merge&#x27;</span>)</span><br><span class="line"><span class="comment">// 导入公共配置</span></span><br><span class="line"><span class="keyword">const</span> baseConfig = <span class="built_in">require</span>(<span class="string">&#x27;./webpack.base.js&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 生产环境特有配置</span></span><br><span class="line"><span class="keyword">const</span> prodConfig = &#123;</span><br><span class="line">    <span class="comment">// 打包模式</span></span><br><span class="line">    mode: <span class="string">&#x27;production&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = merge(baseConfig, prodConfig)</span><br></pre></td></tr></table></figure>

<h4 id="3）改写-package-脚本配置"><a href="#3）改写-package-脚本配置" class="headerlink" title="3）改写 package 脚本配置"></a>3）改写 package 脚本配置</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;dev&quot;</span>: <span class="string">&quot;webpack-dev-server --config ./build/webpack.dev.js&quot;</span>,</span><br><span class="line">    <span class="string">&quot;build&quot;</span>: <span class="string">&quot;webpack --config ./build/webpack.prod.js&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="九-babel-解析-ES6-语法"><a href="#九-babel-解析-ES6-语法" class="headerlink" title="九. babel-解析 ES6 语法"></a>九. babel-解析 ES6 语法</h2><p>ES6 有些老版本浏览器不支持，一般我们<strong>用 babel 将 ES6 编译成 ES5 的语法。</strong></p>
<p><a href="https://www.babeljs.cn/">Babel 中文网</a></p>
<p><strong>安装</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安装 babel-loader</span></span><br><span class="line">npm install -D babel-loader @babel/core</span><br><span class="line"><span class="comment"># env preset 工具 干嘛的？</span></span><br><span class="line">npm install @babel/preset-env -D</span><br></pre></td></tr></table></figure>

<p><strong>配置</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    test: <span class="regexp">/\.js$/</span>,</span><br><span class="line">    exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">    loader: <span class="string">&#x27;babel-loader&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>创建.babelrc 配置文件</strong></p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123; <span class="attr">&quot;presets&quot;</span>: [<span class="string">&quot;@babel/preset-env&quot;</span>] &#125;</span><br></pre></td></tr></table></figure>

<h2 id="十-需求分析与设计"><a href="#十-需求分析与设计" class="headerlink" title="十. 需求分析与设计"></a>十. 需求分析与设计</h2><h3 id="1-功能演示"><a href="#1-功能演示" class="headerlink" title="1. 功能演示"></a>1. 功能演示</h3><h4 id="1）配色方案"><a href="#1）配色方案" class="headerlink" title="1）配色方案"></a>1）配色方案</h4><p><img src="../../images/%E5%89%8D%E7%AB%AF/vue-todo/%E9%85%8D%E8%89%B2%E6%96%B9%E6%A1%88.png"></p>
<h4 id="2）成品效果图"><a href="#2）成品效果图" class="headerlink" title="2）成品效果图"></a>2）成品效果图</h4><p><img src="../../images/%E5%89%8D%E7%AB%AF/vue-todo/todo%E6%95%88%E6%9E%9C%E5%9B%BE.gif"></p>
<h4 id="3）项目准备"><a href="#3）项目准备" class="headerlink" title="3）项目准备"></a>3）项目准备</h4><p><strong>i VSCode 配置</strong></p>
<p>安装 Vetur 插件，并作如下配置</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;editor.tabSize&quot;</span>: <span class="number">2</span>,</span><br><span class="line">  <span class="attr">&quot;editor.formatOnSave&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="comment">// 在style样式中, 使用缩进, 缩进是2个空格</span></span><br><span class="line">  <span class="attr">&quot;vetur.format.styleInitialIndent&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="comment">// 在script样式中, 使用缩进, 缩进2个空格</span></span><br><span class="line">  <span class="attr">&quot;vetur.format.scriptInitialIndent&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">&quot;vetur.format.defaultFormatterOptions&quot;</span>: &#123;</span><br><span class="line">    <span class="comment">// 用于template部分的格式化</span></span><br><span class="line">    <span class="attr">&quot;prettyhtml&quot;</span>: &#123;</span><br><span class="line">      <span class="comment">// 超过80个字符的标签换行显示</span></span><br><span class="line">      <span class="attr">&quot;printWidth&quot;</span>: <span class="number">80</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 用于script部分的格式化</span></span><br><span class="line">    <span class="attr">&quot;prettier&quot;</span>: &#123;</span><br><span class="line">      <span class="comment">// 使用单引号</span></span><br><span class="line">      <span class="attr">&quot;singleQuote&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="comment">// 不使用;号</span></span><br><span class="line">      <span class="attr">&quot;semi&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">&quot;proseWrap&quot;</span>: <span class="string">&quot;never&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;printWidth&quot;</span>: <span class="number">80</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// stylus不使用&#123;&#125;</span></span><br><span class="line">  <span class="attr">&quot;stylusSupremacy.insertBraces&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="comment">// stylus不使用;</span></span><br><span class="line">  <span class="attr">&quot;stylusSupremacy.insertSemicolons&quot;</span>: <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ii vue-devtools 扩展安装</strong></p>
<p>谷歌插件市场直接安装。</p>
<h3 id="2-组件拆分"><a href="#2-组件拆分" class="headerlink" title="2. 组件拆分"></a>2. 组件拆分</h3><blockquote>
<p><strong>组件化思想</strong></p>
<p> vue 项目的一个重要的特点就是组件化的思想, 一个页面由多个组件组成, 组件再包含子组件 </p>
</blockquote>
<p><img src="../../images/%E5%89%8D%E7%AB%AF/vue-todo/%E7%BB%84%E4%BB%B6%E6%A0%91.png"></p>
<p><img src="../../images/%E5%89%8D%E7%AB%AF/vue-todo/%E7%BB%84%E4%BB%B6%E6%8B%86%E5%88%86.png"></p>
<p><strong>组件树</strong></p>
<ul>
<li>MainHeader 组件</li>
<li>MainTodo 组件<ul>
<li>TodoItem 组件</li>
<li>TodoInfo 组件</li>
</ul>
</li>
<li>MainFooter 组件</li>
</ul>
<h3 id="3-目录结构与框架搭建"><a href="#3-目录结构与框架搭建" class="headerlink" title="3. 目录结构与框架搭建"></a>3. 目录结构与框架搭建</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">|-- src,</span><br><span class="line">      |-- App.vue,</span><br><span class="line">      |-- main.js,</span><br><span class="line">      |-- assets,</span><br><span class="line">      |   |-- images,</span><br><span class="line">      |   |   |-- bg.jpg,</span><br><span class="line">      |   |   |-- Checked.svg,</span><br><span class="line">      |   |   |-- unChecked.svg,</span><br><span class="line">      |   |-- styles,</span><br><span class="line">      |       |-- <span class="built_in">global</span>.styl,</span><br><span class="line">      |       |-- reset.css,</span><br><span class="line">      |       |-- test.css,</span><br><span class="line">      |-- components,</span><br><span class="line">          |-- MainFooter.vue,</span><br><span class="line">          |-- MainHeader.vue,</span><br><span class="line">          |-- MainTodo,</span><br><span class="line">              |-- MainTodo.vue,</span><br><span class="line">              |-- coms,</span><br><span class="line">                  |-- TodoInfo.vue,</span><br><span class="line">                  |-- TodoItem.vue,</span><br></pre></td></tr></table></figure>

<h2 id="十一-MainHeader-组件实现"><a href="#十一-MainHeader-组件实现" class="headerlink" title="十一. MainHeader 组件实现"></a>十一. MainHeader 组件实现</h2><h3 id="1-页面显示"><a href="#1-页面显示" class="headerlink" title="1. 页面显示"></a>1. 页面显示</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;header class&#x3D;&quot;main-header&quot;&gt;</span><br><span class="line">    &lt;h1&gt;TodoList&lt;&#x2F;h1&gt;</span><br><span class="line">  &lt;&#x2F;header&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br></pre></td></tr></table></figure>

<h3 id="2-样式"><a href="#2-样式" class="headerlink" title="2. 样式"></a>2. 样式</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;style lang=&quot;stylus&quot; scoped&gt;</span><br><span class="line">  <span class="selector-class">.main-header</span></span><br><span class="line">    <span class="selector-tag">display</span>: <span class="selector-tag">flex</span></span><br><span class="line">    <span class="selector-tag">justify-content</span>: <span class="selector-tag">center</span></span><br><span class="line">    <span class="selector-tag">align-items</span>: <span class="selector-tag">center</span></span><br><span class="line"></span><br><span class="line">    <span class="selector-tag">h1</span></span><br><span class="line">      <span class="selector-tag">margin</span>: 20<span class="selector-tag">px</span></span><br><span class="line">      <span class="selector-tag">font-size</span>: 100<span class="selector-tag">px</span></span><br><span class="line">      <span class="selector-tag">font-weight</span>: 100</span><br><span class="line">      <span class="selector-tag">color</span>: <span class="selector-tag">rgb</span>(252, 157, 154)</span><br><span class="line">      <span class="selector-tag">text-shadow</span>: 5<span class="selector-tag">px</span> 5<span class="selector-tag">px</span> 5<span class="selector-tag">px</span> <span class="selector-tag">rgba</span>(0, 0, 0, 0.1)</span><br><span class="line">&lt;/<span class="selector-tag">style</span>&gt;</span><br></pre></td></tr></table></figure>

<h3 id="3-CSS-模块化"><a href="#3-CSS-模块化" class="headerlink" title="3. CSS 模块化"></a>3. CSS 模块化</h3><p><strong>提取通用样式</strong>：有一些样式, 我们需要反复的用到, 因此我们最好提取出来作为一个文件</p>
<p> 在 styles 目录下,创建 theme.styl, 将主题配色定义成变量 </p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$red</span> = rgb(<span class="number">254</span>, <span class="number">67</span>, <span class="number">101</span>)</span><br><span class="line"><span class="variable">$lightred</span> = rgb(<span class="number">252</span>, <span class="number">157</span>, <span class="number">154</span>)</span><br><span class="line"><span class="variable">$yellow</span> = rgb(<span class="number">249</span>, <span class="number">205</span>, <span class="number">173</span>)</span><br><span class="line"><span class="variable">$green</span> = rgb(<span class="number">131</span>, <span class="number">175</span>, <span class="number">155</span>)</span><br><span class="line"><span class="variable">$lightgreen</span> = rgb(<span class="number">200</span>, <span class="number">200</span>, <span class="number">169</span>)</span><br></pre></td></tr></table></figure>

<p> 在需要用到的时候, 引入相关的文件 </p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;style lang=<span class="string">&quot;stylus&quot;</span> scoped&gt;</span><br><span class="line">  <span class="comment">// 引入主题样式</span></span><br><span class="line">  @import <span class="string">&#x27;../assets/styles/theme.styl&#x27;</span></span><br><span class="line"></span><br><span class="line">  .main-header</span><br><span class="line">    <span class="attribute">display</span>: flex</span><br><span class="line">    <span class="attribute">justify-content</span>: center</span><br><span class="line">    <span class="attribute">align-items</span>: center</span><br><span class="line"></span><br><span class="line">    h1</span><br><span class="line">      <span class="attribute">margin</span>: <span class="number">20px</span></span><br><span class="line">      <span class="attribute">font-size</span>: <span class="number">100px</span></span><br><span class="line">      <span class="attribute">font-weight</span>: <span class="number">100</span></span><br><span class="line">      <span class="attribute">color</span>: <span class="variable">$lightred</span> // 使用变量</span><br><span class="line">      <span class="attribute">text-shadow</span>: <span class="number">5px</span> <span class="number">5px</span> <span class="number">5px</span> rgba(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.1</span>)</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<p><strong>加入别名</strong></p>
<p>配置 webpack</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">resolve: &#123;</span><br><span class="line">  alias: &#123;</span><br><span class="line">      <span class="comment">// 指定使用 vue.js，因为默认导出的是 runtime 包</span></span><br><span class="line">      <span class="string">&#x27;vue&#x27;</span>: <span class="string">&#x27;vue/dist/vue.js&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;@&#x27;</span>: path.resolve(__dirname, <span class="string">&#x27;../src&#x27;</span>),</span><br><span class="line">      <span class="string">&#x27;styles&#x27;</span>: path.resolve(__dirname, <span class="string">&#x27;../src/assets/styles&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>改造 stylus</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;style lang=&quot;stylus&quot; scoped&gt;</span><br><span class="line">  // 引入主题样式</span><br><span class="line">  <span class="keyword">@import</span> <span class="string">&#x27;~styles/theme.styl&#x27;</span></span><br><span class="line"></span><br><span class="line">  .main-header</span><br><span class="line">    <span class="attribute">display:</span> flex</span><br><span class="line">    <span class="attribute">justify-content:</span> center</span><br><span class="line">    <span class="attribute">align-items:</span> center</span><br><span class="line"></span><br><span class="line">    h1</span><br><span class="line">      <span class="attribute">margin:</span> <span class="number">20px</span></span><br><span class="line">      <span class="attribute">font-size:</span> <span class="number">100px</span></span><br><span class="line">      <span class="attribute">font-weight:</span> <span class="number">100</span></span><br><span class="line">      // 使用变量</span><br><span class="line">      <span class="attribute">color:</span> $lightred</span><br><span class="line">      // 文字阴影：水平、垂直、模糊距离、阴影颜色</span><br><span class="line">      // rgba：红、黄、蓝、透明度</span><br><span class="line">      <span class="attribute">text-shadow:</span> <span class="number">5px</span> <span class="number">5px</span> <span class="number">5px</span> rgba(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.1</span>)</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

</div><div class="tags"><a href="/tags/%E5%89%8D%E7%AB%AF/"><i class="fa fa-tag"></i>前端</a></div><div class="post-nav"><a class="pre" href="/2020-05-25-%E5%89%8D%E7%AB%AF/Flex%E5%B8%83%E5%B1%80.html">Flex 布局</a><a class="next" href="/2020-05-05-%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E7%AE%97%E6%B3%95.html"></a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://yoursite.com"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/IO/">IO</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/JVM/">JVM</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/LVS/">LVS</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/MySQL/">MySQL</a><span class="category-list-count">13</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Nginx/">Nginx</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/OS/">OS</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring-Cloud/">Spring Cloud</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/SpringCloud/">SpringCloud</a><span class="category-list-count">11</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Srping-Boot/">Srping Boot</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/ZooKeeper/">ZooKeeper</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/css/">css</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/kafka/">kafka</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/mysql/">mysql</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/vue/">vue</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%8A%A0%E8%A7%A3%E5%AF%86%E6%8A%80%E6%9C%AF/">加解密技术</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%90%89%E4%BB%96/">吉他</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%A4%9A%E7%BA%BF%E7%A8%8B/">多线程</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%BF%83%E6%83%85/">心情</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%97%A0%E5%85%B3%E6%8A%80%E6%9C%AF/">无关技术</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/">消息队列</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%96%AF%E7%8B%82-Java-%E8%AE%B2%E4%B9%89/">疯狂 Java 讲义</a><span class="category-list-count">16</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%AE%97%E6%B3%95/">算法</a><span class="category-list-count">14</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BD%91%E7%BB%9C/">网络</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">设计模式</a><span class="category-list-count">4</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/Hexo/" style="font-size: 15px;">Hexo</a> <a href="/tags/%E5%BF%83%E6%83%85/" style="font-size: 15px;">心情</a> <a href="/tags/PGP/" style="font-size: 15px;">PGP</a> <a href="/tags/SFTP/" style="font-size: 15px;">SFTP</a> <a href="/tags/Linux/" style="font-size: 15px;">Linux</a> <a href="/tags/Samba/" style="font-size: 15px;">Samba</a> <a href="/tags/Kafka/" style="font-size: 15px;">Kafka</a> <a href="/tags/NIO/" style="font-size: 15px;">NIO</a> <a href="/tags/Redis/" style="font-size: 15px;">Redis</a> <a href="/tags/Nginx/" style="font-size: 15px;">Nginx</a> <a href="/tags/Blog/" style="font-size: 15px;">Blog</a> <a href="/tags/IO/" style="font-size: 15px;">IO</a> <a href="/tags/SpringCloud/" style="font-size: 15px;">SpringCloud</a> <a href="/tags/Srping-Boot/" style="font-size: 15px;">Srping Boot</a> <a href="/tags/JVM/" style="font-size: 15px;">JVM</a> <a href="/tags/kafka/" style="font-size: 15px;">kafka</a> <a href="/tags/MySQL/" style="font-size: 15px;">MySQL</a> <a href="/tags/css/" style="font-size: 15px;">css</a> <a href="/tags/vue/" style="font-size: 15px;">vue</a> <a href="/tags/%E5%90%89%E4%BB%96/" style="font-size: 15px;">吉他</a> <a href="/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/" style="font-size: 15px;">多线程</a> <a href="/tags/OS/" style="font-size: 15px;">OS</a> <a href="/tags/%E6%97%A0%E5%85%B3%E6%8A%80%E6%9C%AF/" style="font-size: 15px;">无关技术</a> <a href="/tags/%E7%96%AF%E7%8B%82-Java-%E8%AE%B2%E4%B9%89/" style="font-size: 15px;">疯狂 Java 讲义</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 15px;">算法</a> <a href="/tags/ZooKeeper/" style="font-size: 15px;">ZooKeeper</a> <a href="/tags/Observer/" style="font-size: 15px;">Observer</a> <a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 15px;">设计模式</a> <a href="/tags/Singleton/" style="font-size: 15px;">Singleton</a> <a href="/tags/Proxy/" style="font-size: 15px;">Proxy</a> <a href="/tags/Oracle/" style="font-size: 15px;">Oracle</a> <a href="/tags/MQTT/" style="font-size: 15px;">MQTT</a> <a href="/tags/LVS/" style="font-size: 15px;">LVS</a> <a href="/tags/%E7%BD%91%E7%BB%9C/" style="font-size: 15px;">网络</a> <a href="/tags/Eureka/" style="font-size: 15px;">Eureka</a> <a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 15px;">前端</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="https://blog.jamespan.me/" title="小鶸の道场" target="_blank">小鶸の道场</a><ul></ul><a href="https://www.haomwei.com/" title="屠城" target="_blank">屠城</a><ul></ul><a href="http://www.ruanyifeng.com/home.html" title="阮一峰" target="_blank">阮一峰</a><ul></ul><a href="https://www.cnblogs.com/jingmoxukong/" title="静默虚空" target="_blank">静默虚空</a><ul></ul><a href="https://blog.hushhw.cn/" title="hushhw" target="_blank">hushhw</a><ul></ul><a href="https://hasaik.com/" title="hasaik" target="_blank">hasaik</a><ul></ul><a href="https://www.imalan.cn/" title="三无计划" target="_blank">三无计划</a><ul></ul><a href="https://i-meto.com/" title="meto" target="_blank">meto</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2020 <a href="/." rel="nofollow">悟空.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.jsdelivr.net/gh/fancyapps/fancybox/dist/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox/dist/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>