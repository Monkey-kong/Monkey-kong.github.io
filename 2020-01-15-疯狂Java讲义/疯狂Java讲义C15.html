<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="悟空的技术博客"><title>第 15 章 输入、输出 | 悟空</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/8.0.1/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/3.4.0/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">第 15 章 输入、输出</h1><a id="logo" href="/.">悟空</a><p class="description">悟空的技术博客</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/tags/"><i class="fa fa-tag"> 标签</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">第 15 章 输入、输出</h1><div class="post-meta">Jan 15, 2020<span> | </span><span class="category"><a href="/categories/疯狂-Java-讲义/">疯狂 Java 讲义</a></span></div><div class="clear"><div class="toc-article" id="toc"><div class="toc-title">文章目录</div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#15-1-File-类"><span class="toc-text">15.1 File 类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#15-1-1-访问文件和目录"><span class="toc-text">15.1.1 访问文件和目录</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-访问文件名相关方法"><span class="toc-text">1. 访问文件名相关方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-文件检测相关方法"><span class="toc-text">2. 文件检测相关方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-获取常规文件信息"><span class="toc-text">3. 获取常规文件信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-文件操作相关方法"><span class="toc-text">4. 文件操作相关方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-目录操作相关方法"><span class="toc-text">5. 目录操作相关方法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-1-2-文件过滤器"><span class="toc-text">15.1.2 文件过滤器</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-2-理解-Java-的-IO-流"><span class="toc-text">15.2 理解 Java 的 IO 流</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#15-2-1-流的分类"><span class="toc-text">15.2.1 流的分类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-输入流和输出流"><span class="toc-text">1. 输入流和输出流</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-字节流和字符流"><span class="toc-text">2. 字节流和字符流</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-节点流和处理流"><span class="toc-text">3. 节点流和处理流</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-2-2-流的概念模型"><span class="toc-text">15.2.2 流的概念模型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#输入流模型"><span class="toc-text">输入流模型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#输出流模型"><span class="toc-text">输出流模型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#处理流模型"><span class="toc-text">处理流模型</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-3-字节流和字符流"><span class="toc-text">15.3 字节流和字符流</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#15-3-1-InputStream-和-Reader"><span class="toc-text">15.3.1 InputStream 和 Reader</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#InputStream"><span class="toc-text">InputStream</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Reader"><span class="toc-text">Reader</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#指针相关"><span class="toc-text">指针相关</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-3-2-OutputStream-和-Writer"><span class="toc-text">15.3.2 OutputStream 和 Writer</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-4-输入、输出体系"><span class="toc-text">15.4 输入、输出体系</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#15-4-1-处理流的用法"><span class="toc-text">15.4.1 处理流的用法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-4-2-输入、输出流体系"><span class="toc-text">15.4.2 输入、输出流体系</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-4-3-转换流"><span class="toc-text">15.4.3 转换流</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-4-4-推回输入流"><span class="toc-text">15.4.4 推回输入流</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-5-重定向标准输入、输出"><span class="toc-text">15.5 重定向标准输入、输出</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-6-Java-虚拟机读写其他进程的数据"><span class="toc-text">15.6 Java 虚拟机读写其他进程的数据</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-7-RandomAccessFile"><span class="toc-text">15.7 RandomAccessFile</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-8-Java-9-改进的对象序列化"><span class="toc-text">15.8 Java 9 改进的对象序列化</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#15-8-1-序列化的含义和意义"><span class="toc-text">15.8.1 序列化的含义和意义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-8-2-使用对象流实现序列化"><span class="toc-text">15.8.2 使用对象流实现序列化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-8-3-对象引用的序列化"><span class="toc-text">15.8.3 对象引用的序列化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-8-4-Java-9-增加的过滤功能"><span class="toc-text">15.8.4 Java 9 增加的过滤功能</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-8-5-自定义序列化"><span class="toc-text">15.8.5 自定义序列化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-8-6-另一种自定义序列化机制"><span class="toc-text">15.8.6 另一种自定义序列化机制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-8-7-版本"><span class="toc-text">15.8.7 版本</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-9-NIO"><span class="toc-text">15.9 NIO</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#15-9-1-Java-新-IO-概述"><span class="toc-text">15.9.1 Java 新 IO 概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-9-2-使用-Buffer"><span class="toc-text">15.9.2 使用 Buffer</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-9-3-使用-Channel"><span class="toc-text">15.9.3 使用 Channel</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-9-4-字符集和-Charset"><span class="toc-text">15.9.4 字符集和 Charset</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-9-5-文件锁"><span class="toc-text">15.9.5 文件锁</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-10-Java-7-的-NIO-2"><span class="toc-text">15.10 Java 7 的 NIO.2</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#15-10-1-Path、Paths-和-Files-核心-API"><span class="toc-text">15.10.1 Path、Paths 和 Files 核心 API</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-10-2-使用-FileVisitor-便利文件和目录"><span class="toc-text">15.10.2 使用 FileVisitor 便利文件和目录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-10-3-使用-WatchService-监控文件变化"><span class="toc-text">15.10.3 使用 WatchService 监控文件变化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-10-4-访问文件属性"><span class="toc-text">15.10.4 访问文件属性</span></a></li></ol></li></ol></div></div><div class="post-content"><p>第 15 章 输入、输出</p>
<a id="more"></a>
<h2 id="15-1-File-类"><a href="#15-1-File-类" class="headerlink" title="15.1 File 类"></a>15.1 File 类</h2><p>File 类是 java.io 包下代表与平台无关的文件和目录。File 能新建、删除、重命名文件和目录，但是不能访问文件内容本身。如果要访问文件内容，需要用到输入、输出流。</p>
<h3 id="15-1-1-访问文件和目录"><a href="#15-1-1-访问文件和目录" class="headerlink" title="15.1.1 访问文件和目录"></a>15.1.1 访问文件和目录</h3><p>相对路径总是依据用户的工作路径（user.dir）来解释。</p>
<h4 id="1-访问文件名相关方法"><a href="#1-访问文件名相关方法" class="headerlink" title="1. 访问文件名相关方法"></a>1. 访问文件名相关方法</h4><ul>
<li>String getName()：返回此 File 对象所表示的文件名或路径名</li>
<li>String getPath()</li>
<li>File getAbsoluteFile()</li>
<li>String getAbsolutePath()</li>
<li>String getParent()：File 对象所对应目录的父目录名</li>
<li>boolean renameTo(File newName)</li>
</ul>
<h4 id="2-文件检测相关方法"><a href="#2-文件检测相关方法" class="headerlink" title="2. 文件检测相关方法"></a>2. 文件检测相关方法</h4><ul>
<li>boolean exists()</li>
<li>boolean canWrite()</li>
<li>boolean can Read()</li>
<li>boolean isFile()</li>
<li>boolean isDirectory()</li>
<li>boolean isAbsolute()</li>
</ul>
<h4 id="3-获取常规文件信息"><a href="#3-获取常规文件信息" class="headerlink" title="3. 获取常规文件信息"></a>3. 获取常规文件信息</h4><ul>
<li>long lastModified()</li>
<li>long length()：文件内容长度</li>
</ul>
<h4 id="4-文件操作相关方法"><a href="#4-文件操作相关方法" class="headerlink" title="4. 文件操作相关方法"></a>4. 文件操作相关方法</h4><ul>
<li>boolean createNewFile()：File 对象文件不存在时，创建指定的新文件</li>
<li>boolean delete()</li>
<li>static File createTempFile(String prefix, String suffix)：在默认的临时文件目录中创建一个临时空文件。</li>
<li>static File createTempFile(String prefix, String suffix, File directory)</li>
<li>void deleteOnExit()：虚拟机退出时，删除 File 对象所对应的文件和目录</li>
</ul>
<h4 id="5-目录操作相关方法"><a href="#5-目录操作相关方法" class="headerlink" title="5. 目录操作相关方法"></a>5. 目录操作相关方法</h4><ul>
<li>boolean mkdir()</li>
<li>String[] list()：列出 File 对象的所有子文件名和路径名</li>
<li>File[] listFiles()：列出 File 对象的所有子文件和路径</li>
<li>static File[] listRoots()：列出系统所有的根路径</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileTest</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</div><div class="line">		<span class="comment">// Windows 路径分隔用反斜杠（\）表示，但反斜杠在Java 中表示转义，所以需要用双反斜杠(\\)；</span></div><div class="line">		<span class="comment">// 或者，Java 程序支持将斜线（/）当成平台无关的路径分隔符</span></div><div class="line">		File file = <span class="keyword">new</span> File(<span class="string">"aaa.txt"</span>);</div><div class="line">		System.out.println(file.createNewFile());</div><div class="line">		</div><div class="line">		<span class="comment">// 访问文件名相关（对象所对应文件或目录名称、路径名、绝对路径、绝对路径名、父目录名、重命名）</span></div><div class="line">		System.out.println(<span class="string">"访问文件名相关:"</span>);</div><div class="line">		System.out.println(file.getName());</div><div class="line">		System.out.println(file.getPath());</div><div class="line">		System.out.println(file.getAbsoluteFile());</div><div class="line">		System.out.println(file.getAbsolutePath());</div><div class="line">		System.out.println(file.getParent());</div><div class="line">		System.out.println(file.getAbsoluteFile().getParent());</div><div class="line">		<span class="comment">//System.out.println(file.renameTo(new File("c")));</span></div><div class="line">		</div><div class="line">		<span class="comment">// 文件检测相关（对象所对应的文件或目录是否存在、是否可写、是否可读、是否可执行、是否文件、是否目录、是否绝对路径）</span></div><div class="line">		System.out.println(<span class="string">"文件检测相关:"</span>);</div><div class="line">		System.out.println(file.exists());</div><div class="line">		System.out.println(file.canWrite());</div><div class="line">		System.out.println(file.canRead());</div><div class="line">		System.out.println(file.canExecute());</div><div class="line">		System.out.println(file.isFile());</div><div class="line">		System.out.println(file.isDirectory());</div><div class="line">		System.out.println(file.isAbsolute());</div><div class="line">		</div><div class="line">		<span class="comment">// 文件常规信息（最后修改时间、长度）</span></div><div class="line">		System.out.println(<span class="string">"文件常规信息:"</span>);</div><div class="line">		System.out.println(file.lastModified());</div><div class="line">		System.out.println(file.length());</div><div class="line">		</div><div class="line">		<span class="comment">// 文件操作相关（新增、删除）</span></div><div class="line">		System.out.println(<span class="string">"文件操作相关:"</span>);</div><div class="line">		<span class="comment">//System.out.println(file.delete());</span></div><div class="line">		File tmpFile = File.createTempFile(<span class="string">"aaa"</span>, <span class="string">".txt"</span>, <span class="keyword">new</span> File(<span class="string">".//src"</span>));</div><div class="line">		tmpFile.deleteOnExit();</div><div class="line">		</div><div class="line">		System.out.println(<span class="string">"目录操作相关:"</span>);</div><div class="line">		System.out.println(<span class="keyword">new</span> File(<span class="string">"aaa"</span>).mkdir());</div><div class="line">		System.out.println(<span class="string">"当期路径下的所有文件和路径如下:"</span>);</div><div class="line">		String[] fileList = <span class="keyword">new</span> File(<span class="string">"."</span>).list();</div><div class="line">		<span class="keyword">for</span> (String fileName : fileList) &#123;</div><div class="line">			System.out.println(fileName);</div><div class="line">		&#125;</div><div class="line">		System.out.println(<span class="string">"系统所有根路径如下："</span>);</div><div class="line">		File[] roots = File.listRoots();</div><div class="line">		<span class="keyword">for</span> (File root : roots) &#123;</div><div class="line">			System.out.println(root);</div><div class="line">		&#125;</div><div class="line">		</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="15-1-2-文件过滤器"><a href="#15-1-2-文件过滤器" class="headerlink" title="15.1.2 文件过滤器"></a>15.1.2 文件过滤器</h3><p>File 类的 list() 方法可以接受一个 FilenameFilter 参数，用于过滤符合条件的文件。</p>
<p>列出当前路径下所有的 *.java 文件和文件夹。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileNameFileterTest</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">		File file = <span class="keyword">new</span> File(<span class="string">"."</span>);</div><div class="line">		String[] nameList = file.list((dir,name) -&gt; name.endsWith(<span class="string">".java"</span>) || <span class="keyword">new</span> File(name).isDirectory());</div><div class="line">		<span class="keyword">for</span>(String name :nameList) &#123;</div><div class="line">			System.out.println(name);</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="15-2-理解-Java-的-IO-流"><a href="#15-2-理解-Java-的-IO-流" class="headerlink" title="15.2 理解 Java 的 IO 流"></a>15.2 理解 Java 的 IO 流</h2><h3 id="15-2-1-流的分类"><a href="#15-2-1-流的分类" class="headerlink" title="15.2.1 流的分类"></a>15.2.1 流的分类</h3><h4 id="1-输入流和输出流"><a href="#1-输入流和输出流" class="headerlink" title="1. 输入流和输出流"></a>1. 输入流和输出流</h4><ul>
<li>输入流：只能从中读取数据，不能写入。基类：InputStream、Reader</li>
<li>输出流：只能向其写入数据，不能读取。基类：OutputStream、Writer</li>
</ul>
<p>输入、输出都是站在<strong>程序运行所在内存</strong>的角度来看的。比如数据从程序内存到磁盘，就叫做输出流。</p>
<h4 id="2-字节流和字符流"><a href="#2-字节流和字符流" class="headerlink" title="2. 字节流和字符流"></a>2. 字节流和字符流</h4><p>用法几乎一样，区别在于操作的数据单元不同。</p>
<ul>
<li>字节流：操作的数据单元是 8 位的字节</li>
<li>字符流：16 位的字符</li>
</ul>
<h4 id="3-节点流和处理流"><a href="#3-节点流和处理流" class="headerlink" title="3. 节点流和处理流"></a>3. 节点流和处理流</h4><ul>
<li>节点流：从、向一个<strong>特定的 IO 设备</strong>（如磁盘、网络）读写数据的流，成为节点流，节点流也称为低级流</li>
<li>处理流：对一个已存在的流进行连接和封装，通过封装后的流来实现数据读写功能，也称为高级流。好处是，只要使用相同的处理流，程序就可以采用完全相同的输入、输出代码来访问不同的数据源；以缓冲的方式来提高性能；每次操作多个水滴。</li>
</ul>
<p>Java 使用处理流来包装节点流是一种典型的<strong>装饰器模式，</strong>通过使用处理包装不同的节点流，既可以消除不同节，点流的实现差异，也可以提供更方便的方法来完成输入/输出功能。因此处理流也被称为包装流。</p>
<h3 id="15-2-2-流的概念模型"><a href="#15-2-2-流的概念模型" class="headerlink" title="15.2.2 流的概念模型"></a>15.2.2 流的概念模型</h3><ul>
<li>InputStream/Reader：所有输入流的基类，前者是字节输入流，后者是字符输入流 </li>
<li>OutputStream/Writer：所有输出流的基类，前者是字节输出流，后者是字符输出流</li>
</ul>
<h4 id="输入流模型"><a href="#输入流模型" class="headerlink" title="输入流模型"></a>输入流模型</h4><p>装满水滴的水管，每读取一个指针向后移动一位。</p>
<p><img src="../../images/java/c15/输入流模型.png" alt=""></p>
<h4 id="输出流模型"><a href="#输出流模型" class="headerlink" title="输出流模型"></a>输出流模型</h4><p>空水管，每次装入一滴水，指针向后移动一位</p>
<p><img src="../../images/java/c15/输出流模型.png" alt=""></p>
<h4 id="处理流模型"><a href="#处理流模型" class="headerlink" title="处理流模型"></a>处理流模型</h4><p>处理流可以“嫁接”在任何已存在的流的基础之上。</p>
<p><img src="../../images/java/c15/处理流模型.png" alt=""></p>
<h2 id="15-3-字节流和字符流"><a href="#15-3-字节流和字符流" class="headerlink" title="15.3 字节流和字符流"></a>15.3 字节流和字符流</h2><h3 id="15-3-1-InputStream-和-Reader"><a href="#15-3-1-InputStream-和-Reader" class="headerlink" title="15.3.1 InputStream 和 Reader"></a>15.3.1 InputStream 和 Reader</h3><p>所有输入流的基类，<strong>本身并不能创建实例来执行输入</strong>，但他们将成为所有输入流的模板。</p>
<h4 id="InputStream"><a href="#InputStream" class="headerlink" title="InputStream"></a>InputStream</h4><ul>
<li>int read()：读取单个字节，返回读取的字节</li>
<li>int read(byte[] b)：读取最多 b.length 个字节，并存在 b 中，返回读取的字节个数</li>
<li>int read(byte[] b, int off, int len)：最多读取 len 字节，存在 b 中，从 off 开始存，返回读取的字节个数</li>
</ul>
<h4 id="Reader"><a href="#Reader" class="headerlink" title="Reader"></a>Reader</h4><ul>
<li>int read()</li>
<li>int read(char[] cbuf)</li>
<li>int read(char[], int off, int len)</li>
</ul>
<p>read() 方法返回 -1 表示输入流读取完毕。</p>
<p>InputStream 和 Reader 都是抽象类，本身不能创建实例。</p>
<p>他们分别有一个用于读取文件的输入流：FileInputStream 和 FileReader：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileInputStreamTest</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</div><div class="line">		FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">"./src/unit15_javaio/c3/FileInputStreamTest.java"</span>);</div><div class="line">		<span class="keyword">byte</span>[] bbuf = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</div><div class="line">		<span class="keyword">int</span> hasRead = <span class="number">0</span>;</div><div class="line">		<span class="keyword">while</span> ((hasRead = fis.read(bbuf)) &gt; <span class="number">0</span>) &#123;</div><div class="line">			System.out.print(<span class="keyword">new</span> String(bbuf, <span class="number">0</span>, hasRead));</div><div class="line">		&#125;</div><div class="line">		fis.close();</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileReaderTest</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</div><div class="line">		<span class="comment">// 自动关闭资源的 try 语句</span></div><div class="line">		<span class="keyword">try</span>(FileReader fr = <span class="keyword">new</span> FileReader(<span class="string">"./src/unit15_javaio/c3/FileReaderTest.java"</span>)) &#123;</div><div class="line">			<span class="keyword">char</span>[] cbuf = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">32</span>];</div><div class="line">			<span class="keyword">int</span> hasRead = <span class="number">0</span>;</div><div class="line">			<span class="keyword">while</span> ((hasRead = fr.read(cbuf)) &gt; <span class="number">0</span>) &#123;</div><div class="line">				System.out.print(<span class="keyword">new</span> String(cbuf, <span class="number">0</span>, hasRead));</div><div class="line">			&#125;</div><div class="line">		&#125; <span class="keyword">catch</span> (IOException ex) &#123;</div><div class="line">			ex.printStackTrace();</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="指针相关"><a href="#指针相关" class="headerlink" title="指针相关"></a>指针相关</h4><ul>
<li>void mark(int readAheadLimit)：在记录指针当前位置记录一个标记</li>
<li>boolean markSupported()：判断此输入流是否支持 mark 操作</li>
<li>void reset()：将此流的记录指针重新定位到上一次记录标记（mark）的位置</li>
<li>long skip(long n)：记录指针向前移动 n 个字节、字符</li>
</ul>
<h3 id="15-3-2-OutputStream-和-Writer"><a href="#15-3-2-OutputStream-和-Writer" class="headerlink" title="15.3.2 OutputStream 和 Writer"></a>15.3.2 OutputStream 和 Writer</h3><ul>
<li>void write(int c)</li>
<li>void write(byte[]/char[] buf)</li>
<li>void write(byte[]/char[] buf, int off, int len)</li>
</ul>
<p>因为字符流直接以字符作为操作单位，所以 Writer 可以用字符串来代替字符数组，即以 String 对象作为参数。</p>
<ul>
<li>void write(String str)</li>
<li>void write(String str, int off, int len)</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileOutputStreamTest</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">		<span class="keyword">try</span>(</div><div class="line">			FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">"./src/unit15_javaio/c3/FileOutputStreamTest.java"</span>);</div><div class="line">			FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">"newFile.txt"</span>)) &#123;</div><div class="line">			<span class="keyword">byte</span>[] bbuf = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">32</span>];</div><div class="line">			<span class="keyword">int</span> hasRead = <span class="number">0</span>;</div><div class="line">			<span class="keyword">while</span> ((hasRead = fis.read(bbuf)) &gt; <span class="number">0</span>) &#123;</div><div class="line">				fos.write(bbuf, <span class="number">0</span>, hasRead);</div><div class="line">			&#125;</div><div class="line">		&#125; <span class="keyword">catch</span> (IOException ioe) &#123;</div><div class="line">			ioe.printStackTrace();</div><div class="line">		&#125;</div><div class="line">				</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>使用 Java 的 IO 流时，要记得关闭输出流，一方面可以保证流的物理资源被回收，还可以保证输出流缓冲区中的数据 fulsh 到物理节点，因为执行 close 之前，会自动执行输出流的 flush() 方法。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileWriterTest</span> </span></div><div class="line"><span class="class"></span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></div><div class="line"><span class="function">	</span>&#123;</div><div class="line">		<span class="keyword">try</span>(</div><div class="line">			FileWriter fw = <span class="keyword">new</span> FileWriter(<span class="string">"poem.txt"</span>))</div><div class="line">		&#123;</div><div class="line">			<span class="comment">// windos 换行符 \r\n；linux 换行符 \n</span></div><div class="line">			fw.write(<span class="string">"锦瑟 - 李商隐\r\n"</span>);</div><div class="line">			fw.write(<span class="string">"锦瑟无端五十弦，一弦一柱思华年。\r\n"</span>);</div><div class="line">			fw.write(<span class="string">"庄生晓梦迷蝴蝶，望帝春心托杜鹃。\r\n"</span>);</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">catch</span> (IOException ioe)</div><div class="line">		&#123;</div><div class="line">			ioe.printStackTrace();</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="15-4-输入、输出体系"><a href="#15-4-输入、输出体系" class="headerlink" title="15.4 输入、输出体系"></a>15.4 输入、输出体系</h2><h3 id="15-4-1-处理流的用法"><a href="#15-4-1-处理流的用法" class="headerlink" title="15.4.1 处理流的用法"></a>15.4.1 处理流的用法</h3><p>使用处理流思路：包装节点流，程序通过处理流来执行输入、输出功能，让节点流与底层的 IO 设备、文件交互。</p>
<p>处理流构造器参数一般是已经存在的流；节点流构造器参数都是物理 IO 节点。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PrintStreamTest</span> </span></div><div class="line"><span class="class"></span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span></div><div class="line"><span class="function">	</span>&#123;</div><div class="line">		<span class="keyword">try</span>(</div><div class="line">			<span class="comment">// 节点流</span></div><div class="line">			FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">"text.txt"</span>);</div><div class="line">			<span class="comment">// 包装为处理流</span></div><div class="line">			PrintStream ps = <span class="keyword">new</span> PrintStream(fos))</div><div class="line">		&#123;</div><div class="line">			ps.println(<span class="string">"普通字符串"</span>);</div><div class="line">			ps.println(<span class="keyword">new</span> PrintStreamTest());</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">catch</span> (IOException ioe)</div><div class="line">		&#123;</div><div class="line">			ioe.printStackTrace();</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>关闭处理流会自动关闭该处理流包装的节点流。</p>
<h3 id="15-4-2-输入、输出流体系"><a href="#15-4-2-输入、输出流体系" class="headerlink" title="15.4.2 输入、输出流体系"></a>15.4.2 输入、输出流体系</h3><p><img src="../../images/java/c15/输入输出流体系.png" alt=""></p>
<p>通常来说，字节流功能比字符流强大，但问题是，如果使用字节流来处理文本，则需要使用合适的方式把这些字节转换成字符，这就增加了编程的复杂度。所以，如果处理的数据是文本内容，则应该考虑字符流；如果处理的数据是二进制内容，则应该考虑使用字节流。</p>
<p>计算机的文件常被分为文本文件和二进制文件两大类一所有制记事本打开并看到其中字符内容的文件称为文本文件，反之则称为二进制文件。但实质是， 计算机里的所有文件都是二进制文件， 文本文件只是二进制文件的一种特例， 当二进制文件里的内容恰好能被正常解析成字符时，则该二进制文件就变成了文本文件。</p>
<p>宇符流还可以使用字符串作为物理节点。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StringNodeTest</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">		String src = <span class="string">"从明天起，做一个幸福的人\n"</span></div><div class="line">				+ <span class="string">"喂马，劈柴，周游世界\n"</span></div><div class="line">				+ <span class="string">"从明天起，关心粮食和蔬菜\n"</span></div><div class="line">				+ <span class="string">"我有一所房子，面朝大海，春暖花开\n"</span>;</div><div class="line">		<span class="keyword">char</span>[] buffer = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">32</span>];</div><div class="line">		<span class="keyword">int</span> hasRead = <span class="number">0</span>;</div><div class="line">		<span class="keyword">try</span>(StringReader sr = <span class="keyword">new</span> StringReader(src))</div><div class="line">		&#123;</div><div class="line">			<span class="comment">// 采用循环读取的方式读取字符串</span></div><div class="line">			<span class="keyword">while</span>((hasRead = sr.read(buffer)) &gt; <span class="number">0</span>)</div><div class="line">			&#123;</div><div class="line">				System.out.print(<span class="keyword">new</span> String(buffer, <span class="number">0</span>, hasRead));</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">catch</span> (IOException ioe)</div><div class="line">		&#123;</div><div class="line">			ioe.printStackTrace();</div><div class="line">		&#125;</div><div class="line">		</div><div class="line">		<span class="keyword">try</span>(StringWriter sw = <span class="keyword">new</span> StringWriter())</div><div class="line">		&#123;</div><div class="line">			sw.write(<span class="string">"有一个美丽的新世界，\n"</span>);</div><div class="line">			sw.write(<span class="string">"她在远方等我，\n"</span>);</div><div class="line">			sw.write(<span class="string">"那里有天真的孩子，\n"</span>);</div><div class="line">			sw.write(<span class="string">"还有姑娘的酒窝"</span>);</div><div class="line">			System.out.println(<span class="string">"----下面是 sw 字符串节点里的内容----"</span>);</div><div class="line">			System.out.println(sw.toString());</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">catch</span> (IOException ex)</div><div class="line">		&#123;</div><div class="line">			ex.printStackTrace();</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="15-4-3-转换流"><a href="#15-4-3-转换流" class="headerlink" title="15.4.3 转换流"></a>15.4.3 转换流</h3><ul>
<li>InputStreamReader：字节输入流转换成字符输入流</li>
<li>OutputStreamWriter：字节输出流转换成字符输出流</li>
</ul>
<p>Java 使用 System .in 代表标准输入， 即键盘输入，但这个标准输入流是 InputStream 类的实例， 使用不太方便， 而且键盘输入内容都是文本内容，所以可以使用InputStreamReader 将其转换成字符输入流，。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">KeyinTest</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">		<span class="keyword">try</span>(</div><div class="line">			InputStreamReader reader = <span class="keyword">new</span> InputStreamReader(System.in);</div><div class="line">			BufferedReader br = <span class="keyword">new</span> BufferedReader(reader))</div><div class="line">		&#123;</div><div class="line">			String line = <span class="keyword">null</span>;</div><div class="line">			<span class="keyword">while</span> ((line = br.readLine()) != <span class="keyword">null</span>)</div><div class="line">			&#123;</div><div class="line">				<span class="keyword">if</span> (line.equals(<span class="string">"exit"</span>))</div><div class="line">				&#123;</div><div class="line">					System.exit(<span class="number">1</span>);</div><div class="line">				&#125;</div><div class="line">				System.out.println(<span class="string">"输入内容为："</span> + line);</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">catch</span> (IOException ioe)</div><div class="line">		&#123;</div><div class="line">			ioe.printStackTrace();</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="15-4-4-推回输入流"><a href="#15-4-4-推回输入流" class="headerlink" title="15.4.4 推回输入流"></a>15.4.4 推回输入流</h3><p>PushbackInputStream、PushbackReader</p>
<ul>
<li>void unread(byte[]/char[] buf)</li>
<li>void unread(byte[]/char[] b, int off, int len)</li>
<li>void unread(int b)</li>
</ul>
<p>维护一个推回缓冲区，read 时总是先从推回缓冲区取“水滴”，当推回缓冲区水滴不够时才会到原输入流里去取。</p>
<p>如果程序中推回到缓冲区中的内容超出了推回缓冲区的大小，将会引发 Pushback buffer overflow 的 IOException。</p>
<p>下面程序试图找出程序中的 “new PushbackReader” 宇符串，当找到该字符串后，程序只是打印出目标宇符串之前的内容。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PushbackTest</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">        <span class="keyword">try</span>(</div><div class="line">                <span class="comment">// 创建一个 PushBackReader 对象,指定推回缓冲区长度为 64</span></div><div class="line">                PushbackReader pr = <span class="keyword">new</span> PushbackReader(</div><div class="line">                        <span class="keyword">new</span> FileReader(<span class="string">"./src/unit15_javaio/c4/PushbackTest.java"</span>), <span class="number">64</span>))</div><div class="line">        &#123;</div><div class="line">            <span class="keyword">char</span>[] buf = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">32</span>];</div><div class="line">            <span class="comment">// 用以保存上次读取的字符串内容</span></div><div class="line">            String lastContent = <span class="string">""</span>;</div><div class="line">            <span class="keyword">int</span> hasRead =  <span class="number">0</span>;</div><div class="line">            <span class="comment">// 循环读取文件内容</span></div><div class="line">            <span class="keyword">while</span> ((hasRead = pr.read(buf))&gt;<span class="number">0</span>)&#123;</div><div class="line">                <span class="comment">// 将读取的内容转换成字符串</span></div><div class="line">                String content = <span class="keyword">new</span> String(buf, <span class="number">0</span>, hasRead);</div><div class="line">                <span class="keyword">int</span> targetIndex = <span class="number">0</span>;</div><div class="line">                <span class="comment">// 将上次读取的字符串和本次读取的字符串拼接起来</span></div><div class="line">                <span class="comment">// 查看是否包含目标字符串,如果包含</span></div><div class="line">                <span class="keyword">if</span>((targetIndex = (lastContent + content)</div><div class="line">                        .indexOf(<span class="string">"new PushbackReader"</span>))&gt;<span class="number">0</span>)&#123;</div><div class="line">                    <span class="comment">// 将本次内容和上次内容一起推回缓冲区</span></div><div class="line">                    pr.unread((lastContent+content).toCharArray());</div><div class="line">                    <span class="comment">// 重新定义一个长度为 targetIndex 的 char 数组</span></div><div class="line">                    <span class="keyword">if</span>(targetIndex &gt; <span class="number">32</span>) &#123;</div><div class="line">                        buf = <span class="keyword">new</span> <span class="keyword">char</span>[targetIndex];</div><div class="line">                    &#125;</div><div class="line">                    <span class="comment">// 再次读取指定长度的内容(就是目标字符串之前的内容)</span></div><div class="line">                    pr.read(buf, <span class="number">0</span>, targetIndex);</div><div class="line">                    <span class="comment">// 打印读取的内容</span></div><div class="line">                    System.out.print(<span class="keyword">new</span> String(buf, <span class="number">0</span>, targetIndex));</div><div class="line">                    System.exit(<span class="number">0</span>);</div><div class="line">                &#125; <span class="keyword">else</span> &#123;</div><div class="line">                    <span class="comment">// 打印上次读取的内容</span></div><div class="line">                    System.out.print(lastContent);</div><div class="line">                    <span class="comment">// 将本次内容设置为上次读取内容</span></div><div class="line">                    lastContent = content;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125; <span class="keyword">catch</span> (IOException ioe) &#123;</div><div class="line">            ioe.printStackTrace();</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="15-5-重定向标准输入、输出"><a href="#15-5-重定向标准输入、输出" class="headerlink" title="15.5 重定向标准输入、输出"></a>15.5 重定向标准输入、输出</h2><p>System 类提供了三个重定向标准输入、输出的方法：</p>
<ul>
<li>static void setErr(PrintStream err)</li>
<li>static void setIn(InputStream in)</li>
<li>static void setOut(PrintStream out)</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RedirectOut</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">		<span class="keyword">try</span>(</div><div class="line">			PrintStream ps = <span class="keyword">new</span> PrintStream(<span class="keyword">new</span> FileOutputStream(<span class="string">"out.txt"</span>)))</div><div class="line">		&#123;</div><div class="line">			System.setOut(ps);</div><div class="line">			System.out.println(<span class="string">"普通字符串"</span>);</div><div class="line">			System.out.println(<span class="keyword">new</span> RedirectOut());</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">catch</span> (IOException ex)</div><div class="line">		&#123;</div><div class="line">			ex.printStackTrace();</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>重定向标准输入，正常是键盘输入，现在重定向到一个文件作为输入。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RedirectIn</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">		<span class="keyword">try</span>(</div><div class="line">			FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">"./src/unit15_javaio/c5/RedirectIn.java"</span>))</div><div class="line">		&#123;</div><div class="line">			System.setIn(fis);</div><div class="line">			<span class="meta">@SuppressWarnings</span>(<span class="string">"resource"</span>)</div><div class="line">			Scanner sc = <span class="keyword">new</span> Scanner(System.in);</div><div class="line">			sc.useDelimiter(<span class="string">"\n"</span>);</div><div class="line">			<span class="keyword">while</span>(sc.hasNext())</div><div class="line">			&#123;</div><div class="line">				System.out.println(<span class="string">"键盘输入的内容是："</span> + sc.next());</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">catch</span> (IOException ex) </div><div class="line">		&#123;</div><div class="line">			ex.printStackTrace();</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="15-6-Java-虚拟机读写其他进程的数据"><a href="#15-6-Java-虚拟机读写其他进程的数据" class="headerlink" title="15.6 Java 虚拟机读写其他进程的数据"></a>15.6 Java 虚拟机读写其他进程的数据</h2><p>Runtime.exec()方法可以运行平台上的其他程序，返回一个 Process 对象。</p>
<ul>
<li>InputStream getErrorStream()：获取子进程的错误流</li>
<li>InputStream getInputStream()</li>
<li>OutputStream getOutputStream()</li>
</ul>
<p>读取其他进程数据：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReadFromProcess</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException</span>&#123;</div><div class="line">		Process p = Runtime.getRuntime().exec(<span class="string">"javac"</span>);</div><div class="line">		<span class="keyword">try</span>(</div><div class="line">			BufferedReader br = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(p.getErrorStream(),<span class="string">"gbk"</span>)))</div><div class="line">		&#123;</div><div class="line">			String buff = <span class="keyword">null</span>;</div><div class="line">			<span class="keyword">while</span>((buff = br.readLine()) != <span class="keyword">null</span>)</div><div class="line">			&#123;</div><div class="line">				System.out.println(buff);</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>发送数据给其他进程：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WriteToProcess</span> </span>&#123;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</div><div class="line">		Process p = Runtime.getRuntime().exec(<span class="string">"java D:\\01_code\\01_javasebasic\\waojava\\src\\unit15_javaio\\c6\\ReadStandard"</span>);</div><div class="line">		<span class="keyword">try</span>(</div><div class="line">			<span class="comment">// 以 p 进程的输出流创建 PrintStream</span></div><div class="line">			<span class="comment">// 这个 ps 对本程序是输出流,对p进程是输入流</span></div><div class="line">			PrintStream ps = <span class="keyword">new</span> PrintStream(p.getOutputStream()))</div><div class="line">		&#123;</div><div class="line">			ps.println(<span class="string">"啊啊啊啊啊啊"</span>);</div><div class="line">			ps.println(<span class="keyword">new</span> WriteToProcess());</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ReadStandard</span></span></div><div class="line"><span class="class"></span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></div><div class="line"><span class="function">	</span>&#123;</div><div class="line">		System.out.println(<span class="string">"============&gt;main"</span>);</div><div class="line">		<span class="keyword">try</span>(</div><div class="line">			Scanner sc = <span class="keyword">new</span> Scanner(System.in);</div><div class="line">			PrintStream ps = <span class="keyword">new</span> PrintStream(<span class="keyword">new</span> FileOutputStream(<span class="string">"out.txt"</span>)))</div><div class="line">		&#123;</div><div class="line">			sc.useDelimiter(<span class="string">"\n"</span>);</div><div class="line">			<span class="keyword">while</span>(sc.hasNext())</div><div class="line">			&#123;</div><div class="line">				ps.println(<span class="string">"键盘输入的内容是："</span> + sc.next());</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">catch</span>(IOException ioe)</div><div class="line">		&#123;</div><div class="line">			ioe.printStackTrace();</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="15-7-RandomAccessFile"><a href="#15-7-RandomAccessFile" class="headerlink" title="15.7 RandomAccessFile"></a>15.7 RandomAccessFile</h2><p>既可以读取文件内容也可以向文件输出数据。与普通输入、输出流不同的是，它支持随机访问的方式，程序可以直接跳转到文件的任意位置来读写数据。</p>
<p>如果只需要访问文件的部分内容；或者要向已存在的文件后追加内容，应该使用 RandomAccessFile</p>
<p>RandomAccessFile 最大的局限是只能读写文件，不能读写其他 IO 节点。</p>
<ul>
<li>long getFilePointer()</li>
<li>void seek(long pos)：将文件记录指针定位到 pos 位置</li>
</ul>
<p>因为既可以读也可以写所以同时包含 read 和 write 方法。</p>
<ul>
<li>r：只读</li>
<li>rw：读写</li>
<li>rws：读写，对文件的内容或元数据的每个更新都同步写入到底层存储设备</li>
<li>rwd：读写，对文件的内容的每个更新都同步写入到底层存储设备</li>
</ul>
<p>读取指定位置内容：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RandomAccessFileTest</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></div><div class="line"><span class="function">	</span>&#123;</div><div class="line">		<span class="keyword">try</span>(</div><div class="line">			RandomAccessFile raf = <span class="keyword">new</span> RandomAccessFile(<span class="string">"./src/unit15_javaio/c7/RandomAccessFileTest.java"</span>, <span class="string">"r"</span>))</div><div class="line">		&#123;</div><div class="line">			System.out.println(<span class="string">"RandomAccessFile 的文件指针的初始位置："</span> + raf.getFilePointer());</div><div class="line">			raf.seek(<span class="number">300</span>);</div><div class="line">			<span class="keyword">byte</span>[] bbuf = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</div><div class="line">			<span class="keyword">int</span> hasRead = <span class="number">0</span>;</div><div class="line">			<span class="keyword">while</span> ((hasRead = raf.read(bbuf)) &gt; <span class="number">0</span>)</div><div class="line">			&#123;</div><div class="line">				System.out.print(<span class="keyword">new</span> String(bbuf, <span class="number">0</span>, hasRead));</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">catch</span> (IOException ex)</div><div class="line">		&#123;</div><div class="line">			ex.printStackTrace();</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>追加内容：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AppendContent</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">		<span class="keyword">try</span>(</div><div class="line">			RandomAccessFile raf = <span class="keyword">new</span> RandomAccessFile(<span class="string">"out.txt"</span>, <span class="string">"rw"</span>))</div><div class="line">		&#123;</div><div class="line">            <span class="comment">// 指针定位到最后</span></div><div class="line">			raf.seek(raf.length());</div><div class="line">			raf.write(<span class="string">"追加的内容\r\naaaaaaa\r\n"</span>.getBytes());</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">catch</span> (IOException ex) </div><div class="line">		&#123;</div><div class="line">			ex.printStackTrace();</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>指定位置插入内容：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InsertContent</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">insert</span><span class="params">(String fileName, <span class="keyword">long</span> pos, String insertContent)</span> <span class="keyword">throws</span> IOException</span></div><div class="line"><span class="function">	</span>&#123;</div><div class="line">		File tmp = File.createTempFile(<span class="string">"tmp"</span>, <span class="keyword">null</span>);</div><div class="line">		tmp.deleteOnExit();</div><div class="line">		<span class="keyword">try</span>(</div><div class="line">			RandomAccessFile raf = <span class="keyword">new</span> RandomAccessFile(fileName, <span class="string">"rw"</span>);</div><div class="line">			FileOutputStream tmpOut = <span class="keyword">new</span> FileOutputStream(tmp);</div><div class="line">			FileInputStream tmpIn = <span class="keyword">new</span> FileInputStream(tmp))</div><div class="line">		&#123;</div><div class="line">			raf.seek(pos);</div><div class="line">			<span class="comment">// 将插入点后的内容读入临时文件中保存</span></div><div class="line">			<span class="keyword">byte</span>[] bbuf = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">64</span>];</div><div class="line">			<span class="keyword">int</span> hasRead = <span class="number">0</span>;</div><div class="line">			<span class="keyword">while</span> ((hasRead = raf.read(bbuf)) &gt; <span class="number">0</span>) </div><div class="line">			&#123;</div><div class="line">				tmpOut.write(bbuf, <span class="number">0</span>, hasRead);</div><div class="line">			&#125;</div><div class="line">			<span class="comment">// 追加需要插入的内容</span></div><div class="line">			raf.seek(pos);</div><div class="line">			raf.write(insertContent.getBytes());</div><div class="line">			<span class="keyword">while</span> ((hasRead = tmpIn.read(bbuf)) &gt; <span class="number">0</span>)</div><div class="line">			&#123;</div><div class="line">				raf.write(bbuf, <span class="number">0</span>, hasRead);</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException</span></div><div class="line"><span class="function">	</span>&#123;</div><div class="line">		insert(<span class="string">"./src/unit15_javaio/c7/InsertContent.java"</span>, <span class="number">45</span>, <span class="string">"插入的内容\r\t"</span>);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="15-8-Java-9-改进的对象序列化"><a href="#15-8-Java-9-改进的对象序列化" class="headerlink" title="15.8 Java 9 改进的对象序列化"></a>15.8 Java 9 改进的对象序列化</h2><h3 id="15-8-1-序列化的含义和意义"><a href="#15-8-1-序列化的含义和意义" class="headerlink" title="15.8.1 序列化的含义和意义"></a>15.8.1 序列化的含义和意义</h3><h3 id="15-8-2-使用对象流实现序列化"><a href="#15-8-2-使用对象流实现序列化" class="headerlink" title="15.8.2 使用对象流实现序列化"></a>15.8.2 使用对象流实现序列化</h3><h3 id="15-8-3-对象引用的序列化"><a href="#15-8-3-对象引用的序列化" class="headerlink" title="15.8.3 对象引用的序列化"></a>15.8.3 对象引用的序列化</h3><h3 id="15-8-4-Java-9-增加的过滤功能"><a href="#15-8-4-Java-9-增加的过滤功能" class="headerlink" title="15.8.4 Java 9 增加的过滤功能"></a>15.8.4 Java 9 增加的过滤功能</h3><h3 id="15-8-5-自定义序列化"><a href="#15-8-5-自定义序列化" class="headerlink" title="15.8.5 自定义序列化"></a>15.8.5 自定义序列化</h3><h3 id="15-8-6-另一种自定义序列化机制"><a href="#15-8-6-另一种自定义序列化机制" class="headerlink" title="15.8.6 另一种自定义序列化机制"></a>15.8.6 另一种自定义序列化机制</h3><h3 id="15-8-7-版本"><a href="#15-8-7-版本" class="headerlink" title="15.8.7 版本"></a>15.8.7 版本</h3><h2 id="15-9-NIO"><a href="#15-9-NIO" class="headerlink" title="15.9 NIO"></a>15.9 NIO</h2><h3 id="15-9-1-Java-新-IO-概述"><a href="#15-9-1-Java-新-IO-概述" class="headerlink" title="15.9.1 Java 新 IO 概述"></a>15.9.1 Java 新 IO 概述</h3><h3 id="15-9-2-使用-Buffer"><a href="#15-9-2-使用-Buffer" class="headerlink" title="15.9.2 使用 Buffer"></a>15.9.2 使用 Buffer</h3><h3 id="15-9-3-使用-Channel"><a href="#15-9-3-使用-Channel" class="headerlink" title="15.9.3 使用 Channel"></a>15.9.3 使用 Channel</h3><h3 id="15-9-4-字符集和-Charset"><a href="#15-9-4-字符集和-Charset" class="headerlink" title="15.9.4 字符集和 Charset"></a>15.9.4 字符集和 Charset</h3><h3 id="15-9-5-文件锁"><a href="#15-9-5-文件锁" class="headerlink" title="15.9.5 文件锁"></a>15.9.5 文件锁</h3><h2 id="15-10-Java-7-的-NIO-2"><a href="#15-10-Java-7-的-NIO-2" class="headerlink" title="15.10 Java 7 的 NIO.2"></a>15.10 Java 7 的 NIO.2</h2><h3 id="15-10-1-Path、Paths-和-Files-核心-API"><a href="#15-10-1-Path、Paths-和-Files-核心-API" class="headerlink" title="15.10.1 Path、Paths 和 Files 核心 API"></a>15.10.1 Path、Paths 和 Files 核心 API</h3><h3 id="15-10-2-使用-FileVisitor-便利文件和目录"><a href="#15-10-2-使用-FileVisitor-便利文件和目录" class="headerlink" title="15.10.2 使用 FileVisitor 便利文件和目录"></a>15.10.2 使用 FileVisitor 便利文件和目录</h3><h3 id="15-10-3-使用-WatchService-监控文件变化"><a href="#15-10-3-使用-WatchService-监控文件变化" class="headerlink" title="15.10.3 使用 WatchService 监控文件变化"></a>15.10.3 使用 WatchService 监控文件变化</h3><h3 id="15-10-4-访问文件属性"><a href="#15-10-4-访问文件属性" class="headerlink" title="15.10.4 访问文件属性"></a>15.10.4 访问文件属性</h3></div><div class="tags"><a href="/tags/疯狂-Java-讲义/">疯狂 Java 讲义</a></div><div class="post-nav"><a class="pre" href="/2020-01-16-疯狂Java讲义/疯狂Java讲义C16.html">第 16 章 多线程</a><a class="next" href="/2020-01-14-疯狂Java讲义/疯狂Java讲义C14.html">第 14 章 注解</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://yoursite.com"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/LVS/">LVS</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Nginx/">Nginx</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring-Cloud/">Spring Cloud</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/SpringCloud/">SpringCloud</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Srping-Boot/">Srping Boot</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/ZooKeeper/">ZooKeeper</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/vue/">vue</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/加解密技术/">加解密技术</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/吉他/">吉他</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/多线程/">多线程</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/心情/">心情</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/操作系统/">操作系统</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据库/">数据库</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/消息队列/">消息队列</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/疯狂-Java-讲义/">疯狂 Java 讲义</a><span class="category-list-count">17</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/算法/">算法</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/网络/">网络</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/计划/">计划</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/设计模式/">设计模式</a><span class="category-list-count">3</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/SpringCloud/" style="font-size: 15px;">SpringCloud</a> <a href="/tags/计划/" style="font-size: 15px;">计划</a> <a href="/tags/PGP/" style="font-size: 15px;">PGP</a> <a href="/tags/Hexo/" style="font-size: 15px;">Hexo</a> <a href="/tags/Linux/" style="font-size: 15px;">Linux</a> <a href="/tags/SFTP/" style="font-size: 15px;">SFTP</a> <a href="/tags/Oracle/" style="font-size: 15px;">Oracle</a> <a href="/tags/Samba/" style="font-size: 15px;">Samba</a> <a href="/tags/NIO/" style="font-size: 15px;">NIO</a> <a href="/tags/Kafka/" style="font-size: 15px;">Kafka</a> <a href="/tags/Redis/" style="font-size: 15px;">Redis</a> <a href="/tags/Nginx/" style="font-size: 15px;">Nginx</a> <a href="/tags/Blog/" style="font-size: 15px;">Blog</a> <a href="/tags/MQTT/" style="font-size: 15px;">MQTT</a> <a href="/tags/心情/" style="font-size: 15px;">心情</a> <a href="/tags/Srping-Boot/" style="font-size: 15px;">Srping Boot</a> <a href="/tags/LVS/" style="font-size: 15px;">LVS</a> <a href="/tags/网络/" style="font-size: 15px;">网络</a> <a href="/tags/Eureka/" style="font-size: 15px;">Eureka</a> <a href="/tags/吉他/" style="font-size: 15px;">吉他</a> <a href="/tags/vue/" style="font-size: 15px;">vue</a> <a href="/tags/多线程/" style="font-size: 15px;">多线程</a> <a href="/tags/疯狂-Java-讲义/" style="font-size: 15px;">疯狂 Java 讲义</a> <a href="/tags/算法/" style="font-size: 15px;">算法</a> <a href="/tags/ZooKeeper/" style="font-size: 15px;">ZooKeeper</a> <a href="/tags/设计模式/" style="font-size: 15px;">设计模式</a> <a href="/tags/Observer/" style="font-size: 15px;">Observer</a> <a href="/tags/Singleton/" style="font-size: 15px;">Singleton</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="https://blog.jamespan.me/" title="小鶸の道场" target="_blank">小鶸の道场</a><ul></ul><a href="https://www.haomwei.com/" title="屠城" target="_blank">屠城</a><ul></ul><a href="http://www.ruanyifeng.com/home.html" title="阮一峰" target="_blank">阮一峰</a><ul></ul><a href="https://www.cnblogs.com/jingmoxukong/" title="静默虚空" target="_blank">静默虚空</a><ul></ul><a href="https://blog.hushhw.cn/" title="hushhw" target="_blank">hushhw</a><ul></ul><a href="https://hasaik.com/" title="hasaik" target="_blank">hasaik</a><ul></ul><a href="https://www.imalan.cn/" title="三无计划" target="_blank">三无计划</a><ul></ul><a href="https://i-meto.com/" title="meto" target="_blank">meto</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2020 <a href="/." rel="nofollow">悟空.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>