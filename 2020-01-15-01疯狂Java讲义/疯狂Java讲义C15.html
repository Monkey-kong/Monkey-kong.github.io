<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>第 15 章 输入、输出 | 悟空</title>
  <meta name="keywords" content=" Java讲义 ">
  <meta name="description" content="第 15 章 输入、输出 | 悟空">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta property="og:type" content="website">
<meta property="og:title" content="悟空">
<meta property="og:url" content="http://yoursite.com/404.html">
<meta property="og:site_name" content="悟空">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2019-11-16T00:43:02.436Z">
<meta property="article:modified_time" content="2019-11-08T14:02:36.972Z">
<meta property="article:author" content="悟空">
<meta name="twitter:card" content="summary">


<link rel="icon" href="/img/avatar.jpg">

<link href="/css/style.css?v=1.1.0" rel="stylesheet">

<link href="/css/hl_theme/darcula.css?v=1.1.0" rel="stylesheet">

<link href="//cdn.jsdelivr.net/npm/animate.css@4.1.0/animate.min.css" rel="stylesheet">

<script src="//cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<script src="/js/titleTip.js?v=1.1.0" ></script>

<script src="//cdn.jsdelivr.net/npm/highlightjs@9.16.2/highlight.pack.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>

<script src="//cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script>



<script src="//cdn.jsdelivr.net/npm/jquery.cookie@1.4.1/jquery.cookie.min.js" ></script>

<script src="/js/iconfont.js?v=1.1.0" ></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aplayer/1.10.1/APlayer.min.css"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/aplayer/1.10.1/APlayer.min.js"></script>
<script src="https://unpkg.com/meting@1.2/dist/Meting.min.js"></script>
<meta name="generator" content="Hexo 5.2.0"><link rel="alternate" href="/atom.xml" title="悟空" type="application/atom+xml">
</head>
<div style="display: none">
  <input class="theme_disqus_on" value="false">
  <input class="theme_preload_comment" value="">
  <input class="theme_blog_path" value="">
  <input id="theme_shortcut" value="true" />
  <input id="theme_highlight_on" value="true" />
  <input id="theme_code_copy" value="true" />
</div>



<body>
<aside class="nav">
    <div class="nav-left">
        <a href="/" class="avatar_target">
    <img class="avatar" src="/img/avatar.jpg" />
</a>
<div class="author">
    <span>悟空</span>
</div>

<div class="icon">
    
        
        <a title="rss" href="/atom.xml" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-rss"></use>
                </svg>
            
        </a>
        
    
        
        <a title="github" href="https://github.com/Monkey-kong" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-github"></use>
                </svg>
            
        </a>
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
        <a title="zhihu" href="https://www.zhihu.com/people/wukong-16" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-zhihu"></use>
                </svg>
            
        </a>
        
    
        
    
        
    
        
    
        
        <a title="email" href="mailto:lixianfu1@outlook.com" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-email"></use>
                </svg>
            
        </a>
        
    
        
        <a title="qq" href="http://wpa.qq.com/msgrd?v=3&uin=1109075867&site=qq&menu=yes" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-qq"></use>
                </svg>
            
        </a>
        
    
        
    
        
    
</div>




<ul>
    <li><div class="all active" data-rel="全部文章">全部文章<small>(124)</small></div></li>
    
        
            
            <li><div data-rel="Java基础">Java基础<small>(17)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="JVM">JVM<small>(11)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="多线程">多线程<small>(7)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="OS">OS<small>(5)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="IO">IO<small>(9)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="高并发">高并发<small>(9)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="MySQL">MySQL<small>(14)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="分布式">分布式<small>(23)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="设计模式">设计模式<small>(4)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="算法">算法<small>(6)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="前端">前端<small>(7)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="其他">其他<small>(7)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="Spring基础">Spring基础<small>(5)</small></div>
                
            </li>
            
        
    
</ul>
<div class="left-bottom">
    <div class="menus">
    
    
    
    
    </div>
    <div><a class="about  hasFriend  site_url"  href="/about">关于</a><a style="width: 50%"  class="friends">友链</a></div>
</div>
<input type="hidden" id="yelog_site_posts_number" value="124">
<input type="hidden" id="yelog_site_word_count" value="349.4k">
<div style="display: none">
    <span id="busuanzi_value_site_uv"></span>
    <span id="busuanzi_value_site_pv"></span>
</div>

    </div>
    <div class="nav-right">
        <div class="friends-area">
    <div class="friends-title">
        友情链接
        <i class="iconfont icon-left"></i>
    </div>
    <div class="friends-content">
        <ul>
            
            <li><a target="_blank" href="http://yelog.org/">叶落阁</a></li>
            
            <li><a target="_blank" href="https://www.chenuon.cn/">程忧点滴</a></li>
            
            <li><a target="_blank" href="https://blog.jamespan.me/">小鶸の道场</a></li>
            
            <li><a target="_blank" href="http://www.ruanyifeng.com/home.html">阮一峰</a></li>
            
            <li><a target="_blank" href="https://www.haomwei.com/">屠城</a></li>
            
            <li><a target="_blank" href="https://hasaik.com/">hasaik</a></li>
            
            <li><a target="_blank" href="https://www.imalan.cn/">三无计划</a></li>
            
        </ul>
    </div>
</div>
        <div class="title-list">
    <div class="right-top">
        <div id="default-panel">
            <i class="iconfont icon-search" data-title="搜索 快捷键 i"></i>
            <div class="right-title">全部文章</div>
            <i class="iconfont icon-file-tree" data-title="切换到大纲视图 快捷键 w"></i>
        </div>
        <div id="search-panel">
            <i class="iconfont icon-left" data-title="返回"></i>
            <input id="local-search-input" />
            <label class="border-line" for="input"></label>
            <i class="iconfont icon-case-sensitive" data-title="大小写敏感"></i>
            <i class="iconfont icon-tag" data-title="标签"></i>
        </div>
        <div id="outline-panel" style="display: none">
            <div class="right-title">大纲</div>
            <i class="iconfont icon-list" data-title="切换到文章列表"></i>
        </div>
    </div>

    <div class="tags-list">
    <input id="tag-search" />
    <div class="tag-wrapper">
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>博客</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>多线程</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>分布式会话</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>架构</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>内网穿透</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>算法</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>网络</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>远程连接</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Blog</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Eureka</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>flex</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>frp</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>https</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>IO</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Java讲义</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>JVM</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Linux</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>LVS</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>MySQL</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Nginx</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>NIO</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Observer</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>OS</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Proxy</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Redis</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>RSC</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>sia</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Singleton</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Spring Cloud</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>TypeScript</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>uni-app</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>vue</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>webpack</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>ZooKeeper</a>
            </li>
        
    </div>

</div>

    
    <nav id="title-list-nav">
        
        <a  class="全部文章 分布式 "
           href="/2021-01-18-08%E5%88%86%E5%B8%83%E5%BC%8F/%E9%AB%98%E5%B9%B6%E5%8F%91%E6%9E%B6%E6%9E%84(6)-%E8%B5%84%E6%BA%90%E9%9A%94%E7%A6%BB.html"
           data-tag="架构"
           data-author="" >
            <span class="post-title" title="高并发架构(六)">高并发架构(六)</span>
            <span class="post-date" title="2021-01-18 20:43:12">2021/01/18</span>
        </a>
        
        <a  class="全部文章 分布式 "
           href="/2021-01-18-08%E5%88%86%E5%B8%83%E5%BC%8F/%E9%AB%98%E5%B9%B6%E5%8F%91%E6%9E%B6%E6%9E%84(7)-%E9%99%90%E6%B5%81.html"
           data-tag="架构"
           data-author="" >
            <span class="post-title" title="高并发架构(七)">高并发架构(七)</span>
            <span class="post-date" title="2021-01-18 20:43:12">2021/01/18</span>
        </a>
        
        <a  class="全部文章 分布式 "
           href="/2021-01-18-08%E5%88%86%E5%B8%83%E5%BC%8F/%E9%AB%98%E5%B9%B6%E5%8F%91%E6%9E%B6%E6%9E%84(8)-%E6%89%A9%E5%AE%B9.html"
           data-tag="架构"
           data-author="" >
            <span class="post-title" title="高并发架构(8) 扩容">高并发架构(8) 扩容</span>
            <span class="post-date" title="2021-01-18 20:43:12">2021/01/18</span>
        </a>
        
        <a  class="全部文章 分布式 "
           href="/2021-01-18-08%E5%88%86%E5%B8%83%E5%BC%8F/%E9%AB%98%E5%B9%B6%E5%8F%91%E6%9E%B6%E6%9E%84(9)-%E9%99%8D%E7%BA%A7.html"
           data-tag="架构"
           data-author="" >
            <span class="post-title" title="高并发架构(9) 降级">高并发架构(9) 降级</span>
            <span class="post-date" title="2021-01-18 20:43:12">2021/01/18</span>
        </a>
        
        <a  class="全部文章 分布式 "
           href="/2021-01-17-08%E5%88%86%E5%B8%83%E5%BC%8F/%E9%AB%98%E5%B9%B6%E5%8F%91%E6%9E%B6%E6%9E%84(4)-%E7%BC%93%E5%AD%98.html"
           data-tag="架构"
           data-author="" >
            <span class="post-title" title="高并发架构(四)">高并发架构(四)</span>
            <span class="post-date" title="2021-01-17 20:43:12">2021/01/17</span>
        </a>
        
        <a  class="全部文章 分布式 "
           href="/2021-01-17-08%E5%88%86%E5%B8%83%E5%BC%8F/%E9%AB%98%E5%B9%B6%E5%8F%91%E6%9E%B6%E6%9E%84(5)-CAP%E7%90%86%E8%AE%BA.html"
           data-tag="架构"
           data-author="" >
            <span class="post-title" title="高并发架构(五)">高并发架构(五)</span>
            <span class="post-date" title="2021-01-17 20:43:12">2021/01/17</span>
        </a>
        
        <a  class="全部文章 分布式 "
           href="/2021-01-16-08%E5%88%86%E5%B8%83%E5%BC%8F/%E9%AB%98%E5%B9%B6%E5%8F%91%E6%9E%B6%E6%9E%84(3)-dns%E5%92%8Cnginx%E9%80%9A%E8%BF%87lua%E8%AE%BF%E9%97%AEredis.html"
           data-tag="架构"
           data-author="" >
            <span class="post-title" title="高并发架构(三)">高并发架构(三)</span>
            <span class="post-date" title="2021-01-16 20:43:12">2021/01/16</span>
        </a>
        
        <a  class="全部文章 分布式 "
           href="/2021-01-08-08%E5%88%86%E5%B8%83%E5%BC%8F/%E9%AB%98%E5%B9%B6%E5%8F%91%E6%9E%B6%E6%9E%84(2)-redis%E6%89%A7%E8%A1%8Clua%E5%92%8Cnginx%E6%89%A7%E8%A1%8Clua.html"
           data-tag="架构"
           data-author="" >
            <span class="post-title" title="高并发架构(二)">高并发架构(二)</span>
            <span class="post-date" title="2021-01-08 20:43:12">2021/01/08</span>
        </a>
        
        <a  class="全部文章 分布式 "
           href="/2021-01-07-08%E5%88%86%E5%B8%83%E5%BC%8F/%E9%AB%98%E5%B9%B6%E5%8F%91%E6%9E%B6%E6%9E%84(1)-%E9%AB%98%E5%B9%B6%E5%8F%91%E6%9E%B6%E6%9E%84%E5%92%8Clua%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80.html"
           data-tag="架构"
           data-author="" >
            <span class="post-title" title="高并发架构(一)">高并发架构(一)</span>
            <span class="post-date" title="2021-01-07 20:43:12">2021/01/07</span>
        </a>
        
        <a  class="全部文章 Spring基础 "
           href="/2020-12-25-13Spring%E5%9F%BA%E7%A1%80/springmvc.html"
           data-tag="sia"
           data-author="" >
            <span class="post-title" title="第 5-9 章 Web 中的 Spring">第 5-9 章 Web 中的 Spring</span>
            <span class="post-date" title="2020-12-25 22:13:12">2020/12/25</span>
        </a>
        
        <a  class="全部文章 Spring基础 "
           href="/2020-12-24-13Spring%E5%9F%BA%E7%A1%80/20191026sia4.html"
           data-tag="sia"
           data-author="" >
            <span class="post-title" title="第 4 章 面向切面的 Spring">第 4 章 面向切面的 Spring</span>
            <span class="post-date" title="2020-12-24 22:13:12">2020/12/24</span>
        </a>
        
        <a  class="全部文章 Spring基础 "
           href="/2020-12-23-13Spring%E5%9F%BA%E7%A1%80/20191025sia3.html"
           data-tag="sia"
           data-author="" >
            <span class="post-title" title="第 3 章 高级装配">第 3 章 高级装配</span>
            <span class="post-date" title="2020-12-23 22:13:12">2020/12/23</span>
        </a>
        
        <a  class="全部文章 其他 "
           href="/2020-12-22-12%E5%85%B6%E4%BB%96/Linux%E5%A4%87%E5%BF%98.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="Linux 常用命令备忘">Linux 常用命令备忘</span>
            <span class="post-date" title="2020-12-22 22:13:12">2020/12/22</span>
        </a>
        
        <a  class="全部文章 其他 "
           href="/2020-12-22-12%E5%85%B6%E4%BB%96/%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5.html"
           data-tag="frp,内网穿透,远程连接"
           data-author="" >
            <span class="post-title" title="使用 frp 实现远程连接和内网穿透">使用 frp 实现远程连接和内网穿透</span>
            <span class="post-date" title="2020-12-22 22:13:12">2020/12/22</span>
        </a>
        
        <a  class="全部文章 Spring基础 "
           href="/2020-12-22-13Spring%E5%9F%BA%E7%A1%80/20191022sia2.html"
           data-tag="sia"
           data-author="" >
            <span class="post-title" title="第 2 章 装配 Bean">第 2 章 装配 Bean</span>
            <span class="post-date" title="2020-12-22 22:13:12">2020/12/22</span>
        </a>
        
        <a  class="全部文章 其他 "
           href="/2020-12-22-12%E5%85%B6%E4%BB%96/%E5%8D%9A%E5%AE%A2-%E9%9F%B3%E4%B9%90%E7%BB%84%E4%BB%B6%E9%9B%86%E6%88%90.html"
           data-tag="博客"
           data-author="" >
            <span class="post-title" title="Hexo 博客集成 hexo-tag-aplayer">Hexo 博客集成 hexo-tag-aplayer</span>
            <span class="post-date" title="2020-12-22 22:13:12">2020/12/22</span>
        </a>
        
        <a  class="全部文章 Spring基础 "
           href="/2020-12-21-13Spring%E5%9F%BA%E7%A1%80/20191019sia1.html"
           data-tag="sia"
           data-author="" >
            <span class="post-title" title="第 1 章 构建 Spring 之旅">第 1 章 构建 Spring 之旅</span>
            <span class="post-date" title="2020-12-21 22:13:12">2020/12/21</span>
        </a>
        
        <a  class="全部文章 Java基础 "
           href="/2020-12-21-01%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89/%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89C21-%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B.html"
           data-tag="Java讲义"
           data-author="" >
            <span class="post-title" title="第 21 章 函数式编程">第 21 章 函数式编程</span>
            <span class="post-date" title="2020-12-21 22:13:12">2020/12/21</span>
        </a>
        
        <a  class="全部文章 前端 "
           href="/2020-11-30-11%E5%89%8D%E7%AB%AF/TypeScript.html"
           data-tag="TypeScript"
           data-author="" >
            <span class="post-title" title="TypeScript 学习(一)">TypeScript 学习(一)</span>
            <span class="post-date" title="2020-11-30 22:13:12">2020/11/30</span>
        </a>
        
        <a  class="全部文章 前端 "
           href="/2020-11-15-11%E5%89%8D%E7%AB%AF/Flex%E5%B8%83%E5%B1%80%E5%AE%9E%E6%88%98.html"
           data-tag="flex"
           data-author="" >
            <span class="post-title" title="Flex 布局实战">Flex 布局实战</span>
            <span class="post-date" title="2020-11-15 22:13:12">2020/11/15</span>
        </a>
        
        <a  class="全部文章 算法 "
           href="/2020-11-08-10%E7%AE%97%E6%B3%95/%E5%9F%BA%E7%A1%806-%E9%93%BE%E8%A1%A8%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98.html"
           data-tag="算法"
           data-author="" >
            <span class="post-title" title="算法基础（六）">算法基础（六）</span>
            <span class="post-date" title="2020-11-08 23:13:12">2020/11/08</span>
        </a>
        
        <a  class="全部文章 算法 "
           href="/2020-11-08-10%E7%AE%97%E6%B3%95/%E5%9F%BA%E7%A1%805-%E5%89%8D%E7%BC%80%E6%A0%91_%E6%A1%B6%E6%8E%92%E5%BA%8F_%E6%8E%92%E5%BA%8F%E6%80%BB%E7%BB%93.html"
           data-tag="算法"
           data-author="" >
            <span class="post-title" title="算法基础（五）">算法基础（五）</span>
            <span class="post-date" title="2020-11-08 22:13:12">2020/11/08</span>
        </a>
        
        <a  class="全部文章 算法 "
           href="/2020-11-02-10%E7%AE%97%E6%B3%95/%E5%9F%BA%E7%A1%803-%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F%E5%92%8C%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F.html"
           data-tag="算法"
           data-author="" >
            <span class="post-title" title="算法基础（三）">算法基础（三）</span>
            <span class="post-date" title="2020-11-02 22:13:12">2020/11/02</span>
        </a>
        
        <a  class="全部文章 算法 "
           href="/2020-11-02-10%E7%AE%97%E6%B3%95/%E5%9F%BA%E7%A1%804-%E6%AF%94%E8%BE%83%E5%99%A8_%E5%A0%86%E6%8E%92%E5%BA%8F.html"
           data-tag="算法"
           data-author="" >
            <span class="post-title" title="算法基础（四）">算法基础（四）</span>
            <span class="post-date" title="2020-11-02 22:13:12">2020/11/02</span>
        </a>
        
        <a  class="全部文章 算法 "
           href="/2020-10-30-10%E7%AE%97%E6%B3%95/%E5%9F%BA%E7%A1%802.html"
           data-tag="算法"
           data-author="" >
            <span class="post-title" title="算法基础（二）">算法基础（二）</span>
            <span class="post-date" title="2020-10-30 22:13:12">2020/10/30</span>
        </a>
        
        <a  class="全部文章 算法 "
           href="/2020-10-28-10%E7%AE%97%E6%B3%95/%E5%9F%BA%E7%A1%801-%E5%A4%8D%E6%9D%82%E5%BA%A6_%E5%AF%B9%E6%95%B0%E5%99%A8_%E4%BA%8C%E5%88%86%E6%B3%95_%E5%BC%82%E6%88%96%E8%BF%90%E7%AE%97.html"
           data-tag="算法"
           data-author="" >
            <span class="post-title" title="算法基础（一）">算法基础（一）</span>
            <span class="post-date" title="2020-10-28 22:13:12">2020/10/28</span>
        </a>
        
        <a  class="全部文章 分布式 "
           href="/2020-10-12-08%E5%88%86%E5%B8%83%E5%BC%8F/SpringCloud(8)-%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1%E5%AE%9E%E8%B7%B5.html"
           data-tag="Spring Cloud"
           data-author="" >
            <span class="post-title" title="Spring Cloud学习(八)">Spring Cloud学习(八)</span>
            <span class="post-date" title="2020-10-12 23:43:12">2020/10/12</span>
        </a>
        
        <a  class="全部文章 分布式 "
           href="/2020-10-11-08%E5%88%86%E5%B8%83%E5%BC%8F/SpringCloud(8)-%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1.html"
           data-tag="Spring Cloud"
           data-author="" >
            <span class="post-title" title="Spring Cloud学习(八)">Spring Cloud学习(八)</span>
            <span class="post-date" title="2020-10-11 23:43:12">2020/10/11</span>
        </a>
        
        <a  class="全部文章 分布式 "
           href="/2020-10-10-08%E5%88%86%E5%B8%83%E5%BC%8F/SpringCloud(7)-%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81.html"
           data-tag="Spring Cloud"
           data-author="" >
            <span class="post-title" title="Spring Cloud学习(七)">Spring Cloud学习(七)</span>
            <span class="post-date" title="2020-10-10 23:43:12">2020/10/10</span>
        </a>
        
        <a  class="全部文章 分布式 "
           href="/2020-10-04-08%E5%88%86%E5%B8%83%E5%BC%8F/SpringCloud(6)-config.html"
           data-tag="Spring Cloud"
           data-author="" >
            <span class="post-title" title="Spring Cloud学习(六)">Spring Cloud学习(六)</span>
            <span class="post-date" title="2020-10-04 23:43:12">2020/10/04</span>
        </a>
        
        <a  class="全部文章 分布式 "
           href="/2020-10-04-08%E5%88%86%E5%B8%83%E5%BC%8F/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BC%9A%E8%AF%9D%E7%AE%A1%E7%90%86(1).html"
           data-tag="分布式会话"
           data-author="" >
            <span class="post-title" title="分布式会话管理(一)">分布式会话管理(一)</span>
            <span class="post-date" title="2020-10-04 20:43:12">2020/10/04</span>
        </a>
        
        <a  class="全部文章 分布式 "
           href="/2020-10-04-08%E5%88%86%E5%B8%83%E5%BC%8F/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BC%9A%E8%AF%9D%E7%AE%A1%E7%90%86(3).html"
           data-tag="分布式会话"
           data-author="" >
            <span class="post-title" title="分布式会话管理(三)">分布式会话管理(三)</span>
            <span class="post-date" title="2020-10-04 20:43:12">2020/10/04</span>
        </a>
        
        <a  class="全部文章 分布式 "
           href="/2020-10-04-08%E5%88%86%E5%B8%83%E5%BC%8F/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BC%9A%E8%AF%9D%E7%AE%A1%E7%90%86(4).html"
           data-tag="分布式会话"
           data-author="" >
            <span class="post-title" title="分布式会话管理(四)">分布式会话管理(四)</span>
            <span class="post-date" title="2020-10-04 20:43:12">2020/10/04</span>
        </a>
        
        <a  class="全部文章 分布式 "
           href="/2020-10-04-08%E5%88%86%E5%B8%83%E5%BC%8F/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BC%9A%E8%AF%9D%E7%AE%A1%E7%90%86(2).html"
           data-tag="分布式会话"
           data-author="" >
            <span class="post-title" title="分布式会话管理(二)">分布式会话管理(二)</span>
            <span class="post-date" title="2020-10-04 20:43:12">2020/10/04</span>
        </a>
        
        <a  class="全部文章 分布式 "
           href="/2020-10-03-08%E5%88%86%E5%B8%83%E5%BC%8F/SpringCloud(5)-zuul.html"
           data-tag="Spring Cloud"
           data-author="" >
            <span class="post-title" title="Spring Cloud学习(五)">Spring Cloud学习(五)</span>
            <span class="post-date" title="2020-10-03 23:43:12">2020/10/03</span>
        </a>
        
        <a  class="全部文章 分布式 "
           href="/2020-10-03-08%E5%88%86%E5%B8%83%E5%BC%8F/SpringCloud(4)-Hystrix.html"
           data-tag="Spring Cloud"
           data-author="" >
            <span class="post-title" title="Spring Cloud学习(四)">Spring Cloud学习(四)</span>
            <span class="post-date" title="2020-10-03 23:33:12">2020/10/03</span>
        </a>
        
        <a  class="全部文章 分布式 "
           href="/2020-10-02-08%E5%88%86%E5%B8%83%E5%BC%8F/SpringCloud(3)-Feign.html"
           data-tag="Spring Cloud"
           data-author="" >
            <span class="post-title" title="SpringCloud学习(三)">SpringCloud学习(三)</span>
            <span class="post-date" title="2020-10-02 23:33:12">2020/10/02</span>
        </a>
        
        <a  class="全部文章 分布式 "
           href="/2020-10-02-08%E5%88%86%E5%B8%83%E5%BC%8F/SpringCloud(2).html"
           data-tag="Spring Cloud"
           data-author="" >
            <span class="post-title" title="Spring Cloud学习(二)">Spring Cloud学习(二)</span>
            <span class="post-date" title="2020-10-02 23:13:12">2020/10/02</span>
        </a>
        
        <a  class="全部文章 分布式 "
           href="/2020-10-01-08%E5%88%86%E5%B8%83%E5%BC%8F/SpringCloud(1).html"
           data-tag="Spring Cloud"
           data-author="" >
            <span class="post-title" title="Spring Cloud学习(一)">Spring Cloud学习(一)</span>
            <span class="post-date" title="2020-10-01 22:13:12">2020/10/01</span>
        </a>
        
        <a  class="全部文章 OS "
           href="/2020-09-20-04%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E7%AC%AC%E4%BA%94%E8%AF%BE.html"
           data-tag="OS"
           data-author="" >
            <span class="post-title" title="操作系统学习（五）">操作系统学习（五）</span>
            <span class="post-date" title="2020-09-20 22:13:12">2020/09/20</span>
        </a>
        
        <a  class="全部文章 OS "
           href="/2020-09-19-04%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E7%AC%AC%E5%9B%9B%E8%AF%BE.html"
           data-tag="OS"
           data-author="" >
            <span class="post-title" title="操作系统学习（四）">操作系统学习（四）</span>
            <span class="post-date" title="2020-09-19 22:13:12">2020/09/19</span>
        </a>
        
        <a  class="全部文章 OS "
           href="/2020-09-18-04%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E7%AC%AC%E4%B8%89%E8%AF%BE.html"
           data-tag="OS"
           data-author="" >
            <span class="post-title" title="操作系统学习（三）">操作系统学习（三）</span>
            <span class="post-date" title="2020-09-18 22:13:12">2020/09/18</span>
        </a>
        
        <a  class="全部文章 OS "
           href="/2020-09-16-04%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E7%AC%AC%E4%BA%8C%E8%AF%BE.html"
           data-tag="OS"
           data-author="" >
            <span class="post-title" title="操作系统学习（二）">操作系统学习（二）</span>
            <span class="post-date" title="2020-09-16 22:13:12">2020/09/16</span>
        </a>
        
        <a  class="全部文章 OS "
           href="/2020-09-15-04%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E7%AC%AC%E4%B8%80%E8%AF%BE.html"
           data-tag="OS"
           data-author="" >
            <span class="post-title" title="操作系统学习（一）">操作系统学习（一）</span>
            <span class="post-date" title="2020-09-15 22:13:12">2020/09/15</span>
        </a>
        
        <a  class="全部文章 MySQL "
           href="/2020-09-10-07MySQL/mysql_14_%E7%BB%8F%E5%85%B8%E9%9D%A2%E8%AF%95%E9%A2%98.html"
           data-tag="MySQL"
           data-author="" >
            <span class="post-title" title="MySql 调优(十四) 经典面试题目">MySql 调优(十四) 经典面试题目</span>
            <span class="post-date" title="2020-09-10 23:13:12">2020/09/10</span>
        </a>
        
        <a  class="全部文章 MySQL "
           href="/2020-08-29-07MySQL/mysql_13_JavaSPI%E6%9C%BA%E5%88%B6.html"
           data-tag="MySQL"
           data-author="" >
            <span class="post-title" title="MySql 调优(十三) Java SPI 机制详解">MySql 调优(十三) Java SPI 机制详解</span>
            <span class="post-date" title="2020-08-29 23:13:12">2020/08/29</span>
        </a>
        
        <a  class="全部文章 MySQL "
           href="/2020-08-29-07MySQL/mysql_12_%E7%BB%8F%E5%85%B8%E7%AC%94%E8%AF%95%E9%A2%98.html"
           data-tag="MySQL"
           data-author="" >
            <span class="post-title" title="MySql 调优(十二) 经典笔试题">MySql 调优(十二) 经典笔试题</span>
            <span class="post-date" title="2020-08-29 22:13:12">2020/08/29</span>
        </a>
        
        <a  class="全部文章 MySQL "
           href="/2020-08-29-07MySQL/mysql_11_%E8%AF%BB%E5%86%99%E5%88%86%E7%A6%BB.html"
           data-tag="MySQL"
           data-author="" >
            <span class="post-title" title="MySql 调优(十一) 读写分离">MySql 调优(十一) 读写分离</span>
            <span class="post-date" title="2020-08-29 21:13:12">2020/08/29</span>
        </a>
        
        <a  class="全部文章 MySQL "
           href="/2020-08-29-07MySQL/mysql_10_%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6.html"
           data-tag="MySQL"
           data-author="" >
            <span class="post-title" title="MySql 调优(十)">MySql 调优(十)</span>
            <span class="post-date" title="2020-08-29 20:13:12">2020/08/29</span>
        </a>
        
        <a  class="全部文章 MySQL "
           href="/2020-08-27-07MySQL/mysql_9_%E4%BA%8B%E5%8A%A1.html"
           data-tag="MySQL"
           data-author="" >
            <span class="post-title" title="MySql 调优(九)">MySql 调优(九)</span>
            <span class="post-date" title="2020-08-27 22:13:12">2020/08/27</span>
        </a>
        
        <a  class="全部文章 MySQL "
           href="/2020-08-26-07MySQL/mysql_8_%E9%94%81%E6%9C%BA%E5%88%B6.html"
           data-tag="MySQL"
           data-author="" >
            <span class="post-title" title="MySql 调优(八)">MySql 调优(八)</span>
            <span class="post-date" title="2020-08-26 22:13:12">2020/08/26</span>
        </a>
        
        <a  class="全部文章 MySQL "
           href="/2020-08-16-07MySQL/mysql_7_%E7%B3%BB%E7%BB%9F%E5%8F%82%E6%95%B0%E5%92%8C%E6%97%A5%E5%BF%97%E7%B3%BB%E7%BB%9F.html"
           data-tag="MySQL"
           data-author="" >
            <span class="post-title" title="MySql 调优(七)">MySql 调优(七)</span>
            <span class="post-date" title="2020-08-16 22:13:12">2020/08/16</span>
        </a>
        
        <a  class="全部文章 MySQL "
           href="/2020-08-14-07MySQL/mysql_6_%E5%88%86%E5%8C%BA.html"
           data-tag="MySQL"
           data-author="" >
            <span class="post-title" title="MySql 调优(六)">MySql 调优(六)</span>
            <span class="post-date" title="2020-08-14 22:13:12">2020/08/14</span>
        </a>
        
        <a  class="全部文章 MySQL "
           href="/2020-08-13-07MySQL/mysql_5_%E6%9F%A5%E8%AF%A2%E4%BC%98%E5%8C%96.html"
           data-tag="MySQL"
           data-author="" >
            <span class="post-title" title="MySql 调优(五)">MySql 调优(五)</span>
            <span class="post-date" title="2020-08-13 22:13:12">2020/08/13</span>
        </a>
        
        <a  class="全部文章 MySQL "
           href="/2020-08-10-07MySQL/mysql_3_%E7%B4%A2%E5%BC%95%E5%8C%B9%E9%85%8D%E5%92%8C%E7%B4%A2%E5%BC%95%E4%BC%98%E5%8C%96%E7%9B%91%E6%8E%A7.html"
           data-tag="MySQL"
           data-author="" >
            <span class="post-title" title="MySql 调优(三)">MySql 调优(三)</span>
            <span class="post-date" title="2020-08-10 22:13:12">2020/08/10</span>
        </a>
        
        <a  class="全部文章 MySQL "
           href="/2020-08-09-07MySQL/mysql_2_%E6%89%A7%E8%A1%8C%E8%AE%A1%E5%88%92%E5%92%8C%E5%85%B3%E9%94%AE%E5%90%8D%E8%AF%8D.html"
           data-tag="MySQL"
           data-author="" >
            <span class="post-title" title="MySql 调优(二)">MySql 调优(二)</span>
            <span class="post-date" title="2020-08-09 22:13:12">2020/08/09</span>
        </a>
        
        <a  class="全部文章 MySQL "
           href="/2020-08-05-07MySQL/mysql_1_%E6%80%A7%E8%83%BD%E7%9B%91%E6%8E%A7%E5%92%8C%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%BC%98%E5%8C%96.html"
           data-tag="MySQL"
           data-author="" >
            <span class="post-title" title="MySql 调优(一)">MySql 调优(一)</span>
            <span class="post-date" title="2020-08-05 22:13:12">2020/08/05</span>
        </a>
        
        <a  class="全部文章 MySQL "
           href="/2020-08-04-07MySQL/mysql_0_%E5%AE%89%E8%A3%85%E4%B8%8E%E5%8D%B8%E8%BD%BD.html"
           data-tag="MySQL"
           data-author="" >
            <span class="post-title" title="MySql 安装">MySql 安装</span>
            <span class="post-date" title="2020-08-04 22:13:12">2020/08/04</span>
        </a>
        
        <a  class="全部文章 JVM "
           href="/2020-07-24-02JVM/jvm%E5%AD%A6%E4%B9%A011_jvm%E5%B8%B8%E8%A7%81%E5%8F%82%E6%95%B0%E6%80%BB%E7%BB%93.html"
           data-tag="JVM"
           data-author="" >
            <span class="post-title" title="JVM 学习（十一）">JVM 学习（十一）</span>
            <span class="post-date" title="2020-07-24 22:13:12">2020/07/24</span>
        </a>
        
        <a  class="全部文章 JVM "
           href="/2020-07-24-02JVM/jvm%E5%AD%A6%E4%B9%A012_%E9%9D%A2%E8%AF%95%E9%97%AE%E9%A2%98.html"
           data-tag="JVM"
           data-author="" >
            <span class="post-title" title="JVM 学习（十二）">JVM 学习（十二）</span>
            <span class="post-date" title="2020-07-24 22:13:12">2020/07/24</span>
        </a>
        
        <a  class="全部文章 JVM "
           href="/2020-07-23-02JVM/jvm%E5%AD%A6%E4%B9%A0%2010_%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E7%AE%97%E6%B3%95.html"
           data-tag="JVM"
           data-author="" >
            <span class="post-title" title="JVM 学习（十）">JVM 学习（十）</span>
            <span class="post-date" title="2020-07-23 22:13:12">2020/07/23</span>
        </a>
        
        <a  class="全部文章 JVM "
           href="/2020-07-20-02JVM/jvm%E5%AD%A6%E4%B9%A07_xx.html"
           data-tag="JVM"
           data-author="" >
            <span class="post-title" title="JVM 学习（七）">JVM 学习（七）</span>
            <span class="post-date" title="2020-07-20 22:13:12">2020/07/20</span>
        </a>
        
        <a  class="全部文章 JVM "
           href="/2020-07-20-02JVM/jvm%E5%AD%A6%E4%B9%A08_%E8%B0%83%E4%BC%982.html"
           data-tag="JVM"
           data-author="" >
            <span class="post-title" title="JVM 学习（八）">JVM 学习（八）</span>
            <span class="post-date" title="2020-07-20 22:13:12">2020/07/20</span>
        </a>
        
        <a  class="全部文章 JVM "
           href="/2020-07-20-02JVM/jvm%E5%AD%A6%E4%B9%A09_%E8%B0%83%E4%BC%983.html"
           data-tag="JVM"
           data-author="" >
            <span class="post-title" title="JVM 学习（九）">JVM 学习（九）</span>
            <span class="post-date" title="2020-07-20 22:13:12">2020/07/20</span>
        </a>
        
        <a  class="全部文章 JVM "
           href="/2020-07-19-02JVM/jvm%E5%AD%A6%E4%B9%A06_GC.html"
           data-tag="JVM"
           data-author="" >
            <span class="post-title" title="JVM 学习（六）">JVM 学习（六）</span>
            <span class="post-date" title="2020-07-19 22:13:12">2020/07/19</span>
        </a>
        
        <a  class="全部文章 JVM "
           href="/2020-07-19-02JVM/jvm%E5%AD%A6%E4%B9%A05_%E8%BF%90%E8%A1%8C%E6%97%B6%E6%95%B0%E6%8D%AE%E5%8C%BA.html"
           data-tag="JVM"
           data-author="" >
            <span class="post-title" title="JVM 学习（五）">JVM 学习（五）</span>
            <span class="post-date" title="2020-07-19 22:13:12">2020/07/19</span>
        </a>
        
        <a  class="全部文章 JVM "
           href="/2020-07-16-02JVM/jvm%E5%AD%A6%E4%B9%A03_4_java%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B.html"
           data-tag="JVM"
           data-author="" >
            <span class="post-title" title="JVM 学习（三、四）">JVM 学习（三、四）</span>
            <span class="post-date" title="2020-07-16 22:13:12">2020/07/16</span>
        </a>
        
        <a  class="全部文章 JVM "
           href="/2020-06-29-02JVM/jvm%E5%AD%A6%E4%B9%A02_class%E5%8A%A0%E8%BD%BD.html"
           data-tag="JVM"
           data-author="" >
            <span class="post-title" title="JVM 学习（二）">JVM 学习（二）</span>
            <span class="post-date" title="2020-06-29 22:13:12">2020/06/29</span>
        </a>
        
        <a  class="全部文章 JVM "
           href="/2020-06-28-02JVM/jvm%E5%AD%A6%E4%B9%A01_jvm%E5%9F%BA%E7%A1%80_jsf.html"
           data-tag="JVM"
           data-author="" >
            <span class="post-title" title="JVM 学习（一）">JVM 学习（一）</span>
            <span class="post-date" title="2020-06-28 22:13:12">2020/06/28</span>
        </a>
        
        <a  class="全部文章 设计模式 "
           href="/2020-06-27-09%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E4%BB%8E%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%E5%88%B0%20AOP.html"
           data-tag="Proxy"
           data-author="" >
            <span class="post-title" title="设计模式之 - 从代理模式到 Spring AOP">设计模式之 - 从代理模式到 Spring AOP</span>
            <span class="post-date" title="2020-06-27 22:13:12">2020/06/27</span>
        </a>
        
        <a  class="全部文章 IO "
           href="/2020-06-21-05IO/IO%E5%AD%A6%E4%B9%A07.html"
           data-tag="IO"
           data-author="" >
            <span class="post-title" title="IO学习（七）">IO学习（七）</span>
            <span class="post-date" title="2020-06-21 22:13:12">2020/06/21</span>
        </a>
        
        <a  class="全部文章 IO "
           href="/2020-06-21-05IO/IO%E5%AD%A6%E4%B9%A08.html"
           data-tag="IO"
           data-author="" >
            <span class="post-title" title="IO学习（八）">IO学习（八）</span>
            <span class="post-date" title="2020-06-21 22:13:12">2020/06/21</span>
        </a>
        
        <a  class="全部文章 IO "
           href="/2020-06-16-05IO/IO%E5%AD%A6%E4%B9%A05.html"
           data-tag="IO"
           data-author="" >
            <span class="post-title" title="IO学习（五）">IO学习（五）</span>
            <span class="post-date" title="2020-06-16 22:13:12">2020/06/16</span>
        </a>
        
        <a  class="全部文章 IO "
           href="/2020-06-16-05IO/IO%E5%AD%A6%E4%B9%A06.html"
           data-tag="IO"
           data-author="" >
            <span class="post-title" title="IO学习（六）">IO学习（六）</span>
            <span class="post-date" title="2020-06-16 22:13:12">2020/06/16</span>
        </a>
        
        <a  class="全部文章 IO "
           href="/2020-06-14-05IO/IO%E5%AD%A6%E4%B9%A03.html"
           data-tag="IO"
           data-author="" >
            <span class="post-title" title="IO学习（三）">IO学习（三）</span>
            <span class="post-date" title="2020-06-14 22:13:12">2020/06/14</span>
        </a>
        
        <a  class="全部文章 其他 "
           href="/2020-06-12-08%E5%88%86%E5%B8%83%E5%BC%8F/Https%E4%B9%8B%E5%AE%9E%E6%88%98.html"
           data-tag="https"
           data-author="" >
            <span class="post-title" title="Https 实战">Https 实战</span>
            <span class="post-date" title="2020-06-12 22:13:12">2020/06/12</span>
        </a>
        
        <a  class="全部文章 IO "
           href="/2020-06-10-05IO/IO%E5%AD%A6%E4%B9%A02.html"
           data-tag="IO"
           data-author="" >
            <span class="post-title" title="IO学习（二）">IO学习（二）</span>
            <span class="post-date" title="2020-06-10 22:13:12">2020/06/10</span>
        </a>
        
        <a  class="全部文章 IO "
           href="/2020-06-08-05IO/IO%E5%AD%A6%E4%B9%A01.html"
           data-tag="IO"
           data-author="" >
            <span class="post-title" title="IO学习（一）">IO学习（一）</span>
            <span class="post-date" title="2020-06-08 22:13:12">2020/06/08</span>
        </a>
        
        <a  class="全部文章 其他 "
           href="/2020-06-06-08%E5%88%86%E5%B8%83%E5%BC%8F/Https%E4%B9%8BSSLTLS%20%E5%8D%8F%E8%AE%AE.html"
           data-tag="https"
           data-author="" >
            <span class="post-title" title="Https 之 SSL/TLS 协议">Https 之 SSL/TLS 协议</span>
            <span class="post-date" title="2020-06-06 22:13:12">2020/06/06</span>
        </a>
        
        <a  class="全部文章 IO "
           href="/2020-06-06-05IO/IO%E5%AD%A6%E4%B9%A04.html"
           data-tag="IO"
           data-author="" >
            <span class="post-title" title="IO学习（四）">IO学习（四）</span>
            <span class="post-date" title="2020-06-06 22:13:12">2020/06/06</span>
        </a>
        
        <a  class="全部文章 前端 "
           href="/2020-05-25-11%E5%89%8D%E7%AB%AF/Flex%E5%B8%83%E5%B1%80.html"
           data-tag="flex"
           data-author="" >
            <span class="post-title" title="Flex 布局">Flex 布局</span>
            <span class="post-date" title="2020-05-25 22:13:12">2020/05/25</span>
        </a>
        
        <a  class="全部文章 前端 "
           href="/2020-05-25-11%E5%89%8D%E7%AB%AF/vue-todo.html"
           data-tag="vue,webpack"
           data-author="" >
            <span class="post-title" title="vue 入门项目">vue 入门项目</span>
            <span class="post-date" title="2020-05-25 22:13:12">2020/05/25</span>
        </a>
        
        <a  class="全部文章 前端 "
           href="/2020-04-10-11%E5%89%8D%E7%AB%AF/uniapp.html"
           data-tag="uni-app"
           data-author="" >
            <span class="post-title" title="uni-app">uni-app</span>
            <span class="post-date" title="2020-04-10 22:13:13">2020/04/10</span>
        </a>
        
        <a  class="全部文章 前端 "
           href="/2020-04-10-11%E5%89%8D%E7%AB%AF/vue%E5%AD%A6%E4%B9%A0(2).html"
           data-tag="vue"
           data-author="" >
            <span class="post-title" title="vue 学习(二)">vue 学习(二)</span>
            <span class="post-date" title="2020-04-10 22:13:12">2020/04/10</span>
        </a>
        
        <a  class="全部文章 前端 "
           href="/2020-04-10-11%E5%89%8D%E7%AB%AF/vue%E5%AD%A6%E4%B9%A0(1).html"
           data-tag="vue"
           data-author="" >
            <span class="post-title" title="vue 学习(一)">vue 学习(一)</span>
            <span class="post-date" title="2020-04-10 22:13:12">2020/04/10</span>
        </a>
        
        <a  class="全部文章 多线程 "
           href="/2020-04-07-03%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%B8%8E%E9%AB%98%E5%B9%B6%E5%8F%91/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E9%AB%98%E5%B9%B6%E5%8F%91%E5%AD%A6%E4%B9%A0(7).html"
           data-tag="多线程"
           data-author="" >
            <span class="post-title" title="多线程高并发学习(七)">多线程高并发学习(七)</span>
            <span class="post-date" title="2020-04-07 22:13:12">2020/04/07</span>
        </a>
        
        <a  class="全部文章 多线程 "
           href="/2020-04-06-03%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%B8%8E%E9%AB%98%E5%B9%B6%E5%8F%91/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E9%AB%98%E5%B9%B6%E5%8F%91%E5%AD%A6%E4%B9%A0(6).html"
           data-tag="多线程"
           data-author="" >
            <span class="post-title" title="多线程高并发学习(六)">多线程高并发学习(六)</span>
            <span class="post-date" title="2020-04-06 22:13:12">2020/04/06</span>
        </a>
        
        <a  class="全部文章 多线程 "
           href="/2020-04-05-03%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%B8%8E%E9%AB%98%E5%B9%B6%E5%8F%91/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E9%AB%98%E5%B9%B6%E5%8F%91%E5%AD%A6%E4%B9%A0(5).html"
           data-tag="多线程"
           data-author="" >
            <span class="post-title" title="多线程高并发学习(五)">多线程高并发学习(五)</span>
            <span class="post-date" title="2020-04-05 22:13:12">2020/04/05</span>
        </a>
        
        <a  class="全部文章 多线程 "
           href="/2020-04-04-03%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%B8%8E%E9%AB%98%E5%B9%B6%E5%8F%91/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E9%AB%98%E5%B9%B6%E5%8F%91%E5%AD%A6%E4%B9%A0(4).html"
           data-tag="多线程"
           data-author="" >
            <span class="post-title" title="多线程高并发学习(四)">多线程高并发学习(四)</span>
            <span class="post-date" title="2020-04-04 22:13:12">2020/04/04</span>
        </a>
        
        <a  class="全部文章 多线程 "
           href="/2020-04-03-03%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%B8%8E%E9%AB%98%E5%B9%B6%E5%8F%91/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E9%AB%98%E5%B9%B6%E5%8F%91%E5%AD%A6%E4%B9%A0(3).html"
           data-tag="多线程"
           data-author="" >
            <span class="post-title" title="多线程高并发学习(三)">多线程高并发学习(三)</span>
            <span class="post-date" title="2020-04-03 22:13:12">2020/04/03</span>
        </a>
        
        <a  class="全部文章 多线程 "
           href="/2020-04-02-03%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%B8%8E%E9%AB%98%E5%B9%B6%E5%8F%91/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E9%AB%98%E5%B9%B6%E5%8F%91%E5%AD%A6%E4%B9%A0(2).html"
           data-tag="多线程"
           data-author="" >
            <span class="post-title" title="多线程高并发学习(二)">多线程高并发学习(二)</span>
            <span class="post-date" title="2020-04-02 22:13:12">2020/04/02</span>
        </a>
        
        <a  class="全部文章 多线程 "
           href="/2020-04-01-03%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%B8%8E%E9%AB%98%E5%B9%B6%E5%8F%91/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E9%AB%98%E5%B9%B6%E5%8F%91%E5%AD%A6%E4%B9%A0(1).html"
           data-tag="多线程"
           data-author="" >
            <span class="post-title" title="多线程高并发学习(一)">多线程高并发学习(一)</span>
            <span class="post-date" title="2020-04-01 22:13:12">2020/04/01</span>
        </a>
        
        <a  class="全部文章 设计模式 "
           href="/2020-03-20-09%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-Observer.html"
           data-tag="Observer"
           data-author="" >
            <span class="post-title" title="设计模式之 - Observer">设计模式之 - Observer</span>
            <span class="post-date" title="2020-03-20 22:13:12">2020/03/20</span>
        </a>
        
        <a  class="全部文章 设计模式 "
           href="/2020-03-20-09%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-ResponsibilityChain.html"
           data-tag="RSC"
           data-author="" >
            <span class="post-title" title="设计模式之 - Responsibility Chain">设计模式之 - Responsibility Chain</span>
            <span class="post-date" title="2020-03-20 22:13:12">2020/03/20</span>
        </a>
        
        <a  class="全部文章 设计模式 "
           href="/2020-03-20-09%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-singleton.html"
           data-tag="Singleton"
           data-author="" >
            <span class="post-title" title="设计模式之 - Singleton">设计模式之 - Singleton</span>
            <span class="post-date" title="2020-03-20 22:13:12">2020/03/20</span>
        </a>
        
        <a  class="全部文章 高并发 "
           href="/2020-03-05-06%E9%AB%98%E5%B9%B6%E5%8F%91/zookeeper%E5%AD%A6%E4%B9%A0(%E4%B8%89).html"
           data-tag="ZooKeeper"
           data-author="" >
            <span class="post-title" title="ZooKeeper学习(三)">ZooKeeper学习(三)</span>
            <span class="post-date" title="2020-03-05 22:13:12">2020/03/05</span>
        </a>
        
        <a  class="全部文章 高并发 "
           href="/2020-03-02-06%E9%AB%98%E5%B9%B6%E5%8F%91/zookeeper%E5%AD%A6%E4%B9%A0(%E4%B8%80).html"
           data-tag="ZooKeeper"
           data-author="" >
            <span class="post-title" title="ZooKeeper学习(一)">ZooKeeper学习(一)</span>
            <span class="post-date" title="2020-03-02 22:13:12">2020/03/02</span>
        </a>
        
        <a  class="全部文章 高并发 "
           href="/2020-03-02-06%E9%AB%98%E5%B9%B6%E5%8F%91/zookeeper%E5%AD%A6%E4%B9%A0(%E4%BA%8C).html"
           data-tag="ZooKeeper"
           data-author="" >
            <span class="post-title" title="ZooKeeper学习(二)">ZooKeeper学习(二)</span>
            <span class="post-date" title="2020-03-02 22:13:12">2020/03/02</span>
        </a>
        
        <a  class="全部文章 分布式 "
           href="/2020-03-02-08%E5%88%86%E5%B8%83%E5%BC%8F/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98C3_%E6%9C%8D%E5%8A%A1%E6%B2%BB%E7%90%86.html"
           data-tag="Eureka"
           data-author="" >
            <span class="post-title" title="第三章 服务治理">第三章 服务治理</span>
            <span class="post-date" title="2020-03-02 22:13:12">2020/03/02</span>
        </a>
        
        <a  class="全部文章 高并发 "
           href="/2020-03-01-06%E9%AB%98%E5%B9%B6%E5%8F%91/Redis%20%E5%AD%A6%E4%B9%A0(%E4%BA%94)-%E9%9D%A2%E8%AF%95%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98.html"
           data-tag="Redis"
           data-author="" >
            <span class="post-title" title="Redis 学习(五)-面试常见问题">Redis 学习(五)-面试常见问题</span>
            <span class="post-date" title="2020-03-01 22:13:12">2020/03/01</span>
        </a>
        
        <a  class="全部文章 其他 "
           href="/2020-02-28-06%E9%AB%98%E5%B9%B6%E5%8F%91/Linux%20%E7%B3%BB%E7%BB%9F%E5%AE%89%E8%A3%85%E7%AE%80%E8%A6%81%E6%AD%A5%E9%AA%A4.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="Linux 系统安装简要步骤">Linux 系统安装简要步骤</span>
            <span class="post-date" title="2020-02-28 22:13:12">2020/02/28</span>
        </a>
        
        <a  class="全部文章 其他 "
           href="/2020-02-28-06%E9%AB%98%E5%B9%B6%E5%8F%91/Typecho+Tengine%E5%BB%BA%E7%AB%99.html"
           data-tag="Nginx,Blog"
           data-author="" >
            <span class="post-title" title="Typecho+Tengine 搭建个人主页">Typecho+Tengine 搭建个人主页</span>
            <span class="post-date" title="2020-02-28 22:13:12">2020/02/28</span>
        </a>
        
        <a  class="全部文章 高并发 "
           href="/2020-02-28-06%E9%AB%98%E5%B9%B6%E5%8F%91/%E9%AB%98%E5%B9%B6%E5%8F%91%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1.html"
           data-tag="LVS,网络"
           data-author="" >
            <span class="post-title" title="高并发负载均衡">高并发负载均衡</span>
            <span class="post-date" title="2020-02-28 22:13:12">2020/02/28</span>
        </a>
        
        <a  class="全部文章 IO "
           href="/2020-02-22-05IO/IO%E5%AD%A6%E4%B9%A09.html"
           data-tag="NIO"
           data-author="" >
            <span class="post-title" title="NIO 原理">NIO 原理</span>
            <span class="post-date" title="2020-02-22 22:13:12">2020/02/22</span>
        </a>
        
        <a  class="全部文章 高并发 "
           href="/2020-02-21-06%E9%AB%98%E5%B9%B6%E5%8F%91/Redis%20%E5%AD%A6%E4%B9%A0(%E5%9B%9B)-%E9%9B%86%E7%BE%A4.html"
           data-tag="Redis"
           data-author="" >
            <span class="post-title" title="Redis 学习(四)-主从复制、高可用、集群">Redis 学习(四)-主从复制、高可用、集群</span>
            <span class="post-date" title="2020-02-21 22:13:12">2020/02/21</span>
        </a>
        
        <a  class="全部文章 高并发 "
           href="/2020-02-20-06%E9%AB%98%E5%B9%B6%E5%8F%91/Redis%20%E5%AD%A6%E4%B9%A0(%E4%B8%89)-%E6%8C%81%E4%B9%85%E5%8C%96.html"
           data-tag="Redis"
           data-author="" >
            <span class="post-title" title="Redis 学习(三)-持久化">Redis 学习(三)-持久化</span>
            <span class="post-date" title="2020-02-20 22:13:12">2020/02/20</span>
        </a>
        
        <a  class="全部文章 高并发 "
           href="/2020-02-19-06%E9%AB%98%E5%B9%B6%E5%8F%91/Redis%20%E5%AD%A6%E4%B9%A0(%E4%BA%8C)-%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD.html"
           data-tag="Redis"
           data-author="" >
            <span class="post-title" title="Redis 学习(二)-管道、发布/订阅、事务、modules、过期">Redis 学习(二)-管道、发布/订阅、事务、modules、过期</span>
            <span class="post-date" title="2020-02-19 22:13:12">2020/02/19</span>
        </a>
        
        <a  class="全部文章 高并发 "
           href="/2020-02-18-06%E9%AB%98%E5%B9%B6%E5%8F%91/Redis%20%E5%AD%A6%E4%B9%A0(%E4%B8%80)-%E5%9F%BA%E6%9C%AC%E6%8C%87%E4%BB%A4.html"
           data-tag="Redis"
           data-author="" >
            <span class="post-title" title="Redis 学习(一)-概述、安装、类型、指令">Redis 学习(一)-概述、安装、类型、指令</span>
            <span class="post-date" title="2020-02-18 22:13:12">2020/02/18</span>
        </a>
        
        <a  class="全部文章 Java基础 "
           href="/2020-01-18-01%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89/%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89C18.html"
           data-tag="Java讲义"
           data-author="" >
            <span class="post-title" title="第 18 章 类加载机制与反射">第 18 章 类加载机制与反射</span>
            <span class="post-date" title="2020-01-18 22:13:12">2020/01/18</span>
        </a>
        
        <a  class="全部文章 Java基础 "
           href="/2020-01-17-01%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89/%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89C17.html"
           data-tag="Java讲义"
           data-author="" >
            <span class="post-title" title="第 17 章 网络编程">第 17 章 网络编程</span>
            <span class="post-date" title="2020-01-17 23:13:12">2020/01/17</span>
        </a>
        
        <a  class="全部文章 Java基础 "
           href="/2020-01-16-01%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89/%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89C16.html"
           data-tag="Java讲义"
           data-author="" >
            <span class="post-title" title="第 16 章 多线程">第 16 章 多线程</span>
            <span class="post-date" title="2020-01-16 22:13:12">2020/01/16</span>
        </a>
        
        <a  class="全部文章 Java基础 "
           href="/2020-01-15-01%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89/%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89C15.html"
           data-tag="Java讲义"
           data-author="" >
            <span class="post-title" title="第 15 章 输入、输出">第 15 章 输入、输出</span>
            <span class="post-date" title="2020-01-15 22:13:12">2020/01/15</span>
        </a>
        
        <a  class="全部文章 Java基础 "
           href="/2020-01-14-01%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89/%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89C14.html"
           data-tag="Java讲义"
           data-author="" >
            <span class="post-title" title="第 14 章 注解">第 14 章 注解</span>
            <span class="post-date" title="2020-01-14 22:13:12">2020/01/14</span>
        </a>
        
        <a  class="全部文章 Java基础 "
           href="/2020-01-13-01%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89/%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89C13.html"
           data-tag="Java讲义"
           data-author="" >
            <span class="post-title" title="第 13 章 MySQL 数据库与 JDBC 编程">第 13 章 MySQL 数据库与 JDBC 编程</span>
            <span class="post-date" title="2020-01-13 22:13:12">2020/01/13</span>
        </a>
        
        <a  class="全部文章 Java基础 "
           href="/2020-01-10-01%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89/%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89C10.html"
           data-tag="Java讲义"
           data-author="" >
            <span class="post-title" title="第 10 章 异常处理">第 10 章 异常处理</span>
            <span class="post-date" title="2020-01-10 22:13:12">2020/01/10</span>
        </a>
        
        <a  class="全部文章 Java基础 "
           href="/2020-01-09-01%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89/%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89C9.html"
           data-tag="Java讲义"
           data-author="" >
            <span class="post-title" title="第 9 章 泛型">第 9 章 泛型</span>
            <span class="post-date" title="2020-01-09 22:13:12">2020/01/09</span>
        </a>
        
        <a  class="全部文章 Java基础 "
           href="/2020-01-08-01%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89/%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89C8.html"
           data-tag="Java讲义"
           data-author="" >
            <span class="post-title" title="第 8 章 Java 集合">第 8 章 Java 集合</span>
            <span class="post-date" title="2020-01-08 22:13:12">2020/01/08</span>
        </a>
        
        <a  class="全部文章 Java基础 "
           href="/2020-01-07-01%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89/%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89C7.html"
           data-tag="Java讲义"
           data-author="" >
            <span class="post-title" title="第 7 章 Java 基础类库">第 7 章 Java 基础类库</span>
            <span class="post-date" title="2020-01-07 22:13:12">2020/01/07</span>
        </a>
        
        <a  class="全部文章 Java基础 "
           href="/2020-01-06-01%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89/%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89C6.html"
           data-tag="Java讲义"
           data-author="" >
            <span class="post-title" title="第 6 章 面向对象（下）">第 6 章 面向对象（下）</span>
            <span class="post-date" title="2020-01-06 22:13:12">2020/01/06</span>
        </a>
        
        <a  class="全部文章 Java基础 "
           href="/2020-01-05-01%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89/%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89C5.html"
           data-tag="Java讲义"
           data-author="" >
            <span class="post-title" title="第 5 章 面向对象（上）">第 5 章 面向对象（上）</span>
            <span class="post-date" title="2020-01-05 22:13:12">2020/01/05</span>
        </a>
        
        <a  class="全部文章 Java基础 "
           href="/2020-01-04-01%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89/%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89C4.html"
           data-tag="Java讲义"
           data-author="" >
            <span class="post-title" title="第 4 章 流程控制与数组">第 4 章 流程控制与数组</span>
            <span class="post-date" title="2020-01-04 22:13:12">2020/01/04</span>
        </a>
        
        <a  class="全部文章 Java基础 "
           href="/2020-01-03-01%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89/%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89C3.html"
           data-tag="Java讲义"
           data-author="" >
            <span class="post-title" title="第 3 章 数据类型和运算符">第 3 章 数据类型和运算符</span>
            <span class="post-date" title="2020-01-03 22:13:12">2020/01/03</span>
        </a>
        
        <a  class="全部文章 Java基础 "
           href="/2020-01-02-01%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89/%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89C2.html"
           data-tag="Java讲义"
           data-author="" >
            <span class="post-title" title="第 2 章 理解面向对象">第 2 章 理解面向对象</span>
            <span class="post-date" title="2020-01-02 22:13:12">2020/01/02</span>
        </a>
        
        <a  class="全部文章 Java基础 "
           href="/2020-01-01-01%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89/%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89C1.html"
           data-tag="Java讲义"
           data-author="" >
            <span class="post-title" title="第 1 章 Java 语言概述与开发环境">第 1 章 Java 语言概述与开发环境</span>
            <span class="post-date" title="2020-01-01 22:13:12">2020/01/01</span>
        </a>
        
        <div id="no-item-tips">

        </div>
    </nav>
    <div id="outline-list">
    </div>
</div>
    </div>
    <div class="hide-list">
        <div class="semicircle" data-title="切换全屏 快捷键 s">
            <div class="brackets first"><</div>
            <div class="brackets">&gt;</div>
        </div>
    </div>
</aside>
<div id="post">
    <div class="pjax">
        <article id="post-01疯狂Java讲义/疯狂Java讲义C15" class="article article-type-post" itemscope itemprop="blogPost">
    
        <h1 class="article-title">第 15 章 输入、输出</h1>
    
    <div class="article-meta">
        
        
        
        <span class="book">
            <i class="iconfont icon-category"></i>
            
            
            <a  data-rel="Java基础">Java基础</a>
            
        </span>
        
        
        <span class="tag">
            <i class="iconfont icon-tag"></i>
            
            <a class="color2">Java讲义</a>
            
        </span>
        
    </div>
    <div class="article-meta">
        
            发布时间 : <time class="date" title='最后更新: 2020-11-24 23:14:58'>2020-01-15 22:13</time>
        
    </div>
    <div class="article-meta">
        
        <span>字数:10.7k</span>
        
        
        <span id="busuanzi_container_page_pv">
            阅读 :<span id="busuanzi_value_page_pv">
                <span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </span>
        </span>
        
        
        <span class="top-comment" title="跳转至评论区">
            <a href="#comments">
                评论:<span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </a>
        </span>
        
    </div>
    
    <div class="toc-ref">
    
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#15-1-File-%E7%B1%BB"><span class="toc-text">15.1 File 类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#15-1-1-%E8%AE%BF%E9%97%AE%E6%96%87%E4%BB%B6%E5%92%8C%E7%9B%AE%E5%BD%95"><span class="toc-text">15.1.1 访问文件和目录</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E8%AE%BF%E9%97%AE%E6%96%87%E4%BB%B6%E5%90%8D%E7%9B%B8%E5%85%B3%E6%96%B9%E6%B3%95"><span class="toc-text">1. 访问文件名相关方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E6%96%87%E4%BB%B6%E6%A3%80%E6%B5%8B%E7%9B%B8%E5%85%B3%E6%96%B9%E6%B3%95"><span class="toc-text">2. 文件检测相关方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E8%8E%B7%E5%8F%96%E5%B8%B8%E8%A7%84%E6%96%87%E4%BB%B6%E4%BF%A1%E6%81%AF"><span class="toc-text">3. 获取常规文件信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C%E7%9B%B8%E5%85%B3%E6%96%B9%E6%B3%95"><span class="toc-text">4. 文件操作相关方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-%E7%9B%AE%E5%BD%95%E6%93%8D%E4%BD%9C%E7%9B%B8%E5%85%B3%E6%96%B9%E6%B3%95"><span class="toc-text">5. 目录操作相关方法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-1-2-%E6%96%87%E4%BB%B6%E8%BF%87%E6%BB%A4%E5%99%A8"><span class="toc-text">15.1.2 文件过滤器</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-2-%E7%90%86%E8%A7%A3-Java-%E7%9A%84-IO-%E6%B5%81"><span class="toc-text">15.2 理解 Java 的 IO 流</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#15-2-1-%E6%B5%81%E7%9A%84%E5%88%86%E7%B1%BB"><span class="toc-text">15.2.1 流的分类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E8%BE%93%E5%85%A5%E6%B5%81%E5%92%8C%E8%BE%93%E5%87%BA%E6%B5%81"><span class="toc-text">1. 输入流和输出流</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%AD%97%E8%8A%82%E6%B5%81%E5%92%8C%E5%AD%97%E7%AC%A6%E6%B5%81"><span class="toc-text">2. 字节流和字符流</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E8%8A%82%E7%82%B9%E6%B5%81%E5%92%8C%E5%A4%84%E7%90%86%E6%B5%81"><span class="toc-text">3. 节点流和处理流</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-2-2-%E6%B5%81%E7%9A%84%E6%A6%82%E5%BF%B5%E6%A8%A1%E5%9E%8B"><span class="toc-text">15.2.2 流的概念模型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BE%93%E5%85%A5%E6%B5%81%E6%A8%A1%E5%9E%8B"><span class="toc-text">输入流模型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BE%93%E5%87%BA%E6%B5%81%E6%A8%A1%E5%9E%8B"><span class="toc-text">输出流模型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%84%E7%90%86%E6%B5%81%E6%A8%A1%E5%9E%8B"><span class="toc-text">处理流模型</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-3-%E5%AD%97%E8%8A%82%E6%B5%81%E5%92%8C%E5%AD%97%E7%AC%A6%E6%B5%81"><span class="toc-text">15.3 字节流和字符流</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#15-3-1-InputStream-%E5%92%8C-Reader"><span class="toc-text">15.3.1 InputStream 和 Reader</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#InputStream"><span class="toc-text">InputStream</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Reader"><span class="toc-text">Reader</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%87%E9%92%88%E7%9B%B8%E5%85%B3"><span class="toc-text">指针相关</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-3-2-OutputStream-%E5%92%8C-Writer"><span class="toc-text">15.3.2 OutputStream 和 Writer</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-4-%E8%BE%93%E5%85%A5%E3%80%81%E8%BE%93%E5%87%BA%E4%BD%93%E7%B3%BB"><span class="toc-text">15.4 输入、输出体系</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#15-4-1-%E5%A4%84%E7%90%86%E6%B5%81%E7%9A%84%E7%94%A8%E6%B3%95"><span class="toc-text">15.4.1 处理流的用法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-4-2-%E8%BE%93%E5%85%A5%E3%80%81%E8%BE%93%E5%87%BA%E6%B5%81%E4%BD%93%E7%B3%BB"><span class="toc-text">15.4.2 输入、输出流体系</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-4-3-%E8%BD%AC%E6%8D%A2%E6%B5%81"><span class="toc-text">15.4.3 转换流</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-4-4-%E6%8E%A8%E5%9B%9E%E8%BE%93%E5%85%A5%E6%B5%81"><span class="toc-text">15.4.4 推回输入流</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-5-%E9%87%8D%E5%AE%9A%E5%90%91%E6%A0%87%E5%87%86%E8%BE%93%E5%85%A5%E3%80%81%E8%BE%93%E5%87%BA"><span class="toc-text">15.5 重定向标准输入、输出</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-6-Java-%E8%99%9A%E6%8B%9F%E6%9C%BA%E8%AF%BB%E5%86%99%E5%85%B6%E4%BB%96%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%95%B0%E6%8D%AE"><span class="toc-text">15.6 Java 虚拟机读写其他进程的数据</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-7-RandomAccessFile"><span class="toc-text">15.7 RandomAccessFile</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-8-Java-9-%E6%94%B9%E8%BF%9B%E7%9A%84%E5%AF%B9%E8%B1%A1%E5%BA%8F%E5%88%97%E5%8C%96"><span class="toc-text">15.8 Java 9 改进的对象序列化</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#15-8-1-%E5%BA%8F%E5%88%97%E5%8C%96%E7%9A%84%E5%90%AB%E4%B9%89%E5%92%8C%E6%84%8F%E4%B9%89"><span class="toc-text">15.8.1 序列化的含义和意义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-8-2-%E4%BD%BF%E7%94%A8%E5%AF%B9%E8%B1%A1%E6%B5%81%E5%AE%9E%E7%8E%B0%E5%BA%8F%E5%88%97%E5%8C%96"><span class="toc-text">15.8.2 使用对象流实现序列化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-8-3-%E5%AF%B9%E8%B1%A1%E5%BC%95%E7%94%A8%E7%9A%84%E5%BA%8F%E5%88%97%E5%8C%96"><span class="toc-text">15.8.3 对象引用的序列化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-8-4-Java-9-%E5%A2%9E%E5%8A%A0%E7%9A%84%E8%BF%87%E6%BB%A4%E5%8A%9F%E8%83%BD"><span class="toc-text">15.8.4 Java 9 增加的过滤功能</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-8-5-%E8%87%AA%E5%AE%9A%E4%B9%89%E5%BA%8F%E5%88%97%E5%8C%96"><span class="toc-text">15.8.5 自定义序列化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-8-6-%E5%8F%A6%E4%B8%80%E7%A7%8D%E8%87%AA%E5%AE%9A%E4%B9%89%E5%BA%8F%E5%88%97%E5%8C%96%E6%9C%BA%E5%88%B6"><span class="toc-text">15.8.6 另一种自定义序列化机制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-8-7-%E7%89%88%E6%9C%AC"><span class="toc-text">15.8.7 版本</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-9-NIO"><span class="toc-text">15.9 NIO</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#15-9-1-Java-%E6%96%B0-IO-%E6%A6%82%E8%BF%B0"><span class="toc-text">15.9.1 Java 新 IO 概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-9-2-%E4%BD%BF%E7%94%A8-Buffer"><span class="toc-text">15.9.2 使用 Buffer</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Buffer-%E5%8E%9F%E7%90%86"><span class="toc-text">Buffer 原理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Buffer-%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-text">Buffer 常用方法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-9-3-%E4%BD%BF%E7%94%A8-Channel"><span class="toc-text">15.9.3 使用 Channel</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-9-4-%E5%AD%97%E7%AC%A6%E9%9B%86%E5%92%8C-Charset"><span class="toc-text">15.9.4 字符集和 Charset</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-9-5-%E6%96%87%E4%BB%B6%E9%94%81"><span class="toc-text">15.9.5 文件锁</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-10-Java-7-%E7%9A%84-NIO-2"><span class="toc-text">15.10 Java 7 的 NIO.2</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#15-10-1-Path%E3%80%81Paths-%E5%92%8C-Files-%E6%A0%B8%E5%BF%83-API"><span class="toc-text">15.10.1 Path、Paths 和 Files 核心 API</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Path"><span class="toc-text">Path</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Files"><span class="toc-text">Files</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-10-2-%E4%BD%BF%E7%94%A8-FileVisitor-%E9%81%8D%E5%8E%86%E6%96%87%E4%BB%B6%E5%92%8C%E7%9B%AE%E5%BD%95"><span class="toc-text">15.10.2 使用 FileVisitor 遍历文件和目录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-10-3-%E4%BD%BF%E7%94%A8-WatchService-%E7%9B%91%E6%8E%A7%E6%96%87%E4%BB%B6%E5%8F%98%E5%8C%96"><span class="toc-text">15.10.3 使用 WatchService 监控文件变化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-10-4-%E8%AE%BF%E9%97%AE%E6%96%87%E4%BB%B6%E5%B1%9E%E6%80%A7"><span class="toc-text">15.10.4 访问文件属性</span></a></li></ol></li></ol>
    
<style>
    .left-col .switch-btn,
    .left-col .switch-area {
        display: none;
    }
    .toc-level-3 i,
    .toc-level-3 ol {
        display: none !important;
    }
</style>
</div>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>第 15 章 输入、输出</p>
<a id="more"></a>

<h2 id="15-1-File-类"><a href="#15-1-File-类" class="headerlink" title="15.1 File 类"></a>15.1 File 类</h2><p>File 类是 java.io 包下代表与平台无关的文件和目录。File 能新建、删除、重命名文件和目录，但是不能访问文件内容本身。如果要访问文件内容，需要用到输入、输出流。</p>
<h3 id="15-1-1-访问文件和目录"><a href="#15-1-1-访问文件和目录" class="headerlink" title="15.1.1 访问文件和目录"></a>15.1.1 访问文件和目录</h3><p>相对路径总是依据用户的工作路径（user.dir）来解释。</p>
<h4 id="1-访问文件名相关方法"><a href="#1-访问文件名相关方法" class="headerlink" title="1. 访问文件名相关方法"></a>1. 访问文件名相关方法</h4><ul>
<li>String getName()：返回此 File 对象所表示的文件名或路径名</li>
<li>String getPath()</li>
<li>File getAbsoluteFile()</li>
<li>String getAbsolutePath()</li>
<li>String getParent()：File 对象所对应目录的父目录名</li>
<li>boolean renameTo(File newName)</li>
</ul>
<h4 id="2-文件检测相关方法"><a href="#2-文件检测相关方法" class="headerlink" title="2. 文件检测相关方法"></a>2. 文件检测相关方法</h4><ul>
<li>boolean exists()</li>
<li>boolean canWrite()</li>
<li>boolean can Read()</li>
<li>boolean isFile()</li>
<li>boolean isDirectory()</li>
<li>boolean isAbsolute()</li>
</ul>
<h4 id="3-获取常规文件信息"><a href="#3-获取常规文件信息" class="headerlink" title="3. 获取常规文件信息"></a>3. 获取常规文件信息</h4><ul>
<li>long lastModified()</li>
<li>long length()：文件内容长度</li>
</ul>
<h4 id="4-文件操作相关方法"><a href="#4-文件操作相关方法" class="headerlink" title="4. 文件操作相关方法"></a>4. 文件操作相关方法</h4><ul>
<li>boolean createNewFile()：File 对象文件不存在时，创建指定的新文件</li>
<li>boolean delete()</li>
<li>static File createTempFile(String prefix, String suffix)：在默认的临时文件目录中创建一个临时空文件。</li>
<li>static File createTempFile(String prefix, String suffix, File directory)</li>
<li>void deleteOnExit()：虚拟机退出时，删除 File 对象所对应的文件和目录</li>
</ul>
<h4 id="5-目录操作相关方法"><a href="#5-目录操作相关方法" class="headerlink" title="5. 目录操作相关方法"></a>5. 目录操作相关方法</h4><ul>
<li>boolean mkdir()</li>
<li>String[] list()：列出 File 对象的所有子文件名和路径名</li>
<li>File[] listFiles()：列出 File 对象的所有子文件和路径</li>
<li>static File[] listRoots()：列出系统所有的根路径</li>
</ul>
<pre><code class="java">public class FileTest &#123;
    public static void main(String[] args) throws IOException &#123;
        // Windows 路径分隔用反斜杠（\）表示，但反斜杠在Java 中表示转义，所以需要用双反斜杠(\\)；
        // 或者，Java 程序支持将斜线（/）当成平台无关的路径分隔符
        File file = new File(&quot;aaa.txt&quot;);
        System.out.println(file.createNewFile());

        // 访问文件名相关（对象所对应文件或目录名称、路径名、绝对路径、绝对路径名、父目录名、重命名）
        System.out.println(&quot;访问文件名相关:&quot;);
        System.out.println(file.getName());
        System.out.println(file.getPath());
        System.out.println(file.getAbsoluteFile());
        System.out.println(file.getAbsolutePath());
        System.out.println(file.getParent());
        System.out.println(file.getAbsoluteFile().getParent());
        //System.out.println(file.renameTo(new File(&quot;c&quot;)));

        // 文件检测相关（对象所对应的文件或目录是否存在、是否可写、是否可读、是否可执行、是否文件、是否目录、是否绝对路径）
        System.out.println(&quot;文件检测相关:&quot;);
        System.out.println(file.exists());
        System.out.println(file.canWrite());
        System.out.println(file.canRead());
        System.out.println(file.canExecute());
        System.out.println(file.isFile());
        System.out.println(file.isDirectory());
        System.out.println(file.isAbsolute());

        // 文件常规信息（最后修改时间、长度）
        System.out.println(&quot;文件常规信息:&quot;);
        System.out.println(file.lastModified());
        System.out.println(file.length());

        // 文件操作相关（新增、删除）
        System.out.println(&quot;文件操作相关:&quot;);
        //System.out.println(file.delete());
        File tmpFile = File.createTempFile(&quot;aaa&quot;, &quot;.txt&quot;, new File(&quot;.//src&quot;));
        tmpFile.deleteOnExit();

        System.out.println(&quot;目录操作相关:&quot;);
        System.out.println(new File(&quot;aaa&quot;).mkdir());
        System.out.println(&quot;当期路径下的所有文件和路径如下:&quot;);
        String[] fileList = new File(&quot;.&quot;).list();
        for (String fileName : fileList) &#123;
            System.out.println(fileName);
        &#125;
        System.out.println(&quot;系统所有根路径如下：&quot;);
        File[] roots = File.listRoots();
        for (File root : roots) &#123;
            System.out.println(root);
        &#125;

    &#125;
&#125;</code></pre>
<h3 id="15-1-2-文件过滤器"><a href="#15-1-2-文件过滤器" class="headerlink" title="15.1.2 文件过滤器"></a>15.1.2 文件过滤器</h3><p>File 类的 list() 方法可以接受一个 FilenameFilter 参数，用于过滤符合条件的文件。</p>
<p>列出当前路径下所有的 *.java 文件和文件夹。</p>
<pre><code class="java">public class FileNameFileterTest &#123;
    public static void main(String[] args) &#123;
        File file = new File(&quot;.&quot;);
        String[] nameList = file.list((dir,name) -&gt; name.endsWith(&quot;.java&quot;) || new File(name).isDirectory());
        for(String name :nameList) &#123;
            System.out.println(name);
        &#125;
    &#125;
&#125;</code></pre>
<h2 id="15-2-理解-Java-的-IO-流"><a href="#15-2-理解-Java-的-IO-流" class="headerlink" title="15.2 理解 Java 的 IO 流"></a>15.2 理解 Java 的 IO 流</h2><h3 id="15-2-1-流的分类"><a href="#15-2-1-流的分类" class="headerlink" title="15.2.1 流的分类"></a>15.2.1 流的分类</h3><h4 id="1-输入流和输出流"><a href="#1-输入流和输出流" class="headerlink" title="1. 输入流和输出流"></a>1. 输入流和输出流</h4><ul>
<li>输入流：只能从中读取数据，不能写入。基类：InputStream、Reader</li>
<li>输出流：只能向其写入数据，不能读取。基类：OutputStream、Writer</li>
</ul>
<p>输入、输出都是站在<strong>程序运行所在内存</strong>的角度来看的。比如数据从程序内存到磁盘，就叫做输出流。</p>
<h4 id="2-字节流和字符流"><a href="#2-字节流和字符流" class="headerlink" title="2. 字节流和字符流"></a>2. 字节流和字符流</h4><p>用法几乎一样，区别在于操作的数据单元不同。</p>
<ul>
<li>字节流：操作的数据单元是 <strong>8 位</strong>的字节（<strong>一个字节 8 位</strong>）</li>
<li>字符流：<strong>16 位</strong>的字符（<strong>一个字符 2 个字节，所以是 16 位</strong>）</li>
</ul>
<h4 id="3-节点流和处理流"><a href="#3-节点流和处理流" class="headerlink" title="3. 节点流和处理流"></a>3. 节点流和处理流</h4><ul>
<li>节点流：从、向一个<strong>特定的 IO 设备</strong>（如磁盘、网络等）读写数据的流，称为节点流，节点流也称为低级流</li>
<li>处理流：对一个已存在的流进行连接和封装，通过封装后的流来实现数据读写功能，也称为高级流。好处是，<strong>只要使用相同的处理流，程序就可以采用完全相同的输入、输出代码来访问不同的数据源</strong>；<strong>以缓冲的方式来提高性能(@#1)；每次操作多个水滴。</strong></li>
</ul>
<p>Java 使用处理流来包装节点流是一种典型的<strong>装饰器模式(@#2)，</strong>通过使用处理流包装不同的节点流，既可以消除不同节点流的实现差异，也可以提供更方便的方法来完成输入/输出功能。因此处理流也被称为包装流。</p>
<p>InputStream、Reader；OutputStream、Writer；是节点流还是处理流？@#3</p>
<h3 id="15-2-2-流的概念模型"><a href="#15-2-2-流的概念模型" class="headerlink" title="15.2.2 流的概念模型"></a>15.2.2 流的概念模型</h3><ul>
<li>InputStream/Reader：所有输入流的基类，前者是字节输入流，后者是字符输入流 </li>
<li>OutputStream/Writer：所有输出流的基类，前者是字节输出流，后者是字符输出流</li>
</ul>
<h4 id="输入流模型"><a href="#输入流模型" class="headerlink" title="输入流模型"></a>输入流模型</h4><p>装满水滴的水管，每读取一个指针向后移动一位。</p>
<p><img src="../../images/java/c15/%E8%BE%93%E5%85%A5%E6%B5%81%E6%A8%A1%E5%9E%8B.png"></p>
<h4 id="输出流模型"><a href="#输出流模型" class="headerlink" title="输出流模型"></a>输出流模型</h4><p>空水管，每次装入一滴水，指针向后移动一位</p>
<p><img src="../../images/java/c15/%E8%BE%93%E5%87%BA%E6%B5%81%E6%A8%A1%E5%9E%8B.png"></p>
<h4 id="处理流模型"><a href="#处理流模型" class="headerlink" title="处理流模型"></a>处理流模型</h4><p>处理流可以“嫁接”在任何已存在的流的基础之上。</p>
<p><img src="../../images/java/c15/%E5%A4%84%E7%90%86%E6%B5%81%E6%A8%A1%E5%9E%8B.png"></p>
<h2 id="15-3-字节流和字符流"><a href="#15-3-字节流和字符流" class="headerlink" title="15.3 字节流和字符流"></a>15.3 字节流和字符流</h2><h3 id="15-3-1-InputStream-和-Reader"><a href="#15-3-1-InputStream-和-Reader" class="headerlink" title="15.3.1 InputStream 和 Reader"></a>15.3.1 InputStream 和 Reader</h3><p>所有输入流的基类，<strong>本身并不能创建实例来执行输入</strong>，但他们将成为所有输入流的模板。</p>
<h4 id="InputStream"><a href="#InputStream" class="headerlink" title="InputStream"></a>InputStream</h4><ul>
<li>int read()：读取单个字节，返回读取的字节</li>
<li>int read(byte[] b)：读取最多 b.length 个字节，并存在 b 中，返回读取的字节个数</li>
<li>int read(byte[] b, int off, int len)：最多读取 len 字节，存在 b 中，从 off 开始存，返回读取的字节个数</li>
</ul>
<h4 id="Reader"><a href="#Reader" class="headerlink" title="Reader"></a>Reader</h4><ul>
<li>int read()</li>
<li>int read(char[] cbuf)</li>
<li>int read(char[], int off, int len)</li>
</ul>
<p>read() 方法返回 -1 表示输入流读取完毕。</p>
<p>InputStream 和 Reader 都是抽象类，本身不能创建实例。</p>
<p>他们分别有一个用于读取文件的输入流：FileInputStream 和 FileReader：</p>
<pre><code class="java">public class FileInputStreamTest &#123;
    public static void main(String[] args) throws IOException &#123;
        FileInputStream fis = new FileInputStream(&quot;./src/unit15_javaio/c3/FileInputStreamTest.java&quot;);
        byte[] bbuf = new byte[1024];
        int hasRead = 0;
        while ((hasRead = fis.read(bbuf)) &gt; 0) &#123;
            System.out.print(new String(bbuf, 0, hasRead));
        &#125;
        fis.close();
    &#125;
&#125;</code></pre>
<pre><code class="java">public class FileReaderTest &#123;
    public static void main(String[] args) throws IOException &#123;
        // 自动关闭资源的 try 语句
        try(FileReader fr = new FileReader(&quot;./src/unit15_javaio/c3/FileReaderTest.java&quot;)) &#123;
            char[] cbuf = new char[32];
            int hasRead = 0;
            while ((hasRead = fr.read(cbuf)) &gt; 0) &#123;
                System.out.print(new String(cbuf, 0, hasRead));
            &#125;
        &#125; catch (IOException ex) &#123;
            ex.printStackTrace();
        &#125;
    &#125;
&#125;   </code></pre>
<h4 id="指针相关"><a href="#指针相关" class="headerlink" title="指针相关"></a>指针相关</h4><ul>
<li>void mark(int readAheadLimit)：在记录指针当前位置记录一个标记</li>
<li>boolean markSupported()：判断此输入流是否支持 mark 操作</li>
<li>void reset()：将此流的记录指针重新定位到上一次记录标记（mark）的位置</li>
<li>long skip(long n)：记录指针向前移动 n 个字节、字符</li>
</ul>
<h3 id="15-3-2-OutputStream-和-Writer"><a href="#15-3-2-OutputStream-和-Writer" class="headerlink" title="15.3.2 OutputStream 和 Writer"></a>15.3.2 OutputStream 和 Writer</h3><ul>
<li>void write(int c)</li>
<li>void write(byte[]/char[] buf)</li>
<li>void write(byte[]/char[] buf, int off, int len)</li>
</ul>
<p>因为字符流直接以字符作为操作单位，所以 Writer 可以用字符串来代替字符数组，即以 String 对象作为参数。</p>
<ul>
<li>void write(String str)</li>
<li>void write(String str, int off, int len)</li>
</ul>
<pre><code class="java">public class FileOutputStreamTest &#123;
    public static void main(String[] args) &#123;
        try(
            FileInputStream fis = new FileInputStream(&quot;./src/unit15_javaio/c3/FileOutputStreamTest.java&quot;);
            FileOutputStream fos = new FileOutputStream(&quot;newFile.txt&quot;)) &#123;
            byte[] bbuf = new byte[32];
            int hasRead = 0;
            while ((hasRead = fis.read(bbuf)) &gt; 0) &#123;
                fos.write(bbuf, 0, hasRead);
            &#125;
        &#125; catch (IOException ioe) &#123;
            ioe.printStackTrace();
        &#125;

    &#125;
&#125;    </code></pre>
<p>使用 Java 的 IO 流时，要记得关闭输出流，一方面可以保证流的物理资源被回收，还可以保证输出流缓冲区中的数据 fulsh 到物理节点，因为执行 close 之前，会自动执行输出流的 flush() 方法。</p>
<pre><code class="java">public class FileWriterTest 
&#123;
    public static void main(String[] args)
    &#123;
        try(
            FileWriter fw = new FileWriter(&quot;poem.txt&quot;))
        &#123;
            // windos 换行符 \r\n；linux 换行符 \n
            fw.write(&quot;锦瑟 - 李商隐\r\n&quot;);
            fw.write(&quot;锦瑟无端五十弦，一弦一柱思华年。\r\n&quot;);
            fw.write(&quot;庄生晓梦迷蝴蝶，望帝春心托杜鹃。\r\n&quot;);
        &#125;
        catch (IOException ioe)
        &#123;
            ioe.printStackTrace();
        &#125;
    &#125;
&#125;    </code></pre>
<h2 id="15-4-输入、输出体系"><a href="#15-4-输入、输出体系" class="headerlink" title="15.4 输入、输出体系"></a>15.4 输入、输出体系</h2><h3 id="15-4-1-处理流的用法"><a href="#15-4-1-处理流的用法" class="headerlink" title="15.4.1 处理流的用法"></a>15.4.1 处理流的用法</h3><p>使用处理流思路：包装节点流，程序通过处理流来执行输入、输出功能，让节点流与底层的 IO 设备、文件交互。</p>
<p>处理流构造器参数一般是已经存在的流；节点流构造器参数都是物理 IO 节点。</p>
<pre><code class="java">public class PrintStreamTest 
&#123;
    public static void main(String[] args) 
    &#123;
        try(
            // 节点流
            FileOutputStream fos = new FileOutputStream(&quot;text.txt&quot;);
            // 包装为处理流
            PrintStream ps = new PrintStream(fos))
        &#123;
            ps.println(&quot;普通字符串&quot;);
            ps.println(new PrintStreamTest());
        &#125;
        catch (IOException ioe)
        &#123;
            ioe.printStackTrace();
        &#125;
    &#125;
&#125; </code></pre>
<p>关闭处理流会自动关闭该处理流包装的节点流。</p>
<h3 id="15-4-2-输入、输出流体系"><a href="#15-4-2-输入、输出流体系" class="headerlink" title="15.4.2 输入、输出流体系"></a>15.4.2 输入、输出流体系</h3><p><img src="../../images/java/c15/%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E6%B5%81%E4%BD%93%E7%B3%BB.png"></p>
<p>通常来说，字节流功能比字符流强大，但问题是，如果使用字节流来处理文本，则需要使用合适的方式把这些字节转换成字符，这就增加了编程的复杂度。所以，如果处理的数据是<strong>文本内容，则应该考虑字符流</strong>；如果<strong>处理的数据是二进制内容，则应该考虑使用字节流</strong>。</p>
<p>计算机的文件常被分为文本文件和二进制文件两大类。所有可以使用记事本打开并看到其中字符内容的文件称为文本文件，反之则称为二进制文件。但实质是， 计算机里的所有文件都是二进制文件， 文本文件只是二进制文件的一种特例， 当二进制文件里的内容恰好能被正常解析成字符时，则该二进制文件就变成了文本文件。</p>
<p>宇符流还可以使用字符串作为物理节点。</p>
<pre><code class="java">public class StringNodeTest &#123;
    public static void main(String[] args) &#123;
        String src = &quot;从明天起，做一个幸福的人\n&quot;
                + &quot;喂马，劈柴，周游世界\n&quot;
                + &quot;从明天起，关心粮食和蔬菜\n&quot;
                + &quot;我有一所房子，面朝大海，春暖花开\n&quot;;
        char[] buffer = new char[32];
        int hasRead = 0;
        try(StringReader sr = new StringReader(src))
        &#123;
            // 采用循环读取的方式读取字符串
            while((hasRead = sr.read(buffer)) &gt; 0)
            &#123;
                System.out.print(new String(buffer, 0, hasRead));
            &#125;
        &#125;
        catch (IOException ioe)
        &#123;
            ioe.printStackTrace();
        &#125;

        try(StringWriter sw = new StringWriter())
        &#123;
            sw.write(&quot;有一个美丽的新世界，\n&quot;);
            sw.write(&quot;她在远方等我，\n&quot;);
            sw.write(&quot;那里有天真的孩子，\n&quot;);
            sw.write(&quot;还有姑娘的酒窝&quot;);
            System.out.println(&quot;----下面是 sw 字符串节点里的内容----&quot;);
            System.out.println(sw.toString());
        &#125;
        catch (IOException ex)
        &#123;
            ex.printStackTrace();
        &#125;
    &#125;
&#125;</code></pre>
<h3 id="15-4-3-转换流"><a href="#15-4-3-转换流" class="headerlink" title="15.4.3 转换流"></a>15.4.3 转换流</h3><ul>
<li>InputStreamReader：字节输入流转换成字符输入流</li>
<li>OutputStreamWriter：字节输出流转换成字符输出流</li>
</ul>
<p>Java 使用 System .in 代表标准输入， 即键盘输入，但这个标准输入流是 InputStream 类的实例， 使用不太方便， 而且键盘输入内容都是文本内容，所以可以使用 InputStreamReader 将其转换成字符输入流，。</p>
<pre><code class="java">public class KeyinTest &#123;
    public static void main(String[] args) &#123;
        try(
            InputStreamReader reader = new InputStreamReader(System.in);
            BufferedReader br = new BufferedReader(reader))
        &#123;
            String line = null;
            while ((line = br.readLine()) != null)
            &#123;
                if (line.equals(&quot;exit&quot;))
                &#123;
                    System.exit(1);
                &#125;
                System.out.println(&quot;输入内容为：&quot; + line);
            &#125;
        &#125;
        catch (IOException ioe)
        &#123;
            ioe.printStackTrace();
        &#125;
    &#125;
&#125;</code></pre>
<h3 id="15-4-4-推回输入流"><a href="#15-4-4-推回输入流" class="headerlink" title="15.4.4 推回输入流"></a>15.4.4 推回输入流</h3><p>@#4为啥没有推回输出流？</p>
<p>读取到输入流中的数据后又推回去（unread）？有何应用场景？</p>
<p>PushbackInputStream、PushbackReader</p>
<ul>
<li>void unread(byte[]/char[] buf)</li>
<li>void unread(byte[]/char[] b, int off, int len)</li>
<li>void unread(int b)</li>
</ul>
<p>维护一个推回缓冲区，read 时总是先从推回缓冲区取“水滴”，当推回缓冲区水滴不够时才会到原输入流里去取。</p>
<p>如果程序中推回到缓冲区中的内容超出了推回缓冲区的大小，将会引发 Pushback buffer overflow 的 IOException。</p>
<p>下面程序试图找出程序中的 “new PushbackReader” 宇符串，当找到该字符串后，程序只是打印出目标宇符串之前的内容。</p>
<pre><code class="java">public class PushbackTest &#123;
    public static void main(String[] args) &#123;
        try(
                // 创建一个 PushBackReader 对象,指定推回缓冲区长度为 64
                PushbackReader pr = new PushbackReader(
                        new FileReader(&quot;./src/unit15_javaio/c4/PushbackTest.java&quot;), 64))
        &#123;
            char[] buf = new char[32];
            // 用以保存上次读取的字符串内容
            String lastContent = &quot;&quot;;
            int hasRead =  0;
            // 循环读取文件内容
            while ((hasRead = pr.read(buf))&gt;0)&#123;
                // 将读取的内容转换成字符串
                String content = new String(buf, 0, hasRead);
                int targetIndex = 0;
                // 将上次读取的字符串和本次读取的字符串拼接起来
                // 查看是否包含目标字符串,如果包含
                if((targetIndex = (lastContent + content)
                        .indexOf(&quot;new PushbackReader&quot;))&gt;0)&#123;
                    // 将本次内容和上次内容一起推回缓冲区
                    pr.unread((lastContent+content).toCharArray());
                    // 重新定义一个长度为 targetIndex 的 char 数组
                    if(targetIndex &gt; 32) &#123;
                        buf = new char[targetIndex];
                    &#125;
                    // 再次读取指定长度的内容(就是目标字符串之前的内容)
                    pr.read(buf, 0, targetIndex);
                    // 打印读取的内容
                    System.out.print(new String(buf, 0, targetIndex));
                    System.exit(0);
                &#125; else &#123;
                    // 打印上次读取的内容
                    System.out.print(lastContent);
                    // 将本次内容设置为上次读取内容
                    lastContent = content;
                &#125;
            &#125;
        &#125; catch (IOException ioe) &#123;
            ioe.printStackTrace();
        &#125;
    &#125;
&#125;</code></pre>
<h2 id="15-5-重定向标准输入、输出"><a href="#15-5-重定向标准输入、输出" class="headerlink" title="15.5 重定向标准输入、输出"></a>15.5 重定向标准输入、输出</h2><p>System 类提供了三个重定向标准输入、输出的方法：</p>
<ul>
<li>static void setErr(PrintStream err)</li>
<li>static void setIn(InputStream in)</li>
<li>static void setOut(PrintStream out)</li>
</ul>
<pre><code class="java">public class RedirectOut &#123;
    public static void main(String[] args) &#123;
        try(
            PrintStream ps = new PrintStream(new FileOutputStream(&quot;out.txt&quot;)))
        &#123;
            System.setOut(ps);
            System.out.println(&quot;普通字符串&quot;);
            System.out.println(new RedirectOut());
        &#125;
        catch (IOException ex)
        &#123;
            ex.printStackTrace();
        &#125;
    &#125;
&#125;</code></pre>
<p>重定向标准输入，正常是键盘输入，现在重定向到一个文件作为输入。</p>
<pre><code class="java">public class RedirectIn &#123;
    public static void main(String[] args) &#123;
        try(
            FileInputStream fis = new FileInputStream(&quot;./src/unit15_javaio/c5/RedirectIn.java&quot;))
        &#123;
            System.setIn(fis);
            @SuppressWarnings(&quot;resource&quot;)
            Scanner sc = new Scanner(System.in);
            sc.useDelimiter(&quot;\n&quot;);
            while(sc.hasNext())
            &#123;
                System.out.println(&quot;键盘输入的内容是：&quot; + sc.next());
            &#125;
        &#125;
        catch (IOException ex) 
        &#123;
            ex.printStackTrace();
        &#125;
    &#125;
&#125;</code></pre>
<h2 id="15-6-Java-虚拟机读写其他进程的数据"><a href="#15-6-Java-虚拟机读写其他进程的数据" class="headerlink" title="15.6 Java 虚拟机读写其他进程的数据"></a>15.6 Java 虚拟机读写其他进程的数据</h2><p>Runtime.exec()方法可以运行平台上的其他程序，返回一个 Process 对象。</p>
<ul>
<li>InputStream getErrorStream()：获取子进程的错误流</li>
<li>InputStream getInputStream()</li>
<li>OutputStream getOutputStream()</li>
</ul>
<p>读取其他进程数据：</p>
<pre><code class="java">public class ReadFromProcess &#123;
    public static void main(String[] args) throws IOException, InterruptedException &#123;
        Process p = Runtime.getRuntime().exec(&quot;javac&quot;);
        p.waitFor();
        try(
            BufferedReader br = new BufferedReader(new InputStreamReader(p.getInputStream(),&quot;gbk&quot;)))
        &#123;

            String buff = null;
            while((buff = br.readLine()) != null)
            &#123;
                System.out.println(buff);
            &#125;
        &#125;
    &#125;
&#125;</code></pre>
<p>发送数据给其他进程：</p>
<pre><code class="java">public class WriteToProcess &#123;

    public static void main(String[] args) throws IOException &#123;
        Process p = Runtime.getRuntime().exec(&quot;java D:\\01_code\\01_javasebasic\\waojava\\src\\unit15_javaio\\c6\\ReadStandard&quot;);
        try(
            // 以 p 进程的输出流创建 PrintStream
            // 这个 ps 对本程序是输出流,对p进程是输入流
            PrintStream ps = new PrintStream(p.getOutputStream()))
        &#123;
            ps.println(&quot;啊啊啊啊啊啊&quot;);
            ps.println(new WriteToProcess());
        &#125;
    &#125;
&#125;

class ReadStandard
&#123;
    public static void main(String[] args)
    &#123;
        System.out.println(&quot;============&gt;main&quot;);
        try(
            Scanner sc = new Scanner(System.in);
            PrintStream ps = new PrintStream(new FileOutputStream(&quot;out.txt&quot;)))
        &#123;
            sc.useDelimiter(&quot;\n&quot;);
            while(sc.hasNext())
            &#123;
                ps.println(&quot;键盘输入的内容是：&quot; + sc.next());
            &#125;
        &#125;
        catch(IOException ioe)
        &#123;
            ioe.printStackTrace();
        &#125;
    &#125;
&#125;</code></pre>
<h2 id="15-7-RandomAccessFile"><a href="#15-7-RandomAccessFile" class="headerlink" title="15.7 RandomAccessFile"></a>15.7 RandomAccessFile</h2><p>既可以读取文件内容也可以向文件输出数据。与普通输入、输出流不同的是，它支持随机访问的方式，程序可以直接跳转到文件的任意位置来读写数据。</p>
<p>如果只需要访问文件的部分内容；或者要向已存在的文件后追加内容，应该使用 RandomAccessFile</p>
<p>RandomAccessFile 最大的局限是只能读写文件，不能读写其他 IO 节点。</p>
<ul>
<li>long getFilePointer()</li>
<li>void seek(long pos)：将文件记录指针定位到 pos 位置</li>
</ul>
<p>因为既可以读也可以写所以同时包含 read 和 write 方法。</p>
<ul>
<li>r：只读</li>
<li>rw：读写</li>
<li>rws：读写，对文件的内容或元数据的每个更新都同步写入到底层存储设备</li>
<li>rwd：读写，对文件的内容的每个更新都同步写入到底层存储设备</li>
</ul>
<p>读取指定位置内容：</p>
<pre><code class="java">public class RandomAccessFileTest &#123;
    public static void main(String[] args)
    &#123;
        try(
            RandomAccessFile raf = new RandomAccessFile(&quot;./src/unit15_javaio/c7/RandomAccessFileTest.java&quot;, &quot;r&quot;))
        &#123;
            System.out.println(&quot;RandomAccessFile 的文件指针的初始位置：&quot; + raf.getFilePointer());
            raf.seek(300);
            byte[] bbuf = new byte[1024];
            int hasRead = 0;
            while ((hasRead = raf.read(bbuf)) &gt; 0)
            &#123;
                System.out.print(new String(bbuf, 0, hasRead));
            &#125;
        &#125;
        catch (IOException ex)
        &#123;
            ex.printStackTrace();
        &#125;
    &#125;
&#125;</code></pre>
<p>追加内容：</p>
<pre><code class="java">public class AppendContent &#123;
    public static void main(String[] args) &#123;
        try(
            RandomAccessFile raf = new RandomAccessFile(&quot;out.txt&quot;, &quot;rw&quot;))
        &#123;
            // 指针定位到最后
            raf.seek(raf.length());
            raf.write(&quot;追加的内容\r\naaaaaaa\r\n&quot;.getBytes());
        &#125;
        catch (IOException ex) 
        &#123;
            ex.printStackTrace();
        &#125;
    &#125;
&#125;</code></pre>
<p>指定位置插入内容：</p>
<pre><code class="java">public class InsertContent &#123;
    public static void insert(String fileName, long pos, String insertContent) throws IOException
    &#123;
        File tmp = File.createTempFile(&quot;tmp&quot;, null);
        tmp.deleteOnExit();
        try(
            RandomAccessFile raf = new RandomAccessFile(fileName, &quot;rw&quot;);
            FileOutputStream tmpOut = new FileOutputStream(tmp);
            FileInputStream tmpIn = new FileInputStream(tmp))
        &#123;
            raf.seek(pos);
            // 将插入点后的内容读入临时文件中保存
            byte[] bbuf = new byte[64];
            int hasRead = 0;
            while ((hasRead = raf.read(bbuf)) &gt; 0) 
            &#123;
                tmpOut.write(bbuf, 0, hasRead);
            &#125;
            // 追加需要插入的内容
            raf.seek(pos);
            raf.write(insertContent.getBytes());
            while ((hasRead = tmpIn.read(bbuf)) &gt; 0)
            &#123;
                raf.write(bbuf, 0, hasRead);
            &#125;
        &#125;
    &#125;

    public static void main(String[] args) throws IOException
    &#123;
        insert(&quot;./src/unit15_javaio/c7/InsertContent.java&quot;, 45, &quot;插入的内容\r\t&quot;);
    &#125;
&#125;</code></pre>
<h2 id="15-8-Java-9-改进的对象序列化"><a href="#15-8-Java-9-改进的对象序列化" class="headerlink" title="15.8 Java 9 改进的对象序列化"></a>15.8 Java 9 改进的对象序列化</h2><p>对象序列化的目标是将对象保存到磁盘中，或允许在网络中直接传输对象。</p>
<h3 id="15-8-1-序列化的含义和意义"><a href="#15-8-1-序列化的含义和意义" class="headerlink" title="15.8.1 序列化的含义和意义"></a>15.8.1 序列化的含义和意义</h3><p>对象的序列化( Serialize )指将一个Java 对象写入IO 流中，与此对应的是，对象的反序列化( Deserialize ) 则指从IO 流中恢复该 Java 对象。</p>
<p>为了让某个类是可序列化的：</p>
<ul>
<li>Serializable</li>
<li>Externalizable</li>
</ul>
<h3 id="15-8-2-使用对象流实现序列化"><a href="#15-8-2-使用对象流实现序列化" class="headerlink" title="15.8.2 使用对象流实现序列化"></a>15.8.2 使用对象流实现序列化</h3><p>序列化</p>
<ul>
<li>创建一个 ObjectOutputStream</li>
<li>writeObject()</li>
</ul>
<pre><code class="java">public class WriteObject &#123;

    public static void main(String[] args) &#123;
        try(
            // 创建对象流
            ObjectOutputStream oos = new ObjectOutputStream(new FileOutputStream(&quot;object.txt&quot;)))
        &#123;
            // 对象序列化
            Person per = new Person(&quot;孙悟空&quot;, 500);
            oos.writeObject(per);

            Person per1 = new Person(&quot;alvin&quot;, 500);
            oos.writeObject(per1);
        &#125;
        catch (IOException ex)
        &#123;
            ex.printStackTrace();
        &#125;
    &#125;
&#125;</code></pre>
<p>反序列化</p>
<ul>
<li>创建一个 ObjectInputStream</li>
<li>readObject()</li>
</ul>
<pre><code class="java">public class ReadObject &#123;

    public static void main(String[] args) &#123;
        try(
            // 创建对象流
            ObjectInputStream ois = new ObjectInputStream(new FileInputStream(&quot;object.txt&quot;)))
        &#123;
            // 反序列化
            Person p = (Person)ois.readObject();
            System.out.println(&quot;名字为：&quot; + p.getName() + &quot;\n年龄为：&quot; + p.getAge());

            Person p1 = (Person)ois.readObject();
            System.out.println(&quot;名字为：&quot; + p1.getName() + &quot;\n年龄为：&quot; + p1.getAge());
        &#125;
        catch (Exception ex)
        &#123;
            ex.printStackTrace();
        &#125;
    &#125;
&#125;</code></pre>
<p>证明反序列化机制无须通过构造器来初始化Java 对象。</p>
<p>当一个可序列化类有多个父类时，这些父类<strong>要么有无参构造器要么也是可序列化</strong>的。如果父类是不可序列化只是有无参构造器，则该父类中定义的成员变量值不会序列化到二进制流中。</p>
<h3 id="15-8-3-对象引用的序列化"><a href="#15-8-3-对象引用的序列化" class="headerlink" title="15.8.3 对象引用的序列化"></a>15.8.3 对象引用的序列化</h3><p>某个类的成员变量的类型不是基本类型或 String 类型，而是另一个引用类型，那么这个引用类必须是可序列化的，否则拥有该类型成员变量的类也是不可序列化的。</p>
<pre><code class="java">public class SerialMachine implements Serializable &#123;
    Person per = new Person(&quot;孙悟空&quot;, 500);
    Teacher t1 = new Teacher(&quot;唐僧&quot;, per);
    Teacher t2 = new Teacher(&quot;菩提老祖&quot;, per);
&#125;</code></pre>
<p>想像一下，如果序列化 SerialMachine 后再反序列化，会得到几个 Person 对象。目前来看是不是会有三个？这样和序列化之前，该类不一致。</p>
<p>所以 Java 有一种特殊的序列化算法：</p>
<ul>
<li>所有保存到磁盘中的对象都有一个序列化编号</li>
<li>当程序试图序列化一个对象时，程序将先检查该对象是否已经被序列化过，只有未被序列化过，才会序列化该对象</li>
<li>如果已经序列化过，程序只是输出一个序列化编号，而不是再次重新序列化该对象</li>
</ul>
<pre><code class="java">public class WriteTeacher &#123;
    public static void main(String[] args) &#123;
        try(
            // 创建一个 ObjectOutputStream 输出流
            ObjectOutputStream oos = new ObjectOutputStream(new FileOutputStream(&quot;teacherr.txt&quot;)))
        &#123;
            Person per = new Person(&quot;孙悟空&quot;, 500);
            Teacher t1 = new Teacher(&quot;唐僧&quot;, per);
            Teacher t2 = new Teacher(&quot;菩提老祖&quot;, per);

            // 一次将四个对象写入输出流
            oos.writeObject(t1);
            oos.writeObject(t2);
            oos.writeObject(per);
            oos.writeObject(t2);
        &#125; catch (IOException ex) &#123;
            ex.printStackTrace();
        &#125;
    &#125;
&#125;</code></pre>
<p>上面程序实际上只序列化了三个对象，而且序列的两个 Teacher 对象的 student 引用实际是同一个Person 对象。</p>
<pre><code class="java">public class ReadTeacher &#123;
    public static void main(String[] args) &#123;
        try(
            // 创建一个 ObjectInputStream 输入流
            final ObjectInputStream ois = new ObjectInputStream(new FileInputStream(&quot;teacher.txt&quot;))) &#123;
            // 依次读取 ObjectInputStream 输入流中的四个对象
            Teacher t1 = (Teacher)ois.readObject();
            Teacher t2 = (Teacher)ois.readObject();
            Person p = (Person)ois.readObject();
            Teacher t3 = (Teacher)ois.readObject();

            // 输出 true
            System.out.println(&quot;t1 的 student 引用是否和 p 相同:&quot; +
                    (t1.getStudent() == p));
            // 输出 true
            System.out.println(&quot;t2 的 student 引用是否和 p 相同:&quot; +
                    (t2.getStudent() == p));
            // 输出 true
            System.out.println(&quot;t2 和 t3 是否是同一个对象:&quot; + (t2 == t3));
        &#125; catch (Exception ex) &#123;
            ex.printStackTrace();
        &#125;
    &#125;
&#125;</code></pre>
<p>由于 Java 对象序列化机制，同一个对象只会序列化一次，但是当序列化可变对象时，这就有问题了。@#4所以怎么解决呢？</p>
<pre><code class="java">public class SerializeMutable &#123;
    public static void main(String[] args) &#123;
        try(
            // 创建一个 ObjectOutputStream 输出流
            ObjectOutputStream oos = new ObjectOutputStream(new FileOutputStream(&quot;mutable.txt&quot;));
            // 创建一个 ObjectInputStream 输入流
            ObjectInputStream ois = new ObjectInputStream(new FileInputStream(&quot;mutable.txt&quot;))
            )
        &#123;
            Person per = new Person(&quot;孙悟空&quot;, 500);
            // 系统将 per 对象转换成字节序列并输出
            oos.writeObject(per);
            // 改变 per 对象的 name 实例变量值
            per.setName(&quot;周八戒&quot;);
            // 系统只是输出序列化编号,所以改变后的 name 不会被序列化
            oos.writeObject(per);
            Person p1 = (Person)ois.readObject();
            Person p2 = (Person)ois.readObject();
            // true
            System.out.println(p1 == p2);
            // 孙悟空
            System.out.println(p2.getName());
        &#125; catch (Exception ex) &#123;
            ex.printStackTrace();
        &#125;
    &#125;
&#125;</code></pre>
<h3 id="15-8-4-Java-9-增加的过滤功能"><a href="#15-8-4-Java-9-增加的过滤功能" class="headerlink" title="15.8.4 Java 9 增加的过滤功能"></a>15.8.4 Java 9 增加的过滤功能</h3><p>ObjectInputStream 增加了 setObjectInputFilter()、getObjectInputFilter() 用于为对象输入流设置过滤器。当程序通过 ObjectInputStream 反序列化对象时，过滤器的 checkInput() 会被自动触发，用于检查序列化数据是否有效。</p>
<ul>
<li>Status.REJECT：拒绝恢复</li>
<li>Status.ALLOWED：允许恢复</li>
<li>Status.UNDECIDED：未决定状态，程序继续执行检查</li>
</ul>
<pre><code class="java">public class FilterTest &#123;
    public static void main(String[] args) &#123;
        try (ObjectInputStream ois = new ObjectInputStream(new FileInputStream(&quot;object.txt&quot;))) &#123;
            ois.setObjectInputFilter((info) -&gt; &#123;
                System.out.println(&quot;===执行数据过滤===&quot;);
                ObjectInputFilter serialFilter = ObjectInputFilter.Config.getSerialFilter();
                if (serialFilter != null) &#123;
                    System.out.println(&quot;serialFilter is not null&quot;);
                    // 首先使用 ObjectInputFilter 执行默认的检查
                    ObjectInputFilter.Status status = serialFilter.checkInput(info);
                    // 如果默认检查的结果不是 Status.UNDECIDED
                    if (status != ObjectInputFilter.Status.UNDECIDED) &#123;
                        System.out.println(&quot;serialFilter result is not equals to UNDECIDED.&quot;);
                        // 直接返回检查结果
                        return status;
                    &#125;
                &#125;
                // 如果要恢复的对象不是一个
                System.out.println(info.references());
                if (info.references() != 1) &#123;
                    System.out.println(&quot;The object is not the only one.&quot;);
                    // 不允许恢复对象
                    return ObjectInputFilter.Status.REJECTED;
                &#125;
                if (info.serialClass() != null &amp;&amp;
                    info.serialClass() != Person.class) &#123;
                    System.out.println(&quot;The object is not the Person class.&quot;);
                    // 不允许恢复对象
                    return ObjectInputFilter.Status.REJECTED;
                &#125;
                return ObjectInputFilter.Status.UNDECIDED;
            &#125;);
            // 从输入流中读取一个 Java 对象, 并强制转换为 Person 类
            Person p = (Person)ois.readObject();
            System.out.println(&quot;名字为:&quot; + p.getName() +
                &quot;\n年龄为:&quot; + p.getAge());
        &#125; catch (Exception ex) &#123;
            ex.printStackTrace();
        &#125;
    &#125;
&#125;</code></pre>
<p>没太说清楚啥意思。</p>
<h3 id="15-8-5-自定义序列化"><a href="#15-8-5-自定义序列化" class="headerlink" title="15.8.5 自定义序列化"></a>15.8.5 自定义序列化</h3><p>transient 关键字修饰实例变量，表明序列化时忽略该字段。</p>
<pre><code class="java">public class TransientTest &#123;
    public static void main(String[] args) &#123;
        try (ObjectOutputStream oos = new ObjectOutputStream(
                        new FileOutputStream(&quot;transient.txt&quot;));
            ObjectInputStream ois = new ObjectInputStream(
                    new FileInputStream(&quot;transient.txt&quot;))) &#123;
            Person per = new Person(&quot;Alvin&quot;, 26);
            oos.writeObject(per);
            Person p = (Person)ois.readObject();
            System.out.println(p.getName());
            System.out.println(p.getAge());
        &#125; catch (Exception ex) &#123;
            ex.printStackTrace();
        &#125;
    &#125;
&#125;</code></pre>
<p>没有看到预期的效果，难道 Java 12 不支持了？</p>
<p>有时候不需要 transient 这么绝对的不序列化，那么我么可以自定序列化：</p>
<ul>
<li>private void writeObject(ObjectOutputStream out)  throw IOException</li>
<li>private void readObject(ObjectInputStream in)</li>
<li>private void readObjectNoData()</li>
<li>private Object writeReplace()</li>
<li>Object readResolve()：紧接着 readObject() 之后调用</li>
</ul>
<pre><code class="java">public class Person implements Serializable &#123;
    private String name;
    private int age;
    // 注意此处没有提供无参构造器
    public Person(String name, int age) &#123;
        System.out.println(&quot;有参构造器&quot;);
        this.name = name;
        this.age = age;
    &#125;

    private void writeObject(ObjectOutputStream out) throws IOException &#123;
        System.out.println(&quot;invoke wirteObject&quot;);
        // 将 name 实例变量值反转后写入二进制流
        out.writeObject(new StringBuffer(name).reverse());
        out.writeInt(age);
    &#125;
    private void readObject(ObjectInputStream in) throws IOException,
            ClassNotFoundException &#123;
        System.out.println(&quot;invoke readObject&quot;);
        // 将读取的字符串反转后赋给 name 实例变量
        this.name = ((StringBuffer)in.readObject()).reverse().toString();
        this.age = in.readInt();
    &#125;

    public String getName() &#123;
        return name;
    &#125;

    public void setName(String name) &#123;
        this.name = name;
    &#125;

    public int getAge() &#123;
        return age;
    &#125;

    public void setAge(int age) &#123;
        this.age = age;
    &#125;
&#125;</code></pre>
<pre><code class="java">public class CustomTest &#123;
    public static void main(String[] args) &#123;
        try (ObjectOutputStream oos = new ObjectOutputStream(
                new FileOutputStream(&quot;custom.txt&quot;));
             ObjectInputStream ois = new ObjectInputStream(
                     new FileInputStream(&quot;custom.txt&quot;))) &#123;
            Person per = new Person(&quot;Alvin&quot;, 26);
            oos.writeObject(per);
            Person p = (Person)ois.readObject();
            System.out.println(p.getName());
            System.out.println(p.getAge());
        &#125; catch (Exception ex) &#123;
            ex.printStackTrace();
        &#125;
    &#125;
&#125;</code></pre>
<p>所有的单例、枚举类在实现序列化时，都应该提供 readResolve() 方法，这样才可以保证反序列化的对象依然正常。</p>
<h3 id="15-8-6-另一种自定义序列化机制"><a href="#15-8-6-另一种自定义序列化机制" class="headerlink" title="15.8.6 另一种自定义序列化机制"></a>15.8.6 另一种自定义序列化机制</h3><p>通过实现 Externalizable 接口，完全控制存储和恢复对象数据。</p>
<ul>
<li>void readExternal(ObjectInput in)</li>
<li>void writeExternal(ObjectOutput out)</li>
</ul>
<pre><code class="java">public class Person implements Externalizable &#123;
    private String name;
    private int age;
    // 注意必须提供无参构造器,否则反序列化时会失败
    public Person()&#123;&#125;
    public Person(String name, int age) &#123;
        System.out.println(&quot;有参构造器&quot;);
        this.name = name;
        this.age = age;
    &#125;
    @Override
    public void writeExternal(ObjectOutput out) throws IOException &#123;
        // 将 name 反转后写入二进制流
        out.writeObject(new StringBuffer(name).reverse());
        out.writeInt(age);
    &#125;
    @Override
    public void readExternal(ObjectInput in) throws IOException, ClassNotFoundException &#123;
        // 将读取的字符串反转后赋值给 name 实例变量
        this.name = ((StringBuffer)in.readObject()).reverse().toString();
        this.age = in.readInt();
    &#125;
&#125;</code></pre>
<table>
<thead>
<tr>
<th>实现 Serializable 接口</th>
<th>实现 Externalizable 接口</th>
</tr>
</thead>
<tbody><tr>
<td>系统自动存储必要信息</td>
<td>程序员决定存储哪些信息</td>
</tr>
<tr>
<td>Java 内建支持，实现接口即可</td>
<td>需要实现序列化方法</td>
</tr>
<tr>
<td>性能略差</td>
<td>性能略好</td>
</tr>
</tbody></table>
<ul>
<li>对象的类名、实例变量都会被序列化；方法、类变量、transient 实例变量都不会被序列化</li>
<li>实现 Serializable 为了让某个实例变量不序列化，应该用 transient 而不是 static</li>
<li>保证序列化对象的实例变量类型也是可序列化的，否则需要使用 transient 来修饰，要不然该类是不可序列化的。</li>
<li>反序列化对象时必须有该对象的 class 文件</li>
<li>当通过文件、网络来读取序列化后的对象时，必须按实际写入的顺序读取</li>
</ul>
<h3 id="15-8-7-版本"><a href="#15-8-7-版本" class="headerlink" title="15.8.7 版本"></a>15.8.7 版本</h3><p>反序列化 Java 对象时必须提供该对象的 class 文件，但是随着项目的升级，系统的 class 文件也会升级，Java 如何保证两个 class 文件的兼容性？</p>
<p>Java 序列化机制允许为序列化类提供一个 priate static final 的serialVersionUID 值，用于标识类的序列化版本，也就是说如果一个类升级后，只要它的 serialVersionUID 没变，序列化机制也会把他们当成同一个序列化版本。</p>
<p>通常建议每个序列化类都显示指定该值，如果不指定将由 JVM 根据类的相关信息计算，而修改后的类计算结果往往与修改前的不同，从而造成对象的反序列化因为类版本不兼容而失败。</p>
<p>JDK bin 目录下的 serialver.exe 工具可以获取类的 serialVersionUID 值。</p>
<pre><code class="cmd">serialver Person</code></pre>
<p>如果类的修改确实会导致类实例的反序列化失败，则应该修改 serialVersionUID 的值。</p>
<ul>
<li>如果仅仅修改方法，反序列化不受影响，无需修改 serialVersionUID</li>
<li>如果仅仅修改静态变量或瞬态变量，同上</li>
<li>如果修改了非<strong>瞬态</strong>的实例变量<ul>
<li>类型修改：反序列失败，应该修改 serialVersionUID</li>
<li>删除变量：序列化版本可以兼容，可以不更新 serialVersionUID</li>
<li>新增变量：序列化版本可以兼容，可以不更新 serialVersionUID</li>
</ul>
</li>
</ul>
<h2 id="15-9-NIO"><a href="#15-9-NIO" class="headerlink" title="15.9 NIO"></a>15.9 NIO</h2><h3 id="15-9-1-Java-新-IO-概述"><a href="#15-9-1-Java-新-IO-概述" class="headerlink" title="15.9.1 Java 新 IO 概述"></a>15.9.1 Java 新 IO 概述</h3><p>新 IO 采用内存映射文件的方式来处理输入/输出，新 IO 将文件或文件的一段区域映射到内存中,这样就可以像访问内存一样来访问文件了(模拟了操作系统上虚拟内存的概念)，这样速度更快。</p>
<p>相关包：</p>
<ul>
<li>java.nio 包：各种与 Buffer 相关的类</li>
<li>java.nio.channels 包：Channel 和 Selector 相关的类</li>
<li>java.nio.charset 包：字符集相关的类</li>
<li>java.nio.channels.spi 包：Channel 相关的服务提供者</li>
<li>java.nio.charset.spi 包：字符集相关的服务提供者编程接口</li>
</ul>
<p>Channel（通道）：对传统的输入/输出系统的模拟。提供 map() 方法，直接将一块数据映射到内存中。</p>
<p>Buffer（容器）：类似于之前的竹筒</p>
<h3 id="15-9-2-使用-Buffer"><a href="#15-9-2-使用-Buffer" class="headerlink" title="15.9.2 使用 Buffer"></a>15.9.2 使用 Buffer</h3><h4 id="Buffer-原理"><a href="#Buffer-原理" class="headerlink" title="Buffer 原理"></a>Buffer 原理</h4><p>没有构造器。<code>static XxxBuffer allocate(int capacity)</code></p>
<p>Buffer 中三个重要的概念：</p>
<ul>
<li>容量（capacity）</li>
<li>界限（limit）：limit 后的数据既不可被读也不可被写</li>
<li>位置（position）</li>
<li>标记（mark）：允许直接将 position 定位到 mark 处</li>
</ul>
<p><img src="../../images/java/c15/buffer%E5%8E%9F%E7%90%86.png"></p>
<h4 id="Buffer-常用方法"><a href="#Buffer-常用方法" class="headerlink" title="Buffer 常用方法"></a>Buffer 常用方法</h4><ul>
<li>filp()：为读取 Buffer 中数据作准备 limit=position position=0</li>
<li>clear(): 为将数据写入 Buffer 做准备 limit=capacity position=0</li>
<li>int capacity()</li>
<li>boolean hasRemaining()</li>
<li>int limit()</li>
<li>Buffer limit(int newLimit)</li>
<li>Buffer mark()</li>
<li>int position()</li>
<li>Buffer position(int newPosition)</li>
<li>int remaining()</li>
<li>Buffer reset()</li>
<li>Buffer rewind()</li>
<li>put()</li>
<li>get()</li>
</ul>
<pre><code class="java">public class BufferTest &#123;
    public static void main(String[] args) &#123;
        // 创建 Buffer
        CharBuffer buff = CharBuffer.allocate(8);
        // 8 8 0
        System.out.println(&quot;capacity：&quot; + buff.capacity() + &quot;\n&quot; + &quot;limit：&quot; + buff.limit() + &quot;\n&quot; + &quot;position：&quot; + buff.position());

        // 放入元素
        buff.put(&#39;a&#39;);
        buff.put(&#39;b&#39;);
        buff.put(&#39;c&#39;);
        System.out.println(&quot;放入三个元素后：&quot;);
        // 8 8 3
        System.out.println(&quot;capacity：&quot; + buff.capacity() + &quot;\n&quot; + &quot;limit：&quot; + buff.limit() + &quot;\n&quot; + &quot;position：&quot; + buff.position());

        buff.flip();
        System.out.println(&quot;flip后：&quot;);
        // 8 3 0
        System.out.println(&quot;capacity：&quot; + buff.capacity() + &quot;\n&quot; + &quot;limit：&quot; + buff.limit() + &quot;\n&quot; + &quot;position：&quot; + buff.position());

        System.out.println(&quot;第一个元素：&quot; + buff.get());
        System.out.println(&quot;取出一个元素后：&quot;);
        // 8 3 1
        System.out.println(&quot;capacity：&quot; + buff.capacity() + &quot;\n&quot; + &quot;limit：&quot; + buff.limit() + &quot;\n&quot; + &quot;position：&quot; + buff.position());

        buff.clear();
        System.out.println(&quot;clear后：&quot;);
        // 8 8 0
        System.out.println(&quot;capacity：&quot; + buff.capacity() + &quot;\n&quot; + &quot;limit：&quot; + buff.limit() + &quot;\n&quot; + &quot;position：&quot; + buff.position());

        System.out.println(&quot;执行clear()后，缓冲区元素并没有被清除：例如还可以取到第三个元素：&quot; + buff.get(2));

        System.out.println(&quot;执行绝对取数后：position 不变&quot;);
        // 8 8 0
        System.out.println(&quot;capacity：&quot; + buff.capacity() + &quot;\n&quot; + &quot;limit：&quot; + buff.limit() + &quot;\n&quot; + &quot;position：&quot; + buff.position());
    &#125;
&#125;</code></pre>
<p>ByteBuffer 提供了一个 allocateDirect() 方法来创建直接 Buffer。直接 Buffer 创建成本更高，但直接 Buffer 的读取效率更高。所以直接 Buffer 只适用于<strong>长生存期</strong>的 Buffer。</p>
<h3 id="15-9-3-使用-Channel"><a href="#15-9-3-使用-Channel" class="headerlink" title="15.9.3 使用 Channel"></a>15.9.3 使用 Channel</h3><ul>
<li>可直接将指定文件的部分或全部直接映射成 Buffer</li>
<li>程序不能直接访问 Channel 中的数据，包括读取、写入都不行 Channel 只能与 Buffer 进行交互。</li>
</ul>
<p>Channel 接口实现类：</p>
<ul>
<li>DatagramChannel：支持 UDP 通信的 Channel</li>
<li>FileChannel</li>
<li>Pipe.SinkChannel：支持线程间通信的管道</li>
<li>Pipe.SourceChannel：同上</li>
<li>SelectableChannel：</li>
<li>ServerSocketChannel、SocketChannel：TCP 通信</li>
</ul>
<p>通过传统的节点 InputStream、OutputStream 的 getChannel() 方法来返回对应的 Channel</p>
<ul>
<li>MappedByteBuffer map(MapMode mode, long pos, long size)：将 Channel 部分或全部数据映射成 ByteBuffer</li>
<li>read()：从 Buffer 中读取数据</li>
<li>write()：从 Buffer 中写入数据</li>
</ul>
<pre><code class="java">public class FileChannelTest &#123;
    public static void main(String[] args) &#123;
        File f = new File(&quot;./src/unit15_javaio/c9/FileChannelTest.java&quot;);
        try(
            FileInputStream fis = new FileInputStream(f);
            // 获取 Channel
            FileChannel inChannel = fis.getChannel();
            FileChannel outChannel = new FileOutputStream(&quot;1.txt&quot;).getChannel())
        &#123;
            MappedByteBuffer buffer = inChannel.map(FileChannel.MapMode.READ_ONLY, 0, f.length());
            outChannel.write(buffer);
            buffer.clear();
            // 创建解码器对象
            Charset charset = StandardCharsets.UTF_8;
            CharsetDecoder decoder = charset.newDecoder();
            // 使用解码器将 ByteBuffer 转换为 CharBuffer
            CharBuffer charBuffer = decoder.decode(buffer);
            System.out.println(charBuffer.toString());
        &#125;
        catch (IOException ex)
        &#123;
            ex.printStackTrace();
        &#125;
    &#125;
&#125;</code></pre>
<pre><code class="java">public class RandomFileChannelTest &#123;
    public static void main(String[] args) throws IOException &#123;
        File f = new File(&quot;a.txt&quot;);
        try(
            // a.txt 的 RandomAccessFile，可读可写
            RandomAccessFile raf = new RandomAccessFile(f, &quot;rw&quot;);
            // 获取 channel
            FileChannel randomChannel = raf.getChannel())
        &#123;
            // 映射只读的 buffer
            ByteBuffer buffer = randomChannel.map(FileChannel.MapMode.READ_ONLY, 0, f.length());
            // 设置 pos
            randomChannel.position(f.length());
            // buffer 中的数据写入 channel
            randomChannel.write(buffer);
        &#125;
    &#125;
&#125;</code></pre>
<p>如果读者习惯了传统 IO 的” 用竹筒多次重复取水” 的过程，或者担心 Channel 对应的文件过大，使用mapO方法一次将所有的文件内容映射到内存中引起性能下降， 也可以使用 Channel 和 Buffer 传统的”用竹筒多次重复取水”的方式。</p>
<pre><code class="java">public class ReadFile &#123;
    public static void main(String[] args) throws IOException &#123;
        try(
            // 创建文件输入流
            FileInputStream fis = new FileInputStream(&quot;D:\\01_code\\01_javasebasic\\waojava\\src\\unit15_javaio\\c9\\ReadFile.java&quot;);
            // 创建一个 FileChannel
            FileChannel fcin = fis.getChannel())
        &#123;
            // 定义一个 ByteBuffer 对象，用于重复取水
            ByteBuffer bbuff = ByteBuffer.allocate(256);
            // 将 FileChannel 中的数据放入 ByteBuffer 中
            while (fcin.read(bbuff) != -1) &#123;
                // 锁定 Buffer 的空白区
                bbuff.flip();
                // 创建 Charset 对象
                final Charset gbk = Charset.forName(&quot;UTF-8&quot;);
                // 创建解码器
                final CharsetDecoder decoder = gbk.newDecoder();
                // 转码
                final CharBuffer cbuff = decoder.decode(bbuff);
                System.out.println(cbuff);
                // Buffer 初始化，为下一次读取数据做准备
                bbuff.clear();
            &#125;
        &#125;
    &#125;
&#125;</code></pre>
<h3 id="15-9-4-字符集和-Charset"><a href="#15-9-4-字符集和-Charset" class="headerlink" title="15.9.4 字符集和 Charset"></a>15.9.4 字符集和 Charset</h3><pre><code class="java">public class CharsetTest &#123;
    public static void main(String[] args) &#123;
        // 获取Java 支持的全部字符集
        SortedMap&lt;String,Charset&gt; map = Charset.availableCharsets();
        for (String alias : map.keySet())
        &#123;
            System.out.println(alias + &quot;------&gt;&quot; + map.get(alias));;
        &#125;
        Properties p = System.getProperties();
        System.out.println(p.getProperty(&quot;file.encoding&quot;));
    &#125;
&#125;</code></pre>
<p>常用字符集：</p>
<ul>
<li>GBK：简体中文</li>
<li>BIG5：繁体中文</li>
<li>ISO-8859-1</li>
<li>UTF-8：8位 UCS 转换格式</li>
<li>UTF-16BE：16 位 UCS 转换格式， Big-endian (最低地址存放高位字节) 字节顺序。</li>
<li>UTF-16LE：16 位 UCS 转换格式， Little-endian (最高地址存放低位字节)字节顺序。</li>
<li>UTF16：16 位 UCS 转换格式， 字节顺序由可选的字节顺序标记来标识。</li>
</ul>
<pre><code class="java">public class CharsetTransform &#123;
    public static void main(String[] args) throws Exception&#123;
        final Charset cn = Charset.forName(&quot;GBK&quot;);
        final CharsetEncoder cnEncoder = cn.newEncoder();
        final CharsetDecoder cnDecoder = cn.newDecoder();
        // 创建一个 CharBuffer 对象
        final CharBuffer cbuff = CharBuffer.allocate(8);
        cbuff.put(&#39;孙&#39;);
        cbuff.put(&#39;悟&#39;);
        cbuff.put(&#39;空&#39;);
        cbuff.flip();
        // 将 CharBuffer 中的字符序列转换成字节序列
        final ByteBuffer bbuff = cnEncoder.encode(cbuff);
        // 循环访问 ByteBuffer 中的每个字节
        for (int i = 0; i &lt; bbuff.capacity(); i++) &#123;
            System.out.println(bbuff.get(i) + &quot; &quot;);
        &#125;
        // 将 ByteBuffer 的数据解码成字符序列
        System.out.println(&quot;\n&quot; + cnDecoder.decode(bbuff));
    &#125;
&#125;</code></pre>
<h3 id="15-9-5-文件锁"><a href="#15-9-5-文件锁" class="headerlink" title="15.9.5 文件锁"></a>15.9.5 文件锁</h3><p>用文件锁可以有效地阻止多个进程并发修改同一个文件，所以现在的大部分操作系统都提供了文件锁的功能。</p>
<p>JDK1.4 的 NIO 开始，Java 开始提供文件锁的支持。</p>
<p>提供 FileLock 来支持文件锁功能，在 Fi leChannel 中提供的lock()/tryLock() 方法可以获得文件锁FileLock 对象，从而锁定文件。lock 阻塞，tryLock 不阻塞。</p>
<ul>
<li>lock(long position, long size, boolean shared)</li>
</ul>
<p>shared 为 true：共享锁，允许多个进程读取该文件，但是阻止其他进程获得对该文件的排他锁。</p>
<p>shared 为 false：锁住该文件的读写。</p>
<pre><code class="java">public class FileLockTest &#123;
    public static void main(String[] args) throws IOException, InterruptedException &#123;
        try(
            @SuppressWarnings(&quot;resource&quot;)
            FileChannel channel = new FileOutputStream(&quot;a.txt&quot;).getChannel())
        &#123;
            // 使用非阻塞的方式对指定文件加锁
            FileLock lock = channel.tryLock();
            Thread.sleep(10000);
            lock.release();
        &#125;
    &#125;
&#125;</code></pre>
<p>文件锁虽然可以用于控制并发访问，但对于高并发访问的情形，还是推荐使用数据库来保存程序信息， 而不是使用文件。</p>
<p>文件锁对象：</p>
<ul>
<li>在某些平台上， 文件锁仅仅是建议性的， 并不是强制性的。这意味着即使一个程序不能获得文件锁，它也可以对该文件进行读写。</li>
<li>在某些平台上，不能同步地锁定一个文件并把它映射到内存中。</li>
<li>文件锁是由 Java 虚拟机所持有的，如果两个Java 程序使用同一个Java 虚拟机运行，则它们不能对同一个文件进行加锁。</li>
<li>在某些平台上关闭 FileChannel 时， 会释放Java 虚拟机在该文件上的所有锁，因此应该避免对同一个被锁定的文件打开多个 FileChannel 。</li>
</ul>
<h2 id="15-10-Java-7-的-NIO-2"><a href="#15-10-Java-7-的-NIO-2" class="headerlink" title="15.10 Java 7 的 NIO.2"></a>15.10 Java 7 的 NIO.2</h2><p>主要有两个改进：</p>
<ul>
<li>提供了全面的文件 IO 和文件系统访问支持。</li>
<li>基于异步 Channel 的 IO</li>
</ul>
<h3 id="15-10-1-Path、Paths-和-Files-核心-API"><a href="#15-10-1-Path、Paths-和-Files-核心-API" class="headerlink" title="15.10.1 Path、Paths 和 Files 核心 API"></a>15.10.1 Path、Paths 和 Files 核心 API</h3><p>File 不能利用特定文件系统的特性，File 提供的方法的性能也不高。</p>
<p>所以 NIO.2 引入了 Path 接口，Path 接口代表一个平台无关的平台路径。</p>
<p>除此之外还提供了 Files、Paths 两个工具类。</p>
<h4 id="Path"><a href="#Path" class="headerlink" title="Path"></a>Path</h4><pre><code class="java">public class PathTest &#123;
    public static void main(String[] args) &#123;
        // 以当前路径来创建 Path 对象
        Path path = Paths.get(&quot;.&quot;);
        System.out.println(&quot;path 里包含的路径数量：&quot; + path.getNameCount());
        System.out.println(&quot;path 的根路径：&quot; + path.getRoot());
        Path absolutePath = path.toAbsolutePath();
        // D:\01_code\01_javasebasic\waojava\.
        System.out.println(absolutePath);
        System.out.println(&quot;absolutePath 的根路径：&quot; + absolutePath.getRoot());
        System.out.println(&quot;absolutePath 里包含的路径数量：&quot; + absolutePath.getNameCount());
        System.out.println(absolutePath.getName(2));
        Path path2 = Paths.get(&quot;g:&quot;, &quot;publish&quot;, &quot;codes&quot;);
        System.out.println(path2);
    &#125;
&#125;</code></pre>
<h4 id="Files"><a href="#Files" class="headerlink" title="Files"></a>Files</h4><pre><code class="java">public class FilesTest &#123;
    public static void main(String[] args) throws FileNotFoundException, IOException &#123;
        Path p = Paths.get(&quot;./src/unit15_javaio/c10/FilesTest.java&quot;);
        Files.copy(p, new FileOutputStream(&quot;a.txt&quot;));

        System.out.println(Files.isHidden(p));

        List&lt;String&gt; lines = Files.readAllLines(p, StandardCharsets.UTF_8);
        System.out.println(lines);

        // 判断指定文件的大小
        System.out.println(Files.size(p));
        List&lt;String&gt; poem = new ArrayList&lt;&gt;();
        poem.add(&quot;莫愁前路无知己&quot;);
        poem.add(&quot;天下谁人不识君&quot;);
        Files.write(Paths.get(&quot;poem.txt&quot;), poem, StandardCharsets.UTF_8);

        // 当前目录下的所有文件和子目录
        Files.list(Paths.get(&quot;.&quot;)).forEach(System.out::println);
        Files.lines(p, StandardCharsets.UTF_8).forEach(System.out::println);

        FileStore cStore = Files.getFileStore(Paths.get(&quot;C:&quot;));
        System.out.println(&quot;c:共有空间：&quot; + cStore.getTotalSpace());
        System.out.println(&quot;c:可用空间：&quot; + cStore.getUsableSpace());
    &#125;
&#125;</code></pre>
<h3 id="15-10-2-使用-FileVisitor-遍历文件和目录"><a href="#15-10-2-使用-FileVisitor-遍历文件和目录" class="headerlink" title="15.10.2 使用 FileVisitor 遍历文件和目录"></a>15.10.2 使用 FileVisitor 遍历文件和目录</h3><ul>
<li>walkFileTree(Path start, FileVisitor&lt;? super Path&gt; visitor)：遍历 start 路径下的所有文件和子目录。</li>
<li>walkFileTree(Path start, Set<FileVisitOption> options, int maxDepth, FileVisitor&lt;? super Path&gt; visitor)：maxDepth 表示深度</li>
</ul>
<p>FileVisitor：</p>
<ul>
<li>FileVisitResult postVisitDirectory(T dir, IOException exc)：访问子目录后触发该方法</li>
<li>FileVisitResult preVisitDirectory(T dir, BasicFileAttributes attrs)：访问子目录之前触发该方法</li>
<li>FileVisitResult visitFile(T file, BasicFileAttributes attrs)：访问文件时</li>
<li>FileVisitResult visitFileFailed(T file, IOException exc)：访问文件失败时</li>
</ul>
<p>FileVisitResult：</p>
<ul>
<li>CONTINUE：继续访问</li>
<li>SKIP_SIBLINGS：继续访问，但不访问该文件或目录的兄弟文件或目录</li>
<li>SKIP_SUBTREE：继续访问，不访问子目录树</li>
<li>TERMINATE：终止访问</li>
</ul>
<pre><code class="java">public class FileVisitorTest &#123;
    public static void main(String[] args) throws IOException &#123;
        Files.walkFileTree(Paths.get(&quot;D:\\01_code\\01_javasebasic\\waojava&quot;), new SimpleFileVisitor&lt;Path&gt;()
        &#123;
            public FileVisitResult visitFile(Path file, BasicFileAttributes attrs) throws IOException
            &#123;
                System.out.println(&quot;正在访问&quot; + file + &quot;文件&quot;);
                if (file.endsWith(&quot;FileVisitorTest.java&quot;))
                &#123;
                    System.out.println(&quot;已经找到目标文件&quot;);
                    return FileVisitResult.TERMINATE;
                &#125;
                return FileVisitResult.CONTINUE;
            &#125;

            public FileVisitResult preVisitDirectory(Path dir, BasicFileAttributes attrs) throws IOException
            &#123;
                System.out.println(&quot;正在访问：&quot; + dir + &quot;目录&quot;);
                return FileVisitResult.CONTINUE;
            &#125;
        &#125;);
    &#125;
&#125;</code></pre>
<h3 id="15-10-3-使用-WatchService-监控文件变化"><a href="#15-10-3-使用-WatchService-监控文件变化" class="headerlink" title="15.10.3 使用 WatchService 监控文件变化"></a>15.10.3 使用 WatchService 监控文件变化</h3><p>注册监听：</p>
<ul>
<li>Path.register(WathService watcher, WatchEvent.Kind&lt;?&gt;… events)</li>
</ul>
<p>WatchService：</p>
<ul>
<li>WatchKey poll()：获取下一个 WatchKey，如果没有 WatchKey 发生立即返回 null</li>
<li>WatchKey poll(long timeout, TimeUnit unit)</li>
<li>WatchKey take()：阻塞</li>
</ul>
<pre><code class="java">public class WatchServiceTest &#123;
    public static void main(String[] args) throws IOException, InterruptedException &#123;
        WatchService watchService = FileSystems.getDefault().newWatchService();
        // 为 C: 盘根路径注册监听
        Paths.get(&quot;D:/&quot;).register(watchService, StandardWatchEventKinds.ENTRY_CREATE,StandardWatchEventKinds.ENTRY_DELETE,StandardWatchEventKinds.ENTRY_MODIFY);
        while (true)
        &#123;
            System.out.println(&quot;start======&gt;&quot;);
            // 获取下一个文件变化事件
            WatchKey key = watchService.take();
            for (WatchEvent&lt;?&gt; event : key.pollEvents())
            &#123;
                System.out.println(event.context() + &quot; 文件发生了 &quot; + event.kind() + &quot;事件&quot;);
            &#125;
            // 重设 WatchKey
            boolean valid = key.reset();
            if (!valid)
            &#123;
                break;
            &#125;
            System.out.println(&quot;end======&gt;&quot;);
        &#125;
    &#125;
&#125;</code></pre>
<h3 id="15-10-4-访问文件属性"><a href="#15-10-4-访问文件属性" class="headerlink" title="15.10.4 访问文件属性"></a>15.10.4 访问文件属性</h3><p>Java 7 的 NIO.2 在 java.nio.file.attribute 包下提供了大量的工具类：</p>
<ul>
<li>XxxAttributeView：某种文件属性的视图</li>
<li>XxxAttributes：某种文件属性的集合</li>
</ul>
<ol>
<li>AclFileAttributeView: 通过 AclFileAttributeView，开发者可以为特定文件设置 ACL (Access ControlList ) 及文件所有者属性。它的 getAcl() 方法返回 List<AclEntry> 对象，该返回值代表了该文件的权限集。通过 setAcl(List) 方法可以修改该文件的 ACL 。</li>
<li>BasicFileAttributeView: 它可以获取或修改文件的基本属性，包括文件的最后修改时间、最后访问时间、创建时间、大小、是否为目录、是否为符号链接等。它的 readAttributes() 方法返回一个BasicFileAttributes 对象，对文件夹基本属性的修改是通过 BasicFileAttributes 对象完成的。</li>
<li>DosFileAttributeView: 它主要用于获取或修改文件 DOS 相关属性，比如文件是否只读、是否隐藏、是否为系统文件、是否是存档文件等。它的 readAttributes() 方法返回一个 DosFileAttributes 对象， 对这些属性的修改其实是由 DosFileAttributes 对象来完成的。</li>
<li>FileOwnerAttributeView: 它主要用于获取或修改文件的所有者。它的 getOwner()方法返回一个UserPrincipal 对象来代表文件所有者；也可调用 setOwner(UserPrincipalowner) 方法来改变文件的所有者。</li>
<li>PosixFileAttributeView: 它主要用于获取或修改 POSIX(Portable Operating System Interface of INIX)属性，它的 readAttributes() 方法返回一个 PosixFileArtributes 对象， 该对象可用于获取或修改文件的所有者、组所有者、访问权限信息(就是UNIX 的chmod 命令负责干的事情)。这个View 只在UNIX 、Linux等系统上有用。</li>
<li>UserDefinedFileAttributeView: 它可以让开发者为文件设置一些自定义属性。</li>
</ol>
<pre><code class="java">public class AttributeViewTest &#123;
    public static void main(String[] args) throws Exception &#123;
        // 获取将要操作的文件
        final Path testPath = Paths.get(&quot;./src/unit15_javaio/c10/AttributeViewTest.java&quot;);

        // 获取访问基本属性的 view
        final BasicFileAttributeView basicView = Files.getFileAttributeView(testPath, BasicFileAttributeView.class);
        // 获取访问基本属性的 attrs
        final BasicFileAttributes basicAttribs = basicView.readAttributes();
        System.out.println(&quot;创建时间：&quot; + new Date(basicAttribs.creationTime().toMillis()));
        System.out.println(&quot;最后访问时间：&quot; + new Date(basicAttribs.lastAccessTime().toMillis()));
        System.out.println(&quot;文件大小：&quot; + basicAttribs.size());

        // 获取访问文件属性主信息的 view
        final FileOwnerAttributeView ownerView = Files.getFileAttributeView(testPath, FileOwnerAttributeView.class);
        System.out.println(&quot;文件所有者：&quot; + ownerView.getOwner());
        // 获取系统中 guest 对应的用户
        final UserPrincipal user = FileSystems.getDefault().getUserPrincipalLookupService().lookupPrincipalByName(&quot;guest&quot;);
        // 修改用户
        // ownerView.setOwner(user);

        // 获取访问自定义属性的 view
        final UserDefinedFileAttributeView userView = Files.getFileAttributeView(testPath, UserDefinedFileAttributeView.class);
        // 添加一个自定义属性
        userView.write(&quot;发行者&quot;, Charset.defaultCharset().encode(&quot;alvin&quot;));
        final List&lt;String&gt; attrNames = userView.list();
        for (String name : attrNames) &#123;
            ByteBuffer buf = ByteBuffer.allocate(userView.size(name));
            userView.read(name, buf);
            buf.flip();
            String value = Charset.defaultCharset().decode(buf).toString();
            System.out.println(name + &quot;----&gt;&quot; + value);
        &#125;

        // 获取访问 DOS 属性的 view
        final DosFileAttributeView dosView = Files.getFileAttributeView(testPath, DosFileAttributeView.class);
        // 将文件设置隐藏、只读
        dosView.setHidden(true);
        dosView.setReadOnly(true);
    &#125;
&#125;</code></pre>

      
       <hr><span style="font-style: italic;color: gray;"> 转载请注明来源，欢迎对文章中的引用来源进行考证，欢迎指出任何有错误或不够清晰的表达。可以在下面评论区评论，也可以邮件至 lixianfu1@outlook.com </span>
    </div>
</article>


<p>
    <a  class="dashang" onclick="dashangToggle()">赏</a>
</p>




    <div id="comments"></div>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">

<script type="text/javascript">
    $.getScript('/js/gitalk.js', function () {
        var gitalk = new Gitalk({
            clientID: '8b4bf9e725fa9e5652a9',
            clientSecret: 'bfc996b7a7d84a81599a9af4ca153637bd05b9f3',
            repo: 'gitalk',
            owner: 'Monkey-kong',
            admin: ['Monkey-kong'],
            id: decodeURI(location.pathname),
            distractionFreeMode: 'true',
            language: 'zh-CN',
            perPage: parseInt('10',10)
        })
        gitalk.render('comments')
    })
</script>




    




    </div>
    <div class="copyright">
        <p class="footer-entry"><span class="miit">
                <img src="/img/gov.png" title="中华人民共和国工业和信息化部">
                <a href="http://beian.miit.gov.cn/">粤ICP备2020135752号</a>
        </span>
    
    ©2019-2020 悟空
</p>
<p class="footer-entry">Built with <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/yelog/hexo-theme-3-hexo" target="_blank">3-hexo</a> theme</p>

    </div>
    <div class="full-toc">
        <button class="full" data-title="切换全屏 快捷键 s"><span class="min "></span></button>
<a class="" id="rocket" ></a>

    </div>
</div>

<div class="hide_box" onclick="dashangToggle()"></div>
<div class="shang_box">
    <a class="shang_close"  onclick="dashangToggle()">×</a>
    <div class="shang_tit">
        <p>喜欢就点赞,疼爱就打赏</p>
    </div>
    <div class="shang_payimg">
        <div class="pay_img">
            <img src="/img/alipay.jpg" class="alipay" title="扫码支持">
            <img src="/img/weixin.jpg" class="weixin" title="扫码支持">
        </div>
    </div>
    <div class="shang_payselect">
        <span><label><input type="radio" name="pay" checked value="alipay">支付宝</label></span><span><label><input type="radio" name="pay" value="weixin">微信</label></span>
    </div>
</div>


</body>
<script src="/js/jquery.pjax.js?v=1.1.0" ></script>

<script src="/js/script.js?v=1.1.0" ></script>
<script>
    var img_resize = 'default';
    function initArticle() {
        /*渲染对应的表格样式*/
        
            $("#post .pjax table").addClass("green_title");
        

        /*渲染打赏样式*/
        
        $("input[name=pay]").on("click", function () {
            if($("input[name=pay]:checked").val()=="weixin"){
                $(".shang_box .shang_payimg .pay_img").addClass("weixin_img");
            } else {
                $(".shang_box .shang_payimg .pay_img").removeClass("weixin_img");
            }
        })
        

        /*高亮代码块行号*/
        
        $('pre code').each(function(){
            var lines = $(this).text().trim().split('\n').length, widther='';
            if (lines>99) {
                widther = 'widther'
            }
            var $numbering = $('<ul/>').addClass('pre-numbering ' + widther).attr("unselectable","on");
            $(this).addClass('has-numbering ' + widther)
                    .parent()
                    .append($numbering);
            for(var i=1;i<=lines;i++){
                $numbering.append($('<li/>').text(i));
            }
        });
        

        /*访问数量*/
        
        $.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js");
        

        /*代码高亮，行号对齐*/
        $('.pre-numbering').css('line-height',$('.has-numbering').css('line-height'));

        
        
    }

    /*打赏页面隐藏与展示*/
    
    function dashangToggle() {
        $(".shang_box").fadeToggle();
        $(".hide_box").fadeToggle();
    }
    

</script>

<!--加入行号的高亮代码块样式-->

<style>
    pre{
        position: relative;
        margin-bottom: 24px;
        border-radius: 10px;
        border: 1px solid #e2dede;
        background: #FFF;
        overflow: hidden;
    }
    code.has-numbering{
        margin-left: 30px;
    }
    code.has-numbering.widther{
        margin-left: 35px;
    }
    .pre-numbering{
        margin: 0;
        position: absolute;
        top: 0;
        left: 0;
        width: 20px;
        padding: 0.5em 3px 0.7em 5px;
        border-right: 1px solid #C3CCD0;
        text-align: right;
        color: #AAA;
        background-color: ;
    }
    .pre-numbering.widther {
        width: 35px;
    }
</style>

<!--自定义样式设置-->
<style>
    
    
    .nav {
        width: 562px;
    }
    .nav.fullscreen {
        margin-left: -562px;
    }
    .nav-left {
        width: 140px;
    }
    
    
    @media screen and (max-width: 1468px) {
        .nav {
            width: 492px;
        }
        .nav.fullscreen {
            margin-left: -492px;
        }
        .nav-left {
            width: 100px;
        }
    }
    
    
    @media screen and (max-width: 1024px) {
        .nav {
            width: 492px;
            margin-left: -492px
        }
        .nav.fullscreen {
            margin-left: 0;
        }
    }
    
    @media screen and (max-width: 426px) {
        .nav {
            width: 100%;
        }
        .nav-left {
            width: 100%;
        }
    }
    
    
    .nav-right .title-list nav a .post-title, .nav-right .title-list #local-search-result a .post-title {
        color: #383636;
    }
    
    
    .nav-right .title-list nav a .post-date, .nav-right .title-list #local-search-result a .post-date {
        color: #5e5e5f;
    }
    
    
    .nav-right nav a.hover, #local-search-result a.hover{
        background-color: #e2e0e0;
    }
    
    

    /*列表样式*/
    

    /* 背景图样式 */
    
    


    /*引用块样式*/
    

    /*文章列表背景图*/
    

    
</style>






</html>
