<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="悟空的技术博客"><title>第 9 章 泛型 | 悟空</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/normalize.css/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/purecss/build/pure-min.min.css"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/purecss/build/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"><script type="text/javascript" src="//cdn.jsdelivr.net/npm/clipboard/dist/clipboard.min.js"></script><script type="text/javascript" src="//cdn.jsdelivr.net/gh/codeseven/toastr/build/toastr.min.js"></script><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/codeseven/toastr/build/toastr.min.css"><meta name="generator" content="Hexo 5.2.0"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">第 9 章 泛型</h1><a id="logo" href="/.">悟空</a><p class="description">悟空的技术博客</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/tags/"><i class="fa fa-tag"> 标签</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">第 9 章 泛型</h1><div class="post-meta">2020-01-09<span> | </span><span class="category"><a href="/categories/%E7%96%AF%E7%8B%82-Java-%E8%AE%B2%E4%B9%89/">疯狂 Java 讲义</a></span></div><div class="clear"><div class="toc-article" id="toc"><div class="toc-title">文章目录</div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#9-1-%E6%B3%9B%E5%9E%8B%E5%85%A5%E9%97%A8"><span class="toc-text">9.1  泛型入门</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#9-1-1-%E7%BC%96%E8%AF%91%E6%97%B6%E4%B8%8D%E6%A3%80%E6%9F%A5%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%BC%82%E5%B8%B8"><span class="toc-text">9.1.1 编译时不检查类型的异常</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-1-2-%E4%BD%BF%E7%94%A8%E6%B3%9B%E5%9E%8B"><span class="toc-text">9.1.2 使用泛型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-1-3-Java-9-%E5%A2%9E%E5%BC%BA%E7%9A%84%E8%8F%B1%E5%BD%A2%E8%AF%AD%E6%B3%95"><span class="toc-text">9.1.3 Java 9 增强的菱形语法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-2-%E6%B7%B1%E5%85%A5%E6%B3%9B%E5%9E%8B"><span class="toc-text">9.2 深入泛型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#9-2-1-%E5%AE%9A%E4%B9%89%E6%B3%9B%E5%9E%8B%E6%8E%A5%E5%8F%A3%E3%80%81%E7%B1%BB"><span class="toc-text">9.2.1 定义泛型接口、类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-2-2-%E4%BB%8E%E6%B3%9B%E5%9E%8B%E6%B4%BE%E7%94%9F%E5%AD%90%E7%B1%BB"><span class="toc-text">9.2.2 从泛型派生子类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-2-3-%E5%B9%B6%E4%B8%8D%E5%AD%98%E5%9C%A8%E6%B3%9B%E5%9E%8B%E7%B1%BB"><span class="toc-text">9.2.3 并不存在泛型类</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-3-%E7%B1%BB%E5%9E%8B%E7%BB%9F%E9%85%8D%E7%AC%A6"><span class="toc-text">9.3 类型统配符</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#9-3-1-%E4%BD%BF%E7%94%A8%E7%B1%BB%E5%9E%8B%E7%BB%9F%E9%85%8D%E7%AC%A6"><span class="toc-text">9.3.1 使用类型统配符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-3-2-%E8%AE%BE%E5%AE%9A%E7%B1%BB%E5%9E%8B%E9%80%9A%E9%85%8D%E7%AC%A6%E7%9A%84%E4%B8%8A%E9%99%90"><span class="toc-text">9.3.2 设定类型通配符的上限</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-3-3-%E8%AE%BE%E5%AE%9A%E7%B1%BB%E5%9E%8B%E9%80%9A%E9%85%8D%E7%AC%A6%E7%9A%84%E4%B8%8B%E9%99%90"><span class="toc-text">9.3.3 设定类型通配符的下限</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-3-4-%E8%AE%BE%E5%AE%9A%E6%B3%9B%E5%9E%8B%E5%BD%A2%E5%8F%82%E7%9A%84%E4%B8%8A%E9%99%90"><span class="toc-text">9.3.4 设定泛型形参的上限</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-4-%E6%B3%9B%E5%9E%8B%E6%96%B9%E6%B3%95"><span class="toc-text">9.4 泛型方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#9-4-1-%E5%AE%9A%E4%B9%89%E6%B3%9B%E5%9E%8B%E6%96%B9%E6%B3%95"><span class="toc-text">9.4.1 定义泛型方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-4-2-%E6%B3%9B%E5%9E%8B%E6%96%B9%E6%B3%95%E5%92%8C%E7%B1%BB%E5%9E%8B%E9%80%9A%E9%85%8D%E7%AC%A6%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-text">9.4.2 泛型方法和类型通配符的区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-4-3-Java-7-%E7%9A%84%E8%8F%B1%E5%BD%A2%E8%AF%AD%E6%B3%95%E4%B8%8E%E6%B3%9B%E5%9E%8B%E6%9E%84%E9%80%A0%E5%99%A8"><span class="toc-text">9.4.3 Java 7 的菱形语法与泛型构造器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-4-4-%E6%B3%9B%E5%9E%8B%E6%96%B9%E6%B3%95%E4%B8%8E%E6%96%B9%E6%B3%95%E9%87%8D%E8%BD%BD"><span class="toc-text">9.4.4 泛型方法与方法重载</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-4-5-Java-8-%E6%94%B9%E8%BF%9B%E7%9A%84%E7%B1%BB%E5%9E%8B%E6%8E%A8%E6%96%AD"><span class="toc-text">9.4.5 Java 8 改进的类型推断</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-5-%E6%93%A6%E9%99%A4%E5%92%8C%E8%BD%AC%E6%8D%A2"><span class="toc-text">9.5 擦除和转换</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-6-%E6%B3%9B%E5%9E%8B%E4%B8%8E%E6%95%B0%E7%BB%84"><span class="toc-text">9.6 泛型与数组</span></a></li></ol></div></div><div class="post-content"><p>第 9 章 泛型</p>
<a id="more"></a>

<h2 id="9-1-泛型入门"><a href="#9-1-泛型入门" class="headerlink" title="9.1  泛型入门"></a>9.1  泛型入门</h2><h3 id="9-1-1-编译时不检查类型的异常"><a href="#9-1-1-编译时不检查类型的异常" class="headerlink" title="9.1.1 编译时不检查类型的异常"></a>9.1.1 编译时不检查类型的异常</h3><p>不使用泛型，容易引发类型转换异常。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ListErr</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 创建一个只想保存字符串的 List</span></span><br><span class="line">        List strList = <span class="keyword">new</span> ArrayList();</span><br><span class="line">        strList.add(<span class="string">&quot;111&quot;</span>);</span><br><span class="line">        strList.add(<span class="string">&quot;222&quot;</span>);</span><br><span class="line">        <span class="comment">// 不小心把一个 Integer 对象丢进了集合</span></span><br><span class="line">        strList.add(<span class="number">333</span>);</span><br><span class="line">        <span class="comment">// 引发 ClassCastException</span></span><br><span class="line">        strList.forEach(str -&gt; System.out.println(((String)str).length()));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="9-1-2-使用泛型"><a href="#9-1-2-使用泛型" class="headerlink" title="9.1.2 使用泛型"></a>9.1.2 使用泛型</h3><p>使用泛型后，如果不符合类型要求直接编译报错。</p>
<p><code>List&lt;String&gt; strList = new ArrayList&lt;String&gt;();</code></p>
<h3 id="9-1-3-Java-9-增强的菱形语法"><a href="#9-1-3-Java-9-增强的菱形语法" class="headerlink" title="9.1.3 Java 9 增强的菱形语法"></a>9.1.3 Java 9 增强的菱形语法</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Foo</span>&lt;<span class="title">T</span>&gt;</span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">(T t)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AnnoymousTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// Java 7 开始，后面可以省略等号右边尖括号内容</span></span><br><span class="line">        List&lt;String&gt; strList = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        Map&lt;String, List&lt;String&gt;&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Java 9 开始，创建匿名内部类时使用菱形语法</span></span><br><span class="line">        <span class="comment">// 指定 Foo 类中泛型为 String</span></span><br><span class="line">        Foo&lt;String&gt; f = <span class="keyword">new</span> Foo&lt;&gt;()&#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;test 方法的 s 参数为：&quot;</span> + s);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="comment">// 使用泛型通配符，此时相当于通配符的上限为 Object</span></span><br><span class="line">        Foo&lt;?&gt; fo = <span class="keyword">new</span> Foo&lt;&gt;()&#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;test 方法的 o 参数为：&quot;</span> + o);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="comment">// 使用泛型通配符，通配符的上限为 Number。</span></span><br><span class="line">        <span class="comment">// ? 为 Number 的子类，所以是上限</span></span><br><span class="line">        Foo&lt;? extends Number&gt; fn = <span class="keyword">new</span> Foo&lt;&gt;()&#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">(Number number)</span> </span>&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;test 方法的 Number 参数为：&quot;</span> + number);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="9-2-深入泛型"><a href="#9-2-深入泛型" class="headerlink" title="9.2 深入泛型"></a>9.2 深入泛型</h2><p>所谓泛型，就是允许在定义类、接口、方法时使用<strong>类型形参</strong>，这个类型形参（或叫泛型）将在<strong>声明变量、创建对象、调用方法</strong>时动态地指定（即传入实际的类型参数，也可称为类型实参）。</p>
<p>Java 5 改写了集合框架中的全部接口和类，为这些接口、类增加了泛型支持，从而可以在声明集合变量、创建集合对象时传入类型实参，这就是在前面程序中看到的 List<String> 和 ArrayList<String> 两种类型。</p>
<h3 id="9-2-1-定义泛型接口、类"><a href="#9-2-1-定义泛型接口、类" class="headerlink" title="9.2.1 定义泛型接口、类"></a>9.2.1 定义泛型接口、类</h3><p>类型形参、类型实参。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义接口时指定一个泛型形参，该形参名为 E</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">List</span>&lt;<span class="title">E</span>&gt;</span>&#123;</span><br><span class="line">    <span class="comment">// 在该接口里，E 可作为类型使用</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(E x)</span></span>;</span><br><span class="line">    <span class="function">Iterator&lt;E&gt; <span class="title">iterator</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 定义该接口时，指定了两个泛型形参，其形参名为 K、V</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Map</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt;</span>&#123;</span><br><span class="line">    <span class="function">Set&lt;K&gt; <span class="title">keySet</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function">V <span class="title">put</span><span class="params">(K key, V value)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>可以为任何类、接口增加泛型声明，并不是只有集合才可以使用泛型。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义 Apple 类时使用了泛型声明</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Apple</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="comment">// 使用 T 类型定义实例bianl</span></span><br><span class="line">    <span class="keyword">private</span> T info;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Apple</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">    <span class="comment">// 使用 T 类型类定义构造器</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Apple</span><span class="params">(T info)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.info = info;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">getInfo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> info;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setInfo</span><span class="params">(T info)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.info = info;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 由于传给 T 形参的是 String，所以构造器参数只能是 String</span></span><br><span class="line">        Apple&lt;String&gt; a1 = <span class="keyword">new</span> Apple&lt;&gt;(<span class="string">&quot;苹果&quot;</span>);</span><br><span class="line">        System.out.println(a1.getInfo());</span><br><span class="line">        <span class="comment">// 只能是 Double 或 double</span></span><br><span class="line">        Apple&lt;Double&gt; a2 = <span class="keyword">new</span> Apple&lt;&gt;(<span class="number">5.67</span>);</span><br><span class="line">        System.out.println(a2.getInfo());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="9-2-2-从泛型派生子类"><a href="#9-2-2-从泛型派生子类" class="headerlink" title="9.2.2 从泛型派生子类"></a>9.2.2 从泛型派生子类</h3><p>使用父类或者接口时，不能再包含形参，必须给定实参或者默认 Object 类型。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">A1</span> <span class="keyword">extends</span> <span class="title">Apple</span>&lt;<span class="title">String</span>&gt; </span>&#123;</span><br><span class="line">    <span class="comment">// 正确重写了父类的方法，返回值</span></span><br><span class="line">    <span class="comment">// 与父类Apple&lt;String&gt;的返回值完全相同</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getInfo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;子类&quot;</span> + <span class="keyword">super</span>.getInfo();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 编译报错，重写父类方法时，返回值不一致</span></span><br><span class="line"><span class="comment">//    @Override</span></span><br><span class="line"><span class="comment">//    public Object getInfo() &#123;</span></span><br><span class="line"><span class="comment">//        return &quot;子类&quot;;</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">A2</span> <span class="keyword">extends</span> <span class="title">Apple</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getInfo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// super.getIno() 方法返回值是 Object 类型</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">super</span>.getInfo().toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="9-2-3-并不存在泛型类"><a href="#9-2-3-并不存在泛型类" class="headerlink" title="9.2.3 并不存在泛型类"></a>9.2.3 并不存在泛型类</h3><p>前面提到可以把 ArrayList&lt; String&gt; 类当成 ArrayList 的子类， 事实上， ArrayList<String> 类也确实像一种特殊的 ArrayLi st 类但实际上， 系统并没有为ArrayList<S tring> 生成新的 cl ass 文件，而且也不会把 ArrayLi st&lt; String&gt; 当成新类来处理。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">NoClassExits</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        List&lt;String&gt; l1 = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        List&lt;Integer&gt; l2 = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="comment">// 并不存在泛型类，都是List 类型。true</span></span><br><span class="line">        System.out.println(l1.getClass() == l2.getClass());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>不管为泛型形参传入哪一种类型实参， 对于 Java 来说， 它们依然被当成同一个类处理，在内存中也只占用一块内存空间，因此在<strong>静态方法、静态初始化块或者静态变量的声明和初始化</strong>中不允许使用泛型形参。</p>
<p>如何理解？</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StaticTest</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="comment">// 下面代码错误，不能在静态变量声明中使用泛型形参</span></span><br><span class="line">    <span class="comment">// static T info;</span></span><br><span class="line">    T age;</span><br><span class="line">    <span class="comment">// 下面代码错误，不能再静态方法声明中使用泛型形参</span></span><br><span class="line">    <span class="comment">// public static void bar(T msg)&#123;&#125;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="9-3-类型统配符"><a href="#9-3-类型统配符" class="headerlink" title="9.3 类型统配符"></a>9.3 类型统配符</h2><p>当使用一个泛型类时（声明变量、创建对象），都应该为这个泛型类传入一个类型实参，否则编译器会提示泛型警告。假设现在要定义一个方法，该方法的一个集合形参的类型不确定，应该如何定义呢？</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">(List&lt;Object&gt; c)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;c.size(); i++)&#123;</span><br><span class="line">        System.out.println(c.get(i));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">List&lt;String&gt; strList = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"><span class="comment">// 直接编译报错，可以看出：List&lt;String&gt; 对象不能被当成 List&lt;Object&gt; 子类</span></span><br><span class="line">test(strList);</span><br><span class="line"></span><br><span class="line">Integer[] ia = neww Integer[<span class="number">5</span>];</span><br><span class="line"><span class="comment">// 编译正常</span></span><br><span class="line">Number[] na = ia;</span><br><span class="line"><span class="comment">// 报错，因为 0.5 不是 Integer</span></span><br><span class="line">na[<span class="number">0</span>] = <span class="number">0.5</span>;</span><br></pre></td></tr></table></figure>

<p>泛型的设计原则是，只要代码在编译时没有出现警告，就不会遇到运行时 ClassCastException 异常。所以数组之后出现的泛型，不允许上面数组那样直接赋值。</p>
<h3 id="9-3-1-使用类型统配符"><a href="#9-3-1-使用类型统配符" class="headerlink" title="9.3.1 使用类型统配符"></a>9.3.1 使用类型统配符</h3><p>List&lt;?&gt; ：意思是元素类型未知的 List，这个问号就是通配符。</p>
<p>所以上面方法可以改写为：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">(List&lt;?&gt; c)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;c.size(); i++)&#123;</span><br><span class="line">        System.out.println(c.get(i));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>注意：这种带通配符的 List 仅表示他是各种泛型 List 的父类，并不能把元素加入到其中。例如：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">List&lt;?&gt; c = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line"><span class="comment">// 编译报错，因为程序无法确定 c 中元素类型，所以不能添加元素</span></span><br><span class="line">c.add(<span class="keyword">new</span> Object());</span><br></pre></td></tr></table></figure>

<h3 id="9-3-2-设定类型通配符的上限"><a href="#9-3-2-设定类型通配符的上限" class="headerlink" title="9.3.2 设定类型通配符的上限"></a>9.3.2 设定类型通配符的上限</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义一个抽象类 Shape</span></span><br><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Shape</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">draw</span><span class="params">(Canvas c)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Circle</span> <span class="keyword">extends</span> <span class="title">Shape</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">draw</span><span class="params">(Canvas c)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;在画布&quot;</span> + c + <span class="string">&quot;上画了一个圆&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Rectangle</span> <span class="keyword">extends</span> <span class="title">Shape</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">draw</span><span class="params">(Canvas c)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;在画布&quot;</span> + c + <span class="string">&quot;上画了一个矩形&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Canvas</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 同时画多个形状</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">drawAll</span><span class="params">(List&lt;? extends Shape&gt; shapes)</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(Shape s : shapes)&#123;</span><br><span class="line">            s.draw(<span class="keyword">this</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 同样，使用泛型上限后，无法添加元素</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addRectangle</span><span class="params">(List&lt;? extends Shape&gt; shapes)</span></span>&#123;</span><br><span class="line">        <span class="comment">// 编译报错</span></span><br><span class="line">        <span class="comment">// shapes.add(0, new Rectangle());</span></span><br><span class="line">        <span class="comment">// 正常</span></span><br><span class="line">        shapes.add(<span class="number">0</span>, <span class="keyword">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        List&lt;Circle&gt; circleList = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        circleList.add(<span class="keyword">new</span> Circle());</span><br><span class="line">        Canvas c = <span class="keyword">new</span> Canvas();</span><br><span class="line">        <span class="comment">// 如果不用泛型上线，编译报错。改写后正常</span></span><br><span class="line">         c.drawAll(circleList);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>注意：没法添加元素。只出不进。</p>
<h3 id="9-3-3-设定类型通配符的下限"><a href="#9-3-3-设定类型通配符的下限" class="headerlink" title="9.3.3 设定类型通配符的下限"></a>9.3.3 设定类型通配符的下限</h3><p>可以添加元素。但是取出的元素全部被当成 Object 处理。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyUtils</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; <span class="function">T <span class="title">copy</span><span class="params">(Collection&lt;? <span class="keyword">super</span> T&gt; dest, Collection&lt;T&gt; src)</span></span>&#123;</span><br><span class="line">        T last = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">for</span>(T ele : src)&#123;</span><br><span class="line">            last = ele;</span><br><span class="line">            <span class="comment">// 逆变的泛型集合添加元素是安全的</span></span><br><span class="line">            dest.add(ele);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> last;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        List&lt;Number&gt; ln = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        List&lt;Integer&gt; li = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        li.add(<span class="number">5</span>);</span><br><span class="line">        Integer last = copy(ln, li);</span><br><span class="line">        System.out.println(ln);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="9-3-4-设定泛型形参的上限"><a href="#9-3-4-设定泛型形参的上限" class="headerlink" title="9.3.4 设定泛型形参的上限"></a>9.3.4 设定泛型形参的上限</h3><p>定义泛型形参时也可以设置上限。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Apple</span>&lt;<span class="title">T</span> <span class="keyword">extends</span> <span class="title">Number</span>&gt; </span>&#123;</span><br><span class="line">    T col;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        Apple&lt;Integer&gt; ai = <span class="keyword">new</span> Apple&lt;&gt;();</span><br><span class="line">        Apple&lt;Double&gt; ad = <span class="keyword">new</span> Apple&lt;&gt;();</span><br><span class="line">        <span class="comment">// 编译报错，String 不是 Number 的子类</span></span><br><span class="line">        <span class="comment">//Apple&lt;String&gt; as = new Apple&lt;&gt;();</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>可以设置多个上限：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Apple</span>&lt;<span class="title">T</span> <span class="keyword">extends</span> <span class="title">Number</span> &amp; <span class="title">Serializable</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="9-4-泛型方法"><a href="#9-4-泛型方法" class="headerlink" title="9.4 泛型方法"></a>9.4 泛型方法</h2><p>定义类、接口时没有使用泛型形参，但定义方法时想自己定义泛型形参这也是可以的。</p>
<h3 id="9-4-1-定义泛型方法"><a href="#9-4-1-定义泛型方法" class="headerlink" title="9.4.1 定义泛型方法"></a>9.4.1 定义泛型方法</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GenericMethodTest</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> &lt;T&gt; <span class="function"><span class="keyword">void</span> <span class="title">fromArrayToCollection</span><span class="params">(T[] a, Collection&lt;T&gt; c)</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(T o : a)&#123;</span><br><span class="line">            c.add(o);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> &lt;T&gt; <span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">(Collection&lt;T&gt; from, Collection&lt;T&gt; to)</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (T ele : from)&#123;</span><br><span class="line">            to.add(ele);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> &lt;T&gt; <span class="function"><span class="keyword">void</span> <span class="title">test1</span><span class="params">(Collection&lt;? extends T&gt; from, Collection&lt;T&gt; to)</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (T ele : from)&#123;</span><br><span class="line">            to.add(ele);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Object[] oa = <span class="keyword">new</span> Object[<span class="number">100</span>];</span><br><span class="line">        Collection&lt;Object&gt; co = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="comment">// T:Object</span></span><br><span class="line">        fromArrayToCollection(oa, co);</span><br><span class="line"></span><br><span class="line">        String[] sa = <span class="keyword">new</span> String[<span class="number">100</span>];</span><br><span class="line">        Collection&lt;String&gt; cs = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="comment">// T:String</span></span><br><span class="line">        fromArrayToCollection(sa, cs);</span><br><span class="line">        <span class="comment">// T:Object？？</span></span><br><span class="line">        fromArrayToCollection(sa, co);</span><br><span class="line"></span><br><span class="line">        List&lt;Object&gt; ao = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        List&lt;String&gt; as = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="comment">// 编译报错？</span></span><br><span class="line">        <span class="comment">// test(as, ao);</span></span><br><span class="line">        <span class="comment">// 正常</span></span><br><span class="line">        test1(as, ao);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="9-4-2-泛型方法和类型通配符的区别"><a href="#9-4-2-泛型方法和类型通配符的区别" class="headerlink" title="9.4.2 泛型方法和类型通配符的区别"></a>9.4.2 泛型方法和类型通配符的区别</h3><p>类型通配符既可以在方法签名中定义形参的类型，也可以用于定义变量的类型；但泛型方法中的泛型形参必须在对应方法中显式声明。</p>
<p>如果某个方法中一个形参( a) 的类型或返回值的类型依赖于另一个形参( b )的类型，则形参( b )的类型声明不应该使用通配符一因为形参( a) 或返回值的类型依赖于该形参( b )的类型，如果形参( b ) 的类型无法确定，程序就无法定义形参( a) 的类型。在这种情况下，只能考虑使用在方法签名中声明泛型一一也就是泛型方法。</p>
<h3 id="9-4-3-Java-7-的菱形语法与泛型构造器"><a href="#9-4-3-Java-7-的菱形语法与泛型构造器" class="headerlink" title="9.4.3 Java 7 的菱形语法与泛型构造器"></a>9.4.3 Java 7 的菱形语法与泛型构造器</h3><p>许在构造器签名中声明泛型形参。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> &lt;T&gt; Foo(T t)&#123;</span><br><span class="line">        System.out.println(t);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GenericConstructor</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">new</span> Foo(<span class="string">&quot;aaa&quot;</span>);</span><br><span class="line">        <span class="keyword">new</span> Foo(<span class="number">200</span>);</span><br><span class="line">        <span class="keyword">new</span> &lt;String&gt; Foo(<span class="string">&quot;bbbb&quot;</span>);</span><br><span class="line">        <span class="comment">// 报错</span></span><br><span class="line">        <span class="comment">// new &lt;String&gt; Foo(12.3);</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如果程序显式指定了泛型构造器中声明的泛型形参的实际类型，则不可以使用”菱形”语法。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span>&lt;<span class="title">E</span>&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> &lt;T&gt; MyClass(T t)&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;t参数的值为：&quot;</span> + t);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GenericDiarnondTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// E:String T:Integer</span></span><br><span class="line">        MyClass&lt;String&gt; mc1 = <span class="keyword">new</span> MyClass&lt;&gt;(<span class="number">5</span>);</span><br><span class="line">        <span class="comment">// 显示指定 E T</span></span><br><span class="line">        MyClass&lt;String&gt; mc2 = <span class="keyword">new</span> &lt;Integer&gt;MyClass&lt;String&gt;(<span class="number">5</span>);</span><br><span class="line">        <span class="comment">// 如果显示指定泛型构造器形参，此时不可使用形参，编译报错。</span></span><br><span class="line">        <span class="comment">// MyClass&lt;String&gt; mc3 = new &lt;Integer&gt;MyClass&lt;&gt;(5);</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>为何？</p>
<h3 id="9-4-4-泛型方法与方法重载"><a href="#9-4-4-泛型方法与方法重载" class="headerlink" title="9.4.4 泛型方法与方法重载"></a>9.4.4 泛型方法与方法重载</h3><p>有可能导致定义时正常，但是调用时报错。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; <span class="function">T <span class="title">copy</span><span class="params">(Collection&lt;? <span class="keyword">super</span> T&gt; dest, Collection&lt;T&gt; src)</span></span>&#123;</span><br><span class="line">    T last = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">for</span>(T ele : src)&#123;</span><br><span class="line">        last = ele;</span><br><span class="line">        <span class="comment">// 逆变的泛型集合添加元素是安全的</span></span><br><span class="line">        dest.add(ele);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> last;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; <span class="function">T <span class="title">copy</span><span class="params">(Collection&lt;T&gt; dest, Collection&lt;? extends T&gt; src)</span></span>&#123;</span><br><span class="line">    T last = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">for</span>(T ele : src)&#123;</span><br><span class="line">        last = ele;</span><br><span class="line">        <span class="comment">// 逆变的泛型集合添加元素是安全的</span></span><br><span class="line">        dest.add(ele);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> last;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="9-4-5-Java-8-改进的类型推断"><a href="#9-4-5-Java-8-改进的类型推断" class="headerlink" title="9.4.5 Java 8 改进的类型推断"></a>9.4.5 Java 8 改进的类型推断</h3><p>类型推断方法：</p>
<ul>
<li>通过调用方法的上下文来推断泛型的目标类型</li>
<li>在方法调用链中，将推断得到的泛型传递到最后一个方法</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyUtil</span>&lt;<span class="title">E</span>&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;Z&gt; <span class="function">MyUtil&lt;Z&gt; <span class="title">nil</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;Z&gt; <span class="function">MyUtil&lt;Z&gt; <span class="title">cons</span><span class="params">(Z head, MyUtil&lt;Z&gt; tail)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">E <span class="title">head</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InferenceTes</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        MyUtil&lt;String&gt; ls = MyUtil.nil();</span><br><span class="line">        MyUtil&lt;String&gt; mu = MyUtil.&lt;String&gt;nil();</span><br><span class="line">        MyUtil.cons(<span class="number">42</span>, MyUtil.nil());</span><br><span class="line">        MyUtil.cons(<span class="number">42</span>, MyUtil.&lt;Integer&gt;nil());</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 报错，推断不是万能的</span></span><br><span class="line">        <span class="comment">// String s = MyUtil.nil().head();</span></span><br><span class="line">        String s = MyUtil.&lt;String&gt;nil().head();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="9-5-擦除和转换"><a href="#9-5-擦除和转换" class="headerlink" title="9.5 擦除和转换"></a>9.5 擦除和转换</h2><p>当把一个具有泛型信息的对象赋给另一个没有泛型信息的变量时，所有在尖括号之间的类型信息都将被扔掉。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Apple</span>&lt;<span class="title">T</span> <span class="keyword">extends</span> <span class="title">Number</span>&gt;</span>&#123;</span><br><span class="line">    T size;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Apple</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Apple</span><span class="params">(T size)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.size = size;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setSize</span><span class="params">(T size)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.size = size;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">getSize</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.size;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ErasureTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Apple&lt;Integer&gt; a = <span class="keyword">new</span> Apple&lt;&gt;(<span class="number">6</span>);</span><br><span class="line">        Integer as = a.getSize();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 丢失尖括号信息</span></span><br><span class="line">        Apple b = a;</span><br><span class="line">        Number size1 = b.getSize();</span><br><span class="line">        <span class="comment">// 编译报错</span></span><br><span class="line">        <span class="comment">// Integer size2 = b.getSize();</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>从逻辑上来看， List&lt; String&gt;是List 的子类，如果直接把一个List 对象赋给一个List<String>对象应该引起编译错误，但实际上不会。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ErasureTest2</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        List&lt;Integer&gt; li = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        li.add(<span class="number">6</span>);</span><br><span class="line">        li.add(<span class="number">9</span>);</span><br><span class="line">        List list = li;</span><br><span class="line">        <span class="comment">// 只是警告，运行时完全正常</span></span><br><span class="line">        List&lt;String&gt; ls = list;</span><br><span class="line">        <span class="comment">// 但是访问元素时会引发运行时异常。</span></span><br><span class="line">        System.out.println(ls.get(<span class="number">0</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="9-6-泛型与数组"><a href="#9-6-泛型与数组" class="headerlink" title="9.6 泛型与数组"></a>9.6 泛型与数组</h2><p>数组元素的类型不能包含泛型变量或泛型形参，除非是无上限的类型通配符。</p>
<p>但可以声明元素类型包含泛型变量或泛型形参的数组。</p>
<p>也就是说， 只能声明List<String>[]形式的数组， 但不能创建ArrayList<String>[1 0]这样的数组对象。</p>
<p>假设可以创建这样的数组：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 实际上会编译报错</span></span><br><span class="line">List&lt;String&gt;[] lsa = <span class="keyword">new</span> ArrayList&lt;String&gt;[<span class="number">10</span>];</span><br><span class="line"><span class="comment">// 这样是允许的，但是会有警告</span></span><br><span class="line">List&lt;String&gt;[] lsa = <span class="keyword">new</span> ArrayList[<span class="number">10</span>];</span><br><span class="line"><span class="comment">// 向上转型</span></span><br><span class="line">Object[] oa = lsa;</span><br><span class="line">List&lt;Integer&gt; li = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">li.add(<span class="number">3</span>);</span><br><span class="line">oa[<span class="number">1</span>] = li;</span><br><span class="line"><span class="comment">// 没有任何警告，但是将引发异常</span></span><br><span class="line">String s = lsa[<span class="number">1</span>].get(<span class="number">0</span>);</span><br></pre></td></tr></table></figure>

<p>Java 允许创建无上限的通配符泛型数组，例如new AηayList&lt;?&gt;[ 1 0] ， 因此也可以将第一段代码改为使用无上限的通配符泛型数组，在这种情况下，程序不得不进行强制类型转换。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GenericAndArray2</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        List&lt;?&gt;[] lsa = <span class="keyword">new</span> ArrayList&lt;?&gt;[<span class="number">10</span>];</span><br><span class="line">        Object[] oa = lsa;</span><br><span class="line">        List&lt;Integer&gt; li = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        li.add(<span class="number">3</span>);</span><br><span class="line">        oa[<span class="number">1</span>] = li;</span><br><span class="line">        Object target = lsa[<span class="number">1</span>].get(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span>((target <span class="keyword">instanceof</span> String))&#123;</span><br><span class="line">            <span class="comment">// 下面代码安全了</span></span><br><span class="line">            String s = (String) target;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    &lt;T&gt; T[] makeArray(Collection&lt;T&gt; coll)&#123;</span></span><br><span class="line"><span class="comment">//        // 编译报错</span></span><br><span class="line"><span class="comment">//        return new T[coll.size()];</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</div><div class="tags"><a href="/tags/%E7%96%AF%E7%8B%82-Java-%E8%AE%B2%E4%B9%89/"><i class="fa fa-tag"></i>疯狂 Java 讲义</a></div><div class="post-nav"><a class="pre" href="/2020-01-10-%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89/%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89C10.html">第 10 章 异常处理</a><a class="next" href="/2020-01-08-%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89/%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89C8.html">第 8 章 Java 集合</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://yoursite.com"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/IO/">IO</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/JVM/">JVM</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/LVS/">LVS</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/MySQL/">MySQL</a><span class="category-list-count">13</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Nginx/">Nginx</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/OS/">OS</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring-Cloud/">Spring Cloud</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/SpringCloud/">SpringCloud</a><span class="category-list-count">11</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Srping-Boot/">Srping Boot</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/ZooKeeper/">ZooKeeper</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/css/">css</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/kafka/">kafka</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/mysql/">mysql</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/vue/">vue</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%8A%A0%E8%A7%A3%E5%AF%86%E6%8A%80%E6%9C%AF/">加解密技术</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%90%89%E4%BB%96/">吉他</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%A4%9A%E7%BA%BF%E7%A8%8B/">多线程</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%BF%83%E6%83%85/">心情</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%97%A0%E5%85%B3%E6%8A%80%E6%9C%AF/">无关技术</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/">消息队列</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%96%AF%E7%8B%82-Java-%E8%AE%B2%E4%B9%89/">疯狂 Java 讲义</a><span class="category-list-count">16</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%AE%97%E6%B3%95/">算法</a><span class="category-list-count">14</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BD%91%E7%BB%9C/">网络</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">设计模式</a><span class="category-list-count">4</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/Hexo/" style="font-size: 15px;">Hexo</a> <a href="/tags/%E5%BF%83%E6%83%85/" style="font-size: 15px;">心情</a> <a href="/tags/PGP/" style="font-size: 15px;">PGP</a> <a href="/tags/SFTP/" style="font-size: 15px;">SFTP</a> <a href="/tags/Linux/" style="font-size: 15px;">Linux</a> <a href="/tags/Samba/" style="font-size: 15px;">Samba</a> <a href="/tags/Kafka/" style="font-size: 15px;">Kafka</a> <a href="/tags/NIO/" style="font-size: 15px;">NIO</a> <a href="/tags/Redis/" style="font-size: 15px;">Redis</a> <a href="/tags/Nginx/" style="font-size: 15px;">Nginx</a> <a href="/tags/Blog/" style="font-size: 15px;">Blog</a> <a href="/tags/IO/" style="font-size: 15px;">IO</a> <a href="/tags/SpringCloud/" style="font-size: 15px;">SpringCloud</a> <a href="/tags/Srping-Boot/" style="font-size: 15px;">Srping Boot</a> <a href="/tags/JVM/" style="font-size: 15px;">JVM</a> <a href="/tags/kafka/" style="font-size: 15px;">kafka</a> <a href="/tags/MySQL/" style="font-size: 15px;">MySQL</a> <a href="/tags/css/" style="font-size: 15px;">css</a> <a href="/tags/vue/" style="font-size: 15px;">vue</a> <a href="/tags/%E5%90%89%E4%BB%96/" style="font-size: 15px;">吉他</a> <a href="/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/" style="font-size: 15px;">多线程</a> <a href="/tags/OS/" style="font-size: 15px;">OS</a> <a href="/tags/%E6%97%A0%E5%85%B3%E6%8A%80%E6%9C%AF/" style="font-size: 15px;">无关技术</a> <a href="/tags/%E7%96%AF%E7%8B%82-Java-%E8%AE%B2%E4%B9%89/" style="font-size: 15px;">疯狂 Java 讲义</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 15px;">算法</a> <a href="/tags/ZooKeeper/" style="font-size: 15px;">ZooKeeper</a> <a href="/tags/Observer/" style="font-size: 15px;">Observer</a> <a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 15px;">设计模式</a> <a href="/tags/Singleton/" style="font-size: 15px;">Singleton</a> <a href="/tags/Proxy/" style="font-size: 15px;">Proxy</a> <a href="/tags/Oracle/" style="font-size: 15px;">Oracle</a> <a href="/tags/MQTT/" style="font-size: 15px;">MQTT</a> <a href="/tags/LVS/" style="font-size: 15px;">LVS</a> <a href="/tags/%E7%BD%91%E7%BB%9C/" style="font-size: 15px;">网络</a> <a href="/tags/Eureka/" style="font-size: 15px;">Eureka</a> <a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 15px;">前端</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="https://blog.jamespan.me/" title="小鶸の道场" target="_blank">小鶸の道场</a><ul></ul><a href="https://www.haomwei.com/" title="屠城" target="_blank">屠城</a><ul></ul><a href="http://www.ruanyifeng.com/home.html" title="阮一峰" target="_blank">阮一峰</a><ul></ul><a href="https://www.cnblogs.com/jingmoxukong/" title="静默虚空" target="_blank">静默虚空</a><ul></ul><a href="https://blog.hushhw.cn/" title="hushhw" target="_blank">hushhw</a><ul></ul><a href="https://hasaik.com/" title="hasaik" target="_blank">hasaik</a><ul></ul><a href="https://www.imalan.cn/" title="三无计划" target="_blank">三无计划</a><ul></ul><a href="https://i-meto.com/" title="meto" target="_blank">meto</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2020 <a href="/." rel="nofollow">悟空.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.jsdelivr.net/gh/fancyapps/fancybox/dist/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox/dist/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>