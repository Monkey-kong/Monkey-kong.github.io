<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="悟空的技术博客"><title>第 4 章 流程控制与数组 | 悟空</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/8.0.1/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/3.4.0/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">第 4 章 流程控制与数组</h1><a id="logo" href="/.">悟空</a><p class="description">悟空的技术博客</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/tags/"><i class="fa fa-tag"> 标签</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">第 4 章 流程控制与数组</h1><div class="post-meta">Jan 4, 2020<span> | </span><span class="category"><a href="/categories/疯狂-Java-讲义/">疯狂 Java 讲义</a></span></div><div class="clear"><div class="toc-article" id="toc"><div class="toc-title">文章目录</div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#4-1-顺序结构"><span class="toc-text">4.1 顺序结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-2-分支结构"><span class="toc-text">4.2 分支结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-3-循环结构"><span class="toc-text">4.3 循环结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-4-控制循环结构"><span class="toc-text">4.4 控制循环结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-5-数组类型"><span class="toc-text">4.5 数组类型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-5-1-理解数组：数组也是一种类型"><span class="toc-text">4.5.1 理解数组：数组也是一种类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-5-2-定义数组"><span class="toc-text">4.5.2 定义数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-5-3-数组初始化"><span class="toc-text">4.5.3 数组初始化</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-静态初始化"><span class="toc-text">1. 静态初始化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-动态初始化"><span class="toc-text">2. 动态初始化</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-5-4-使用数组"><span class="toc-text">4.5.4 使用数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-5-5-foreach-循环"><span class="toc-text">4.5.5 foreach 循环</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-6-深入数组"><span class="toc-text">4.6 深入数组</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-6-1-内存中的数组"><span class="toc-text">4.6.1 内存中的数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-6-2-基本类型数组的初始化"><span class="toc-text">4.6.2 基本类型数组的初始化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-6-3-引用类型数组的初始化"><span class="toc-text">4.6.3 引用类型数组的初始化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-6-4-没有多维数组"><span class="toc-text">4.6.4 没有多维数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-6-5-Java-8-增强的工具类：Arrays"><span class="toc-text">4.6.5 Java 8 增强的工具类：Arrays</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-6-6-数组的应用举例"><span class="toc-text">4.6.6 数组的应用举例</span></a></li></ol></li></ol></div></div><div class="post-content"><p>第 4 章 流程控制与数组</p>
<a id="more"></a>
<h2 id="4-1-顺序结构"><a href="#4-1-顺序结构" class="headerlink" title="4.1 顺序结构"></a>4.1 顺序结构</h2><h2 id="4-2-分支结构"><a href="#4-2-分支结构" class="headerlink" title="4.2 分支结构"></a>4.2 分支结构</h2><p>switch 语句会先求出 expression 表达式的值，然后拿这个表达式和 case 标签后的值进行比较， 一旦遇到相等的值，程序就开始执行这个 case 标签后的代码，不再判断与后面 case 、default 标签的条件是否匹配，除非遇到 break; 才会结束。</p>
<h2 id="4-3-循环结构"><a href="#4-3-循环结构" class="headerlink" title="4.3 循环结构"></a>4.3 循环结构</h2><h2 id="4-4-控制循环结构"><a href="#4-4-控制循环结构" class="headerlink" title="4.4 控制循环结构"></a>4.4 控制循环结构</h2><p>break：结束当前循环。如需结束外层循环，需要用到标签。</p>
<p>continue：跳过本次循环体。如需跳过外层本次循环体，需要用到标签。</p>
<p>return：结束方法。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BreakTest2</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">        <span class="comment">// 外层循环， outer 作为标识符</span></div><div class="line">        outer:</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">5</span>; i++)&#123;</div><div class="line">            <span class="comment">// 内层循环</span></div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;<span class="number">3</span>; j++)&#123;</div><div class="line">                System.out.println(<span class="string">"i 的值为："</span> + i + <span class="string">" j 的值为："</span> + j);</div><div class="line">                <span class="keyword">if</span>(j == <span class="number">1</span>)&#123;</div><div class="line">                    <span class="comment">// 跳出 outer 标签所表示的循环</span></div><div class="line">                    <span class="keyword">break</span> outer;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="4-5-数组类型"><a href="#4-5-数组类型" class="headerlink" title="4.5 数组类型"></a>4.5 数组类型</h2><h3 id="4-5-1-理解数组：数组也是一种类型"><a href="#4-5-1-理解数组：数组也是一种类型" class="headerlink" title="4.5.1 理解数组：数组也是一种类型"></a>4.5.1 理解数组：数组也是一种类型</h3><p>Java 的数组要求所有的数组元素具有相同的数据类型。一旦数组的初始化完成，数组在内存中所占的空间将被固定下来，因此数组的长度将不可改变。即使把某个数组元素的数据清空， 但它所占的空间依然被保留， 依然属于该数组， 数组的长度依然不变。</p>
<p>数组也是一种数据类型， 它本身是一种引用类型。</p>
<h3 id="4-5-2-定义数组"><a href="#4-5-2-定义数组" class="headerlink" title="4.5.2 定义数组"></a>4.5.2 定义数组</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">type[] arrayName; <span class="comment">// 推荐</span></div><div class="line">type arrayName[];</div></pre></td></tr></table></figure>
<p>数组是一种引用类型的变量， 因此使用它定义一个变量时，仅仅表示定义了一个引用变量( 也就是定义了一个指针) ，这个引用变量还未指向任何有效的内存， 因此定义数组时不能指定数组的长度</p>
<h3 id="4-5-3-数组初始化"><a href="#4-5-3-数组初始化" class="headerlink" title="4.5.3 数组初始化"></a>4.5.3 数组初始化</h3><p>Java 语言中数组必须先初始化，然后才可以使用。所谓初始化，就是为数组的数组元素<strong>分配内存空间</strong>， 并为每个数组元素<strong>赋初始值</strong>。</p>
<p>问题：能否只分配内存空间，不赋初始值呢？</p>
<p>答案：不行。只要为数组元素分配了内存空间，数组元素就具有了初始值。可能是系统自动分配也可能是程序员指定。</p>
<p>数组初始化有两种方式：</p>
<ul>
<li>静态初始化：由程序员显示指定每个数组元素的初始值，由系统决定数组长度。</li>
<li>动态初始化：程序员只指定数组长度，由系统为数组元素分配初始值。</li>
</ul>
<h4 id="1-静态初始化"><a href="#1-静态初始化" class="headerlink" title="1. 静态初始化"></a>1. 静态初始化</h4><p><code>arrayName = new type[]{elementl,element2 ...}</code></p>
<p>简化：</p>
<p><code>type[] arrayName = {elementl,element2 ...}</code></p>
<h4 id="2-动态初始化"><a href="#2-动态初始化" class="headerlink" title="2. 动态初始化"></a>2. 动态初始化</h4><p><code>arrayName = new type[length];</code></p>
<p>动态初始化，只指定了长度，系统分配内存空间后，系统将负责为这些数组元素分配初始值。</p>
<ul>
<li>整数类型（byte、short、int、long）：0</li>
<li>浮点类型（float、double）：0.0</li>
<li>字符类型（char）：’\u0000’</li>
<li>布尔类型（boolean）：false</li>
<li>引用类型（类、接口、数组）：null</li>
</ul>
<h3 id="4-5-4-使用数组"><a href="#4-5-4-使用数组" class="headerlink" title="4.5.4 使用数组"></a>4.5.4 使用数组</h3><p>通过索引访问数组元素。</p>
<h3 id="4-5-5-foreach-循环"><a href="#4-5-5-foreach-循环" class="headerlink" title="4.5.5 foreach 循环"></a>4.5.5 foreach 循环</h3><p>可以遍历数组和集合。</p>
<p>如果希望改变数组元素的值，则不能使用这种 foreach 循环。</p>
<h2 id="4-6-深入数组"><a href="#4-6-深入数组" class="headerlink" title="4.6 深入数组"></a>4.6 深入数组</h2><p>数组是一种引用数据类型， 数组引用变量只是一个引用， 数组元素和数组变量在内存里是分开存放的。</p>
<h3 id="4-6-1-内存中的数组"><a href="#4-6-1-内存中的数组" class="headerlink" title="4.6.1 内存中的数组"></a>4.6.1 内存中的数组</h3><p><img src="../../images/java/c4/数组内存存储.png" alt=""></p>
<p>如果需要访问如图 4.2 所示堆内存中的数组元素，则程序中只能通过 p[index] 的形式实现。也就是说，数组引用变量是访问堆内存中数组元素的根本方式。</p>
<p>问题：为什么有栈内存和堆内存之分？</p>
<p>答案：当一个方法执行时，每个方法都会建立自己的内存栈，在这个方法内定义的局部变量将会逐个放入这块内存里，随着方法的执行结束而销毁。在程序中创建一个对象时，这个对象将被保存到运行时数据区中（堆内存），以便反复利用（因为对象的创建成本通常较大）。堆内存中的对象不会随方法的结束而销毁，而是通过 GC 来回收。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayInRam</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">        <span class="comment">// 定义并初始化数组，使用静态初始化</span></div><div class="line">        <span class="keyword">int</span>[] a = &#123;<span class="number">5</span>,<span class="number">7</span>,<span class="number">20</span>&#125;;</div><div class="line">        <span class="comment">// 定义并初始化数组，使用动态初始化</span></div><div class="line">        <span class="keyword">int</span>[] b = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">4</span>];</div><div class="line">        System.out.println(<span class="string">"b 数组长度："</span> + b.length);</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;a.length; i++)&#123;</div><div class="line">            System.out.println(a[i]);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;b.length; i++)&#123;</div><div class="line">            System.out.println(b[i]);</div><div class="line">        &#125;</div><div class="line">        <span class="comment">// 因为 a 是 int[] 类型，b 也是 int[] 类型，所以可以将 a 赋值给 b</span></div><div class="line">        <span class="comment">// 也就是让 b 引用指向 a 引用指向的数组</span></div><div class="line">        b = a;</div><div class="line">        System.out.println(<span class="string">"b 数组长度："</span> + b.length);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>上面程序最后输出 b 数组的长度为 3；看起来似乎数组的长度是可变的，但这只是一种假象。必须记住：定义并初始化数组后，在内存中分配了两个空间，一个用于存放数组的引用变量，另一个用于存放数组本身。</p>
<p>当定义并初始化 a、b 数组后，内存中实际上产生了 4 块内存区，其中栈内存中有两个引用变量；堆内存中有两块内存区，用于存储 a、b 引用所指向的数组本身。</p>
<p><img src="../../images/java/c4/数组内存存储2.png" alt=""></p>
<p>看待一个数组时，一定要把数组看成两个部分:一部分是数组引用，也就是在代码中定义的数纽引用变量;还有一部分是实际的数组对象，这部分是在堆内存里运行的，通常无法直接访问它，只能通过数纽引用变量来访问。</p>
<h3 id="4-6-2-基本类型数组的初始化"><a href="#4-6-2-基本类型数组的初始化" class="headerlink" title="4.6.2 基本类型数组的初始化"></a>4.6.2 基本类型数组的初始化</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PrimitiveArrayTest</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">        <span class="comment">// 定义一个数组变量</span></div><div class="line">        <span class="keyword">int</span>[] iArr;</div><div class="line">        <span class="comment">// 动态初始化数组，数组长度为 5</span></div><div class="line">        iArr = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">5</span>];</div><div class="line">        <span class="comment">// 为数组元素赋值</span></div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;iArr.length; i++)&#123;</div><div class="line">            iArr[i] = i + <span class="number">10</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><img src="../../images/java/c4/基本类型数组初始化.png" alt=""></p>
<h3 id="4-6-3-引用类型数组的初始化"><a href="#4-6-3-引用类型数组的初始化" class="headerlink" title="4.6.3 引用类型数组的初始化"></a>4.6.3 引用类型数组的初始化</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</div><div class="line">    <span class="keyword">public</span> <span class="keyword">int</span> age;</div><div class="line">    <span class="keyword">public</span> <span class="keyword">double</span> height;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">info</span><span class="params">()</span></span>&#123;</div><div class="line">        System.out.println(<span class="string">"我的年龄是："</span> + age</div><div class="line">            + <span class="string">", 我的身高是："</span> + height);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReferenceArrayTest</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">        <span class="comment">// 定义一个数组变量</span></div><div class="line">        Person[] students;</div><div class="line">        <span class="comment">// 执行动态初始化</span></div><div class="line">        students = <span class="keyword">new</span> Person[<span class="number">2</span>];</div><div class="line">        <span class="comment">// 创建一个 Person 实例，并将这个实例赋给 zhang 变量</span></div><div class="line">        Person zhang = <span class="keyword">new</span> Person();</div><div class="line">        <span class="comment">// 为 zhang 所引用的对象的属性赋值</span></div><div class="line">        zhang.age = <span class="number">15</span>;</div><div class="line">        zhang.height = <span class="number">158</span>;</div><div class="line">        Person lee = <span class="keyword">new</span> Person();</div><div class="line">        lee.age = <span class="number">16</span>;</div><div class="line">        lee.height = <span class="number">161</span>;</div><div class="line">        <span class="comment">// 给数组元素赋值</span></div><div class="line">        students[<span class="number">0</span>] = zhang;</div><div class="line">        students[<span class="number">1</span>] = lee;</div><div class="line">        <span class="comment">// 下面两行代码结果一样，因为 lee 和 students[1] 指向同一个 person</span></div><div class="line">        lee.info();</div><div class="line">        students[<span class="number">1</span>].info();</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><img src="../../images/java/c4/引用类型数组初始化.png" alt=""></p>
<h3 id="4-6-4-没有多维数组"><a href="#4-6-4-没有多维数组" class="headerlink" title="4.6.4 没有多维数组"></a>4.6.4 没有多维数组</h3><p>Java 语言里提供了支持多维数组的语法。但本书还是想说，没有多维数组一一如果从数组底层的运行机制上来看。</p>
<p>Java 语言采用上面的语法格式来定义二维数组，但它的实质还是一维数组，只是其数组元素也是引用， 数组元素里保存的引用指向一维数组。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TwoDimensionTest</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">        <span class="comment">// 定义一个二位数组</span></div><div class="line">        <span class="keyword">int</span>[][] a;</div><div class="line">        <span class="comment">// 把 a 当成以位数组进行初始化，初始化 a 是一个长度为 4 的数组</span></div><div class="line">        a = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">4</span>][];</div><div class="line">        <span class="comment">// 把 a 当成一维数组，遍历 a 数组</span></div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;a.length; i++)&#123;</div><div class="line">            System.out.println(a[i]);</div><div class="line">        &#125;</div><div class="line">        <span class="comment">// 初始化 a 数组第一个元素</span></div><div class="line">        a[<span class="number">0</span>] = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">2</span>];</div><div class="line">        <span class="comment">// 访问 a 数组第一个元素所指数组的第二个元素</span></div><div class="line">        a[<span class="number">0</span>][<span class="number">1</span>] = <span class="number">6</span>;</div><div class="line">        <span class="comment">// a 数组的第一个元素是一个一维数组，遍历这个数组</span></div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;a[<span class="number">0</span>].length; i++)&#123;</div><div class="line">            System.out.println(a[<span class="number">0</span>][i]);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong><img src="../../images/java/c4/二维数组初始化.png" alt=""></strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 同时初始化二维数组的两个维数</span></div><div class="line"><span class="keyword">int</span>[][] b = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">3</span>][<span class="number">4</span>];</div></pre></td></tr></table></figure>
<p><img src="../../images/java/c4/二维数组初始化2.png" alt=""></p>
<h3 id="4-6-5-Java-8-增强的工具类：Arrays"><a href="#4-6-5-Java-8-增强的工具类：Arrays" class="headerlink" title="4.6.5 Java 8 增强的工具类：Arrays"></a>4.6.5 Java 8 增强的工具类：Arrays</h3><p>Java 提供的 Arrays 类里包含的一些 static 修饰的方法可以直接操作数组， 这个 Arrays 类里包含了如下几个 static 修饰的方法。</p>
<ul>
<li>int binarySearch(type[] a, type key)：使用二分法查询 key 元素值在 a 数组中出现的索引，不存在则返回负数。要求 a 中元素已经升序排列。</li>
<li>int binarySearch(type[] a, int fromIndex, int toIndex, type key)：同上</li>
<li>type[] copyOf(type[] original, int length)：赋值数组</li>
<li>type[] copyOfRange(type[] original, int from, int to)：同上</li>
<li>boolean equals(type[] a, type[] a2)：长度相等，元素相同</li>
<li>void fill(type[] a, type val)：a 数组所有元素都赋值为 val</li>
<li>void fill(type[] a, int fromIndex, int toIndex, type val)</li>
<li>void sort(type[] a)</li>
<li>void sort(type[] a, int fromIndex, int toIndex)</li>
<li>String toString(type[] a)</li>
</ul>
<p>Java 8 为 Arrays 类新增的工具方法：</p>
<ul>
<li>void parallelPrefix(xxx[] array, XxxBinaryOperator op)：？？？</li>
<li>void parallelPrefix(xxx[] array, int fromIndex, int toIndex, XxxBinaryOperator op)</li>
<li>void setAll(xxx[] array, IntToXxxFunction generator)：用生成器为数组所有元素赋值</li>
<li>void parallelSetAll(xxx[] array, IntToXxxFunction generator)</li>
<li>void parallelSort(xxx[] a)</li>
<li>void parallelSort(xxx[] a, int fromIndex, int toIndex)</li>
<li>Spliterator.OfXxx spliterator(xxx[] array)：将数组所有元素转换成 Spliterator 对象</li>
<li>XxxStream stream(xxx[] array)：将数组转换为 Stream</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArraysTest2</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span>[] arr1 = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">3</span>, -<span class="number">4</span>, <span class="number">25</span>, <span class="number">16</span>, <span class="number">30</span>, <span class="number">18</span>&#125;;</div><div class="line">        <span class="comment">// 并发排序</span></div><div class="line">        Arrays.parallelSort(arr1);</div><div class="line">        System.out.println(Arrays.toString(arr1));</div><div class="line">        <span class="keyword">int</span>[] arr2 = <span class="keyword">new</span> <span class="keyword">int</span>[] &#123;<span class="number">3</span>, -<span class="number">4</span>, <span class="number">25</span>, <span class="number">16</span>, <span class="number">30</span>, <span class="number">18</span>&#125;;</div><div class="line">        Arrays.parallelPrefix(arr2, <span class="keyword">new</span> IntBinaryOperator() &#123;</div><div class="line">            <span class="meta">@Override</span></div><div class="line">            <span class="comment">// left 代表数组中前一个索引处的元素，计算第一个元素时， left 为 1</span></div><div class="line">            <span class="comment">// right 代表数组中当前索引处的元素</span></div><div class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">applyAsInt</span><span class="params">(<span class="keyword">int</span> left, <span class="keyword">int</span> right)</span> </span>&#123;</div><div class="line">                <span class="keyword">return</span> left * right;</div><div class="line">            &#125;</div><div class="line">        &#125;);</div><div class="line">        System.out.println(Arrays.toString(arr2));</div><div class="line">        <span class="keyword">int</span>[] arr3 = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">5</span>];</div><div class="line">        Arrays.parallelSetAll(arr3, <span class="keyword">new</span> IntUnaryOperator() &#123;</div><div class="line">            <span class="meta">@Override</span></div><div class="line">            <span class="comment">// operand 表示正在计算的元素索引</span></div><div class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">applyAsInt</span><span class="params">(<span class="keyword">int</span> operand)</span> </span>&#123;</div><div class="line">                <span class="keyword">return</span> operand * <span class="number">5</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;);</div><div class="line">        System.out.println(Arrays.toString(arr3));</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="4-6-6-数组的应用举例"><a href="#4-6-6-数组的应用举例" class="headerlink" title="4.6.6 数组的应用举例"></a>4.6.6 数组的应用举例</h3><p>数字转人民币</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Num2Rmb</span> </span>&#123;</div><div class="line">    <span class="keyword">private</span> String[] hanArr = &#123;<span class="string">"零"</span>,<span class="string">"壹"</span>,<span class="string">"贰"</span>,<span class="string">"叁"</span>,<span class="string">"肆"</span>,</div><div class="line">            <span class="string">"伍"</span>,<span class="string">"陆"</span>,<span class="string">"柒"</span>,<span class="string">"捌"</span>,<span class="string">"玖"</span>&#125;;</div><div class="line">    <span class="keyword">private</span> String[] unitArr = &#123;<span class="string">"十"</span>,<span class="string">"百"</span>,<span class="string">"千"</span>&#125;;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line"><span class="comment">     * 得到整数和小数部分</span></div><div class="line"><span class="comment">     * <span class="doctag">@param</span> num</span></div><div class="line"><span class="comment">     * <span class="doctag">@return</span></span></div><div class="line"><span class="comment">     */</span></div><div class="line">    <span class="keyword">private</span> String[] divide(<span class="keyword">double</span> num)&#123;</div><div class="line">        <span class="keyword">long</span> zheng = (<span class="keyword">long</span>)num;</div><div class="line">        <span class="comment">// 浮点数减去整数部分，得到小数部分，小数部分乘以100 后再取整得到2 位小数</span></div><div class="line">        <span class="keyword">long</span> xiao = Math.round((num - zheng) * <span class="number">100</span>);</div><div class="line">        <span class="keyword">return</span> <span class="keyword">new</span> String[]&#123;zheng + <span class="string">""</span>, String.valueOf(xiao)&#125;;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line"><span class="comment">     * 把一个四位的数字字符串变成汉字字符串</span></div><div class="line"><span class="comment">     * <span class="doctag">@param</span> numStr</span></div><div class="line"><span class="comment">     * <span class="doctag">@return</span></span></div><div class="line"><span class="comment">     */</span></div><div class="line">    <span class="function"><span class="keyword">private</span> String <span class="title">toHanStr</span><span class="params">(String numStr)</span></span>&#123;</div><div class="line">        String result = <span class="string">""</span>;</div><div class="line">        <span class="keyword">int</span> numLen = numStr.length();</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt; numLen; i++)&#123;</div><div class="line">            <span class="keyword">int</span> num = Integer.parseInt(numStr.charAt(i) + <span class="string">""</span>);</div><div class="line">            <span class="comment">// 如果不是最后以位数字，而且数字不是零，则需要添加单位（千、百、十）</span></div><div class="line">            <span class="keyword">if</span>(i != numLen -<span class="number">1</span> &amp;&amp; num != <span class="number">0</span>)&#123;</div><div class="line">                result += hanArr[num] + unitArr[numLen - <span class="number">2</span> - i];</div><div class="line">            &#125; <span class="keyword">else</span> &#123;</div><div class="line">                result += hanArr[num];</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> result;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">        Num2Rmb nr = <span class="keyword">new</span> Num2Rmb();</div><div class="line">        System.out.println(Arrays.toString(nr.divide(<span class="number">236711125.123</span>)));</div><div class="line">        System.out.println(nr.toHanStr(<span class="string">"6109"</span>));</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</div><div class="tags"><a href="/tags/疯狂-Java-讲义/">疯狂 Java 讲义</a></div><div class="post-nav"><a class="pre" href="/2020-01-05-疯狂Java讲义/疯狂Java讲义C5.html">第 5 章 面向对象（上）</a><a class="next" href="/2020-01-03-疯狂Java讲义/疯狂Java讲义C3.html">第 3 章 数据类型和运算符</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://yoursite.com"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/IO/">IO</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/JVM/">JVM</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/LVS/">LVS</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Nginx/">Nginx</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring-Cloud/">Spring Cloud</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/SpringCloud/">SpringCloud</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Srping-Boot/">Srping Boot</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/ZooKeeper/">ZooKeeper</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/css/">css</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/vue/">vue</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/加解密技术/">加解密技术</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/吉他/">吉他</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/多线程/">多线程</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/心情/">心情</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/操作系统/">操作系统</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据库/">数据库</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/消息队列/">消息队列</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/疯狂-Java-讲义/">疯狂 Java 讲义</a><span class="category-list-count">16</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/算法/">算法</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/网络/">网络</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/计划/">计划</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/设计模式/">设计模式</a><span class="category-list-count">4</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/网络/" style="font-size: 15px;">网络</a> <a href="/tags/计划/" style="font-size: 15px;">计划</a> <a href="/tags/Hexo/" style="font-size: 15px;">Hexo</a> <a href="/tags/SFTP/" style="font-size: 15px;">SFTP</a> <a href="/tags/Oracle/" style="font-size: 15px;">Oracle</a> <a href="/tags/MQTT/" style="font-size: 15px;">MQTT</a> <a href="/tags/Kafka/" style="font-size: 15px;">Kafka</a> <a href="/tags/PGP/" style="font-size: 15px;">PGP</a> <a href="/tags/心情/" style="font-size: 15px;">心情</a> <a href="/tags/Samba/" style="font-size: 15px;">Samba</a> <a href="/tags/NIO/" style="font-size: 15px;">NIO</a> <a href="/tags/Redis/" style="font-size: 15px;">Redis</a> <a href="/tags/Nginx/" style="font-size: 15px;">Nginx</a> <a href="/tags/Blog/" style="font-size: 15px;">Blog</a> <a href="/tags/SpringCloud/" style="font-size: 15px;">SpringCloud</a> <a href="/tags/LVS/" style="font-size: 15px;">LVS</a> <a href="/tags/Linux/" style="font-size: 15px;">Linux</a> <a href="/tags/IO/" style="font-size: 15px;">IO</a> <a href="/tags/Eureka/" style="font-size: 15px;">Eureka</a> <a href="/tags/JVM/" style="font-size: 15px;">JVM</a> <a href="/tags/Srping-Boot/" style="font-size: 15px;">Srping Boot</a> <a href="/tags/吉他/" style="font-size: 15px;">吉他</a> <a href="/tags/css/" style="font-size: 15px;">css</a> <a href="/tags/vue/" style="font-size: 15px;">vue</a> <a href="/tags/多线程/" style="font-size: 15px;">多线程</a> <a href="/tags/算法/" style="font-size: 15px;">算法</a> <a href="/tags/疯狂-Java-讲义/" style="font-size: 15px;">疯狂 Java 讲义</a> <a href="/tags/Observer/" style="font-size: 15px;">Observer</a> <a href="/tags/ZooKeeper/" style="font-size: 15px;">ZooKeeper</a> <a href="/tags/设计模式/" style="font-size: 15px;">设计模式</a> <a href="/tags/Singleton/" style="font-size: 15px;">Singleton</a> <a href="/tags/Proxy/" style="font-size: 15px;">Proxy</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="https://blog.jamespan.me/" title="小鶸の道场" target="_blank">小鶸の道场</a><ul></ul><a href="https://www.haomwei.com/" title="屠城" target="_blank">屠城</a><ul></ul><a href="http://www.ruanyifeng.com/home.html" title="阮一峰" target="_blank">阮一峰</a><ul></ul><a href="https://www.cnblogs.com/jingmoxukong/" title="静默虚空" target="_blank">静默虚空</a><ul></ul><a href="https://blog.hushhw.cn/" title="hushhw" target="_blank">hushhw</a><ul></ul><a href="https://hasaik.com/" title="hasaik" target="_blank">hasaik</a><ul></ul><a href="https://www.imalan.cn/" title="三无计划" target="_blank">三无计划</a><ul></ul><a href="https://i-meto.com/" title="meto" target="_blank">meto</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2020 <a href="/." rel="nofollow">悟空.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>